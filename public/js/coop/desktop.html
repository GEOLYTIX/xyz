<!DOCTYPE html>
<html lang="en">

<head data-dir="{{:dir}}">
    <title>The Community Wellbeing Index</title>
    <link rel="icon" type="image/x-icon" href="{{:dir}}/favicon.ico" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" href="{{:dir}}/css/control.css" />

    <script src="{{:dir}}/js/build/xyz_control_bundle.js" defer></script>

    <!-- Original github source disabled -->
    <!--<script type="application/javascript" src="{{:dir}}/proxy/cdn?uri=https://raw.githubusercontent.com/GEOLYTIX/coop/master/desktop.js&type=application/javascript" defer></script>-->

    <!-- Stored locally for development purpose -->
    <script type="application/javascript" src="{{:dir}}/js/coop/desktop.js" defer></script>

    <style>
        
        * {
            font-family: arial;
        }

        .viewport {
            margin: 30px;
            -webkit-box-shadow: 2px -2px 7px 2px rgba(187,187,187,1);
            -moz-box-shadow: 2px -2px 7px 2px rgba(187,187,187,1);
            box-shadow: 2px -2px 7px 2px rgba(187,187,187,1);
        }

        .grid {
            display: grid;
            grid-gap: 5mm;
            margin: 30px;
        }

        .grid-container {
            display: grid;
            grid-gap: 5mm;
        }

        /* map */
        #_map {
            height: 600px;
            grid-row: 1;
            grid-column: 2;
        }

        #_map>._attribution {
            z-index: 999;
            position: absolute;
            bottom: 0;
            width: 100%;
            text-overflow: ellipsis;
            overflow: hidden;
            text-align: right;
            white-space: nowrap;
            background-color: #fff;
            opacity: 0.9;
            padding: 5px;
            font-size: 10px;
            font-weight: bold;
        }

        #layer_dropdown, #core_layer_themes_dropdown {
            border-top: solid 2px;
        }

        #layer_dropdown {
            grid-row: 1;
            grid-column: 1;
            z-index: 1005;
        }

        #core_layer_themes_dropdown {
            grid-row: 1;
            grid-column: 3;
            z-index: 1005;
            align-content: right;
            /*width: 350px;
            position: relative;
            top: 0;
            left: calc(100% - 350px);*/
        }

    </style>

</head>

<body>

    <div class="viewport">

    <div class="grid-container" style="grid-template-columns: 1fr 1fr 1fr;">

        <div id="layer_dropdown"></div>
        <div id="core_layer_themes_dropdown"></div>
    
    </div>

    <div class="grid" style="grid-template-columns: 1fr 2fr;">
        
       <!--<div id="layer_dropdown"></div>
       <div id="core_layer_themes_dropdown"></div>-->

        <div id="_map">
            <div class="_attribution">
                <a target="_blank" href="https://github.com/geolytix/xyz">GEOLYTIX XYZ</a>;
                <a target="_blank" href="https://leafletjs.com/">Leaflet</a>;
                <a target="_blank" href="https://www.mapbox.com">© Mapbox</a>;
                <a target="_blank" href="https://www.openstreetmap.org/copyright">© OpenStreetMap</a>
            </div>
        </div>

    </div>
    </div>

</body>

</html>
