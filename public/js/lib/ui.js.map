{
  "version": 3,
  "sources": ["../../public/js/lib/ui/layers/view.js", "../../public/js/lib/ui/layers/listview.js", "../../public/js/lib/ui/layers/filters.js", "../../public/js/lib/ui/layers/panels/draw.js", "../../public/js/lib/ui/layers/panels/filter.js", "../../public/js/lib/ui/layers/panels/dataviews.js", "../../public/js/lib/ui/layers/panels/reports.js", "../../public/js/lib/ui/layers/panels/style.js", "../../public/js/lib/ui/layers/styles/categorized.js", "../../public/js/lib/ui/layers/styles/graduated.js", "../../public/js/lib/ui/layers/styles/grid.js", "../../public/js/lib/ui/layers/styles/basic.js", "../../public/js/lib/ui/layers/_layers.js", "../../public/js/lib/ui/locations/view.js", "../../public/js/lib/ui/locations/listview.js", "../../public/js/lib/ui/locations/infoj.js", "../../public/js/lib/ui/locations/entries/boolean.js", "../../public/js/lib/ui/locations/entries/dataview.js", "../../public/js/lib/ui/locations/entries/date.js", "../../public/js/lib/ui/locations/entries/documents.js", "../../public/js/lib/ui/locations/entries/geometry.js", "../../public/js/lib/ui/locations/entries/images.js", "../../public/js/lib/ui/locations/entries/isoline.js", "../../public/js/lib/ui/locations/entries/json.js", "../../public/js/lib/ui/locations/entries/numeric.js", "../../public/js/lib/ui/locations/entries/pin.js", "../../public/js/lib/ui/locations/entries/report.js", "../../public/js/lib/ui/locations/entries/streetview.js", "../../public/js/lib/ui/locations/entries/tab.js", "../../public/js/lib/ui/locations/entries/text.js", "../../public/js/lib/ui/locations/entries/textarea.js", "../../public/js/lib/ui/locations/entries/_entries.js", "../../public/js/lib/ui/locations/_locations.js", "../../public/js/lib/ui/dataviews/table.js", "../../public/js/lib/ui/dataviews/chart.js", "../../public/js/lib/ui/dataviews/_dataview.js", "../../public/js/lib/ui/Tabview.js", "../../public/js/lib/ui/elements/card.js", "../../public/js/lib/ui/elements/chkbox.js", "../../public/js/lib/ui/elements/contextMenu.js", "../../public/js/lib/ui/elements/drawer.js", "../../public/js/lib/ui/elements/drawing.js", "../../public/js/lib/ui/elements/dropdown.js", "../../public/js/lib/ui/elements/dropdown_multi.js", "../../public/js/lib/ui/elements/isoline_params_here.js", "../../public/js/lib/ui/elements/isoline_params_mapbox.js", "../../public/js/lib/ui/elements/legendIcon.js", "../../public/js/lib/ui/elements/slider.js", "../../public/js/lib/ui/elements/slider_ab.js", "../../public/js/lib/ui/elements/toolbar_el.js", "../../public/js/lib/ui/elements/_elements.js", "../../public/js/lib/ui/utils/Chart.js", "../../public/js/lib/ui/utils/Tabulator.js", "../../public/js/lib/ui/utils/idleMask.js", "../../public/js/lib/ui/utils/imagePreview.js", "../../public/js/lib/ui/utils/resizeHandler.js", "../../public/js/lib/ui/utils/_utils.js", "../../public/js/lib/ui/gazetteer.js", "../../public/js/lib/ui.js"],
  "sourcesContent": ["mapp.utils.merge(mapp.dictionaries, {\n  en: {\n    layer_zoom_to_extent: \"Zoom to filtered layer extent\",\n    layer_visibility: \"Toggle visibility\"\n  },\n  de: {\n    layer_zoom_to_extent: \"Zoom zum Ausmaß des gefilterten Datensatzes\",\n    layer_visibility: \"Umschalten der Ansicht\"\n  },\n  cn: {\n    layer_zoom_to_extent: \"缩放至相应筛选范围\",\n    layer_visibility: \"切换可见性\"\n  },\n  pl: {\n    layer_zoom_to_extent: \"Pokaż zasięg warstwy\",\n    layer_visibility: \"Widoczność\"\n  },\n  ko: {\n    layer_zoom_to_extent: \"필터된 레이어크기에 줌(zoom)\",\n    layer_visibility: \"토글 가시성\"\n  },\n  fr: {\n    layer_zoom_to_extent: \"Zoom sur l'étendue de la couche\",\n    layer_visibility: \"Changer la visiblité\"\n  },\n  ja: {\n    layer_zoom_to_extent: \"フィルターされたレイヤー範囲をズームに\",\n    layer_visibility: \"表示切替\"\n  }\n});\nexport default (layer) => {\n  const fullScreen = mapp.utils.html`\n    <button\n      title=${mapp.dictionary.layer_zoom_to_extent}\n      class=\"mask-icon fullscreen\"\n      onclick=${(e) => {\n    layer.zoomToExtent();\n  }}>`;\n  const toggleDisplay = mapp.utils.html.node`\n    <button\n      data-id=display-toggle\n      title=${mapp.dictionary.layer_visibility}\n      class=\"${`mask-icon toggle ${layer.display && \"on\" || \"off\"}`}\"\n      onclick=${(e) => {\n    layer.display ? layer.hide() : layer.show();\n  }}>`;\n  const header = mapp.utils.html`\n    <h2>${layer.name || layer.key}</h2>\n    <div class=\"mask-icon expander\"></div>\n    ${fullScreen}\n    ${toggleDisplay}`;\n  const content = Object.keys(layer).map((key) => mapp.ui.layers.panels[key] && mapp.ui.layers.panels[key](layer)).filter((panel) => typeof panel !== \"undefined\");\n  if (layer.meta) {\n    const meta = mapp.utils.html.node`<p class=\"meta\">`;\n    meta.innerHTML = layer.meta;\n    content.unshift(meta);\n  }\n  layer.view = mapp.ui.elements.drawer({\n    data_id: `layer-drawer`,\n    class: \"layer-view\",\n    header,\n    content\n  });\n  layer.view.addEventListener(\"displayTrue\", () => {\n    toggleDisplay.classList.add(\"on\");\n    layer.tabs?.forEach((tab) => tab.display && tab.show());\n  });\n  layer.view.addEventListener(\"displayFalse\", () => {\n    toggleDisplay.classList.remove(\"on\");\n    layer.tabs?.forEach((tab) => tab.remove());\n  });\n  layer.mapview.Map.getTargetElement().addEventListener(\"changeEnd\", () => {\n    if (!layer.tables)\n      return;\n    if (layer.tableCurrent() === null)\n      return layer.view.classList.add(\"disabled\");\n    layer.view.classList.remove(\"disabled\");\n  });\n  layer.view.children.length <= 1 && layer.view.classList.add(\"empty\");\n};\n", "import view from \"./view.js\";\nmapp.utils.merge(mapp.dictionaries, {\n  en: {\n    layer_group_hide_layers: \"Toggle all layers in group\"\n  },\n  de: {\n    layer_group_hide_layers: \"Umschalten aller Ebenen in Gruppe\"\n  },\n  cn: {\n    layer_group_hide_layers: \"隐藏图层\"\n  },\n  pl: {\n    layer_group_hide_layers: \"Ukryj warstwy z tej grupy\"\n  },\n  ko: {\n    layer_group_hide_layers: \"그룹에서 레이어 숨기기\"\n  },\n  fr: {\n    layer_group_hide_layers: \"Cacher les couches du groupe\"\n  },\n  ja: {\n    layer_group_hide_layers: \"グループからレイヤーを隠す\"\n  }\n});\nexport default function(params) {\n  if (!params.mapview)\n    return;\n  if (!params.target)\n    return;\n  const listview = {\n    node: params.target,\n    groups: {}\n  };\n  Object.values(params.mapview.layers).forEach((layer) => add(layer));\n  function add(layer) {\n    if (layer.hidden)\n      return;\n    view(layer);\n    if (!layer.group) {\n      listview.node.appendChild(layer.view);\n      return;\n    }\n    if (!listview.groups[layer.group])\n      createGroup(layer);\n    listview.groups[layer.group].addLayer(layer);\n  }\n  function createGroup(layer) {\n    const group = {\n      list: []\n    };\n    listview.groups[layer.group] = group;\n    const hideLayers = mapp.utils.html.node`\n      <button\n        class=\"mask-icon toggle\"\n        title=${mapp.dictionary.layer_group_hide_layers}\n        onclick=${(e) => {\n      e.target.classList.toggle(\"on\");\n      if (e.target.classList.contains(\"on\")) {\n        group.list.filter((layer2) => !layer2.display).forEach((layer2) => layer2.show());\n        return;\n      }\n      group.list.filter((layer2) => layer2.display).forEach((layer2) => layer2.hide());\n    }}>`;\n    group.meta = mapp.utils.html.node`<div class=\"meta\">`;\n    group.drawer = mapp.ui.elements.drawer({\n      data_id: `layer-drawer`,\n      class: \"layer-group\",\n      header: mapp.utils.html`\n        <h2>${layer.group}</h2>\n        <div class=\"mask-icon expander\"></div>\n        ${hideLayers}`,\n      content: group.meta\n    });\n    listview.node.appendChild(group.drawer);\n    group.chkVisibleLayer = () => {\n      group.list.some((layer2) => layer2.display) ? hideLayers.classList.add(\"on\") : hideLayers.classList.remove(\"on\");\n    };\n    group.addLayer = (layer2) => {\n      layer2.group = group;\n      if (layer2.groupmeta) {\n        const metaContent = group.meta.appendChild(mapp.utils.html.node`<div>`);\n        metaContent.innerHTML = layer2.groupmeta;\n      }\n      group.list.push(layer2);\n      group.drawer.appendChild(layer2.view);\n      group.chkVisibleLayer();\n      layer2.view.addEventListener(\"displayTrue\", () => group.chkVisibleLayer());\n      layer2.view.addEventListener(\"displayFalse\", () => group.chkVisibleLayer());\n    };\n  }\n}\n", "export default {\n  like: filter_text,\n  match: filter_text,\n  numeric: filter_numeric,\n  integer: filter_numeric,\n  in: filter_in,\n  date: filter_date,\n  datetime: filter_date,\n  boolean: filter_boolean\n};\nlet timeout;\nfunction applyFilter(layer, zoom) {\n  clearTimeout(timeout);\n  timeout = setTimeout(() => {\n    timeout = null;\n    layer.reload();\n  }, 500);\n}\nfunction filter_text(layer, entry) {\n  return mapp.utils.html`\n  <input\n    type=\"text\"\n    onkeyup=${(e) => {\n    if (!e.target.value.length) {\n      delete layer.filter.current[entry.filter.field];\n    } else {\n      layer.filter.current[entry.filter.field] = {\n        [entry.filter.type]: encodeURIComponent(e.target.value)\n      };\n    }\n    applyFilter(layer);\n  }}>`;\n}\nfunction filter_boolean(layer, entry) {\n  return mapp.ui.elements.chkbox({\n    label: entry.label || entry.title || \"chkbox\",\n    onchange: (checked) => {\n      layer.filter.current[entry.filter.field] = {\n        boolean: checked\n      };\n      layer.reload();\n    }\n  });\n}\nasync function filter_numeric(layer, entry) {\n  const fieldStats = await mapp.utils.xhr(`${layer.mapview.host}/api/query?${mapp.utils.paramString({\n    template: \"field_stats\",\n    locale: layer.mapview.locale.key,\n    layer: layer.key,\n    table: layer.tableCurrent(),\n    field: entry.field\n  })}`);\n  if (!fieldStats)\n    return;\n  const step = entry.filter.type === \"integer\" ? 1 : 0.01;\n  layer.filter.current[entry.field] = Object.assign({\n    gte: Number(fieldStats.min),\n    lte: Number(fieldStats.max)\n  }, layer.filter.current[entry.field]);\n  applyFilter(layer);\n  return mapp.ui.elements.slider_ab({\n    min: fieldStats.min,\n    max: fieldStats.max,\n    step,\n    label_a: \"Greater than\",\n    val_a: fieldStats.min,\n    callback_a: (e) => {\n      layer.filter.current[entry.field].gte = Number(e.target.value);\n      applyFilter(layer);\n    },\n    label_b: \"Lesser than\",\n    val_b: fieldStats.max,\n    callback_b: (e) => {\n      layer.filter.current[entry.field].lte = Number(e.target.value);\n      applyFilter(layer);\n    }\n  });\n}\nasync function filter_in(layer, entry) {\n  if (entry.filter.distinct) {\n    const response = await mapp.utils.xhr(`${layer.mapview.host}/api/query?` + mapp.utils.paramString({\n      template: \"distinct_values\",\n      dbs: layer.dbs,\n      table: layer.tableCurrent(),\n      field: entry.field\n    }));\n    entry.filter.in = response.map((r) => r[entry.field]).filter((f) => f !== null);\n  }\n  const chkSet = new Set(layer.filter?.current[entry.filter.field]?.in || []);\n  if (entry.filter.dropdown) {\n    return mapp.ui.elements.dropdown_multi({\n      placeholder: \"Select Multiple\",\n      entries: entry.filter.in.map((val) => ({\n        title: val,\n        option: val\n      })),\n      callback: async (e, options) => {\n        Object.assign(layer.filter.current, {\n          [entry.filter.field]: {\n            in: options\n          }\n        });\n        layer.reload();\n      }\n    });\n  }\n  return entry.filter.in.map((val) => mapp.ui.elements.chkbox({\n    val,\n    label: val,\n    checked: chkSet.has(val),\n    onchange: (checked, val2) => {\n      if (checked) {\n        if (!layer.filter.current[entry.filter.field])\n          layer.filter.current[entry.filter.field] = {};\n        if (!layer.filter.current[entry.filter.field].in) {\n          layer.filter.current[entry.filter.field].in = [];\n        }\n        layer.filter.current[entry.filter.field].in.push(encodeURIComponent(val2));\n      } else {\n        let idx = layer.filter.current[entry.filter.field][\"in\"].indexOf(encodeURIComponent(val2));\n        layer.filter.current[entry.filter.field].in.splice(idx, 1);\n        if (!layer.filter.current[entry.filter.field].in.length) {\n          delete layer.filter.current[entry.filter.field].in;\n        }\n      }\n      layer.reload();\n    }\n  }));\n}\nfunction filter_date(layer, entry) {\n  const inputAfter = mapp.utils.html.node`\n    <input\n      data-id=\"inputAfter\"\n      onchange=${onClose}\n      type=${entry.type === \"datetime\" && \"datetime-local\" || \"date\"}>`;\n  const inputBefore = mapp.utils.html.node`\n    <input\n      data-id=\"inputBefore\"\n      onchange=${onClose}\n      type=${entry.type === \"datetime\" && \"datetime-local\" || \"date\"}>`;\n  function onClose(e) {\n    if (e.target.dataset.id === \"inputAfter\") {\n      layer.filter.current[entry.field] = Object.assign(layer.filter.current[entry.field] || {}, {\n        gt: new Date(e.target.value).getTime() / 1e3\n      });\n    }\n    if (e.target.dataset.id === \"inputBefore\") {\n      layer.filter.current[entry.field] = Object.assign(layer.filter.current[entry.field] || {}, {\n        lt: new Date(e.target.value).getTime() / 1e3\n      });\n    }\n    layer.reload();\n  }\n  return mapp.utils.html`\n    <div style=\"\n      display: grid;\n      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));\n      grid-gap: 5px;\">\n      <label>Date after\n        ${inputAfter}</label>\n      <label>Date before\n        ${inputBefore}</label>`;\n}\n", "mapp.utils.merge(mapp.dictionaries, {\n  en: {\n    layer_add_new_location: \"Add new locations\"\n  },\n  de: {\n    layer_add_new_location: \"Erstelle neue Lage\"\n  },\n  cn: {\n    layer_add_new_location: \"数据检视\"\n  },\n  pl: {\n    layer_add_new_location: \"Dodaj nowe miejsca\"\n  },\n  ko: {\n    layer_add_new_location: \"새로운 위치 추가\"\n  },\n  fr: {\n    layer_add_new_location: \"Ajouter des nouveaux lieux\"\n  },\n  ja: {\n    layer_add_new_location: \"新しいロケーションを追加\"\n  }\n});\nexport default (layer) => {\n  const options = {\n    layer,\n    srid: layer.srid,\n    edit: layer.edit,\n    mapview: layer.mapview\n  };\n  const cards = typeof layer.edit === \"object\" && Object.keys(layer.edit).map((key) => mapp.ui.elements.drawing[key] && mapp.ui.elements.drawing[key](options, draw)).filter((node) => !!node);\n  if (!cards)\n    return;\n  const panel = mapp.ui.elements.drawer({\n    data_id: `draw-drawer`,\n    class: \"lv-1\",\n    header: mapp.utils.html`\n      <h3>${mapp.dictionary.layer_add_new_location}</h3>\n      <div class=\"mask-icon expander\"></div>`,\n    content: mapp.utils.html`\n      ${cards}`\n  });\n  return panel;\n};\nfunction draw(e, options) {\n  const btn = e.target;\n  if (btn.classList.contains(\"active\")) {\n    btn.classList.remove(\"active\");\n    options.mapview.interactions.highlight();\n    return;\n  }\n  btn.classList.add(\"active\");\n  options.layer.show();\n  options.layer.view.querySelector(\".header\").classList.add(\"edited\", \"active\");\n  options.mapview.interactions.draw({\n    type: options.type,\n    geometryFunction: options.geometryFunction,\n    tooltip: options.tooltip,\n    srid: options.srid,\n    callback: async (feature) => {\n      if (feature) {\n        const location = await mapp.location.create({\n          layer: options.layer,\n          geometry: feature.geometry\n        });\n        options.layer.reload();\n        mapp.location.get(location);\n      }\n      options.layer.view.querySelector(\".header\").classList.remove(\"edited\", \"active\");\n      if (btn.classList.contains(\"active\")) {\n        btn.classList.remove(\"active\");\n        options.mapview.interactions.highlight();\n      }\n    }\n  });\n}\n", "mapp.utils.merge(mapp.dictionaries, {\n  en: {\n    layer_filter_header: \"Filter\",\n    layer_filter_select: \"Select filter from list\"\n  },\n  de: {\n    layer_filter_header: \"Filter\",\n    layer_filter_select: \"Filter Auswahl\"\n  },\n  cn: {\n    layer_filter_header: \"筛选\",\n    layer_filter_select: \"从列表筛选\"\n  },\n  pl: {\n    layer_filter_header: \"Filtruj\",\n    layer_filter_select: \"Wybierz filtr z listy\"\n  },\n  ko: {\n    layer_filter_header: \"필터\",\n    layer_filter_select: \"리스트로 부터 필터 선택\"\n  },\n  fr: {\n    layer_filter_header: \"Filtres\",\n    layer_filter_select: \"Choisir un filtre dans la liste\"\n  },\n  ja: {\n    layer_filter_header: \"フィルター\",\n    layer_filter_select: \"リストからフィルターを選択\"\n  }\n});\nexport default (layer) => {\n  if (!layer.infoj?.some((entry) => entry.filter))\n    return;\n  layer.filter.list = layer.infoj.filter((entry) => entry.filter);\n  const dropdown = mapp.ui.elements.dropdown({\n    data_id: `${layer.key}-filter-dropdown`,\n    placeholder: mapp.dictionary.layer_filter_select,\n    entries: layer.filter.list,\n    callback: async (e, entry) => {\n      layer.filter.view.querySelector(\"[data-id=clearall]\").style.display = \"block\";\n      if (entry.filter.card)\n        return;\n      entry.filter.field = entry.filter.field || entry.field;\n      entry.filter.remove = () => {\n        delete layer.filter.current[entry.filter.field];\n        delete entry.filter.card;\n        layer.reload();\n        layer.filter.view.querySelector(\"[data-id=clearall]\").style.display = layer.filter.view.children.length === 3 ? \"none\" : \"block\";\n      };\n      if (!mapp.ui.layers.filters[entry.filter.type])\n        return;\n      entry.filter.field = entry.filter.field || entry.field;\n      const input = await mapp.ui.layers.filters[entry.filter.type](layer, entry);\n      entry.filter.card = layer.filter.view.appendChild(mapp.ui.elements.card({\n        header: entry.filter_title || entry.title,\n        close: entry.filter.remove,\n        content: input\n      }));\n    }\n  });\n  const clearAll = mapp.utils.html`\n    <button\n      data-id=clearall\n      class=\"primary-colour\"\n      style=\"display: none; margin-bottom: 5px;\"\n      onclick=${(e) => {\n    layer.filter.list.filter((entry) => entry.filter.card).forEach((entry) => {\n      entry.filter.card.querySelector(\"[data-id=close]\").click();\n    });\n    layer.reload();\n  }}>${mapp.dictionary.layer_filter_clear_all}`;\n  layer.filter.view = mapp.ui.elements.drawer({\n    data_id: `filter-drawer`,\n    class: \"lv-1\",\n    header: mapp.utils.html`\n      <h3>${mapp.dictionary.layer_filter_header}</h3>\n      <div class=\"mask-icon expander\"></div>`,\n    content: mapp.utils.html`\n      ${dropdown}\n      ${clearAll}`\n  });\n  return layer.filter.view;\n};\n", "mapp.utils.merge(mapp.dictionaries, {\n  en: {\n    layer_dataview_header: \"Data Views\"\n  },\n  de: {\n    layer_dataview_header: \"Datenansichten\"\n  },\n  cn: {\n    layer_dataview_header: \"数据检视\"\n  },\n  pl: {\n    layer_dataview_header: \"Widoki danych\"\n  },\n  ko: {\n    layer_dataview_header: \"데이터 보기\"\n  },\n  fr: {\n    layer_dataview_header: \"Vues des données\"\n  },\n  ja: {\n    layer_dataview_header: \"データビュー\"\n  }\n});\nexport default (layer) => {\n  const dataviewChkboxes = Object.entries(layer.dataviews).map((entry) => {\n    const dataview = Object.assign(entry[1], {\n      key: entry[0],\n      layer,\n      host: layer.mapview.host\n    });\n    const tabview = document.querySelector(`[data-id=${dataview.target}]`);\n    if (!tabview)\n      return;\n    mapp.ui.Dataview(dataview).then((dv) => {\n      layer.display && dv.display && dv.show();\n    });\n    tabview.dispatchEvent(new CustomEvent(\"addTab\", {\n      detail: dataview\n    }));\n    layer.tabs ? layer.tabs.push(dataview) : layer.tabs = [dataview];\n    return mapp.ui.elements.chkbox({\n      label: dataview.title || dataview.key,\n      checked: !!dataview.display,\n      onchange: (checked) => {\n        dataview.display = checked;\n        dataview.display ? dataview.show() : dataview.remove();\n      }\n    });\n  });\n  const drawer = mapp.ui.elements.drawer({\n    data_id: `dataviews-drawer`,\n    class: \"lv-1\",\n    header: mapp.utils.html`\n      <h3>${mapp.dictionary.layer_dataview_header}</h3>\n      <div class=\"mask-icon expander\"></div>`,\n    content: mapp.utils.html`${dataviewChkboxes}`\n  });\n  return drawer;\n};\n", "export default (layer) => {\n  const reportLinks = Object.keys(layer.reports).map((key) => {\n    const report = layer.reports[key];\n    report.key = key;\n    report.host = layer.mapview.host;\n    const href = `${report.host}/view?${mapp.utils.paramString({\n      template: report.template,\n      lat: mapp.hooks.current?.lat,\n      lng: mapp.hooks.current?.lng,\n      z: mapp.hooks.current?.z\n    })}`;\n    return mapp.utils.html`\n      <a\n        class=\"link-with-img\"\n        target=\"_blank\"\n        href=\"${href}\">\n        <div class=\"mask-icon event-note\"></div>\n        <span>${report.title || report.key}`;\n  });\n  const drawer = mapp.ui.elements.drawer({\n    data_id: `reports-drawer`,\n    class: \"lv-1\",\n    header: mapp.utils.html`\n      <h4>Reports</h4>\n      <div class=\"mask-icon expander\"></div>`,\n    content: mapp.utils.html`${reportLinks}`\n  });\n  return drawer;\n};\n", "mapp.utils.merge(mapp.dictionaries, {\n  en: {\n    layer_style_header: \"Style\",\n    layer_style_select_theme: \"Select thematic style\",\n    layer_style_display_labels: \"Display labels\",\n    layer_style_switch_caption: \"Click on labels to switch visibility or \",\n    layer_style_switch_all: \"switch all\",\n    layer_grid_legend_ratio: \"Display colour as a ratio to the size\",\n    layer_style_cluster: \"Multiple locations\"\n  },\n  de: {\n    layer_style_header: \"Stil\",\n    layer_style_select_theme: \"Auswahl eines thematischen Stiles\",\n    layer_style_display_labels: \"Umschalten der Label Ansicht\",\n    layer_style_switch_caption: \"Auswahl der Label schaltet Ansicht um oder \",\n    layer_style_switch_all: \"Alle auswählen\",\n    layer_grid_legend_ratio: \"Farbe im Verhältnis zur Größe\",\n    layer_style_cluster: \"Mehrere Lagen\"\n  },\n  cn: {\n    layer_style_header: \"风格样式\",\n    layer_style_select_theme: \"选择主题风格\",\n    layer_style_display_labels: \"显示标签\",\n    layer_style_switch_caption: \"单击图标以切换可见性 \",\n    layer_style_switch_all: \"全部切换\",\n    layer_grid_legend_ratio: \"显示颜色与尺寸比例\",\n    layer_style_cluster: \"多个地点\"\n  },\n  pl: {\n    layer_style_header: \"Styl\",\n    layer_style_select_theme: \"Wybierz styl tematyczny\",\n    layer_style_display_labels: \"Pokaż etykiety\",\n    layer_style_switch_caption: \"Kliknij etykiety aby zmienić widoczność albo \",\n    layer_style_switch_all: \"zmień wszystkie\",\n    layer_grid_legend_ratio: \"Pokaż kolor w proporcji do rozmiaru\",\n    layer_style_cluster: \"Więcej miejsc\"\n  },\n  ko: {\n    layer_style_header: \"스타일\",\n    layer_style_select_theme: \"주제별 스타일 선택\",\n    layer_style_display_labels: \"라벨 표시\",\n    layer_style_switch_caption: \"가시성 변경을 위해 라벨 클릭 또는 \",\n    layer_style_switch_all: \"모두 변경\",\n    layer_grid_legend_ratio: \"크기비율에 따른 색상 표시\",\n    layer_style_cluster: \"복수 위치\"\n  },\n  fr: {\n    layer_style_header: \"Style\",\n    layer_style_select_theme: \"Choisir un thème dans la liste\",\n    layer_style_display_labels: \"Afficher les étiquettes\",\n    layer_style_switch_caption: \"Cliquer sur l'etiquette pour changer la visiblité ou \",\n    layer_style_switch_all: \"changer tout\",\n    layer_grid_legend_ratio: \"Rapport de coleur et de taille\",\n    layer_style_cluster: \"Plusieurs lieux\"\n  },\n  ja: {\n    layer_style_header: \"スタイル\",\n    layer_style_select_theme: \"テーマスタイルを選択\",\n    layer_style_display_labels: \"ラベルを表示\",\n    layer_style_switch_caption: \"表示切替えには各ラベルをクリックするか \",\n    layer_style_switch_all: \"全表示或いは全非表示\",\n    layer_grid_legend_ratio: \"色はサイズの比率で表示\",\n    layer_style_cluster: \"多数のロケーション\"\n  }\n});\nexport default (layer) => {\n  if (layer.style.hidden)\n    return;\n  const content = [];\n  if (layer.style.label) {\n    const labelCheckbox = mapp.ui.elements.chkbox({\n      data_id: \"labelCheckbox\",\n      label: layer.style.label.title || mapp.dictionary.layer_style_display_labels,\n      checked: !!layer.style.label.display,\n      onchange: (checked) => {\n        layer.style.label.display = checked;\n        layer.L.setStyle(layer.L.getStyle());\n      }\n    });\n    if (layer.style.label.minZoom || layer.style.label.maxZoom) {\n      layer.mapview.Map.getTargetElement().addEventListener(\"changeEnd\", () => {\n        const z = layer.mapview.Map.getView().getZoom();\n        const chkBox = layer.view.querySelector(\"[data-id=labelCheckbox]\");\n        if (z <= layer.style.label.minZoom || z >= layer.style.label.maxZoom) {\n          return chkBox.classList.add(\"disabled\");\n        }\n        chkBox.classList.remove(\"disabled\");\n      });\n    }\n    content.push(labelCheckbox);\n  }\n  if (layer.style.themes && Object.keys(layer.style.themes).length > 1) {\n    content.push(mapp.utils.html`\n      <div>${mapp.dictionary.layer_style_select_theme}</div>\n        ${mapp.ui.elements.dropdown({\n      entries: Object.keys(layer.style.themes).map((key) => ({\n        title: layer.style.themes[key].title || key,\n        option: key\n      })),\n      callback: (e, entry) => {\n        layer.style.theme = layer.style.themes[entry.option];\n        mapp.utils.render(layer.style.drawer.querySelector(\".drawer > .legend\"), mapp.ui.layers.styles[layer.style.theme.type](layer));\n        layer.reload();\n      }\n    })}`);\n  }\n  if (layer.style.theme && !layer.style.themes) {\n    content.push(mapp.utils.html`\n      <h3>${layer.style.theme.title}</h3>`);\n  }\n  layer.style.theme && content.push(mapp.utils.html`\n    <div class=\"legend\">\n      ${mapp.ui.layers.styles[layer.style.theme.type] && mapp.ui.layers.styles[layer.style.theme.type](layer)}`);\n  if (!content.length)\n    return;\n  layer.style.drawer = mapp.ui.elements.drawer({\n    data_id: `style-drawer`,\n    class: \"lv-1\",\n    header: mapp.utils.html`\n      <h3>${mapp.dictionary.layer_style_header}</h3>\n      <div class=\"mask-icon expander\"></div>`,\n    content\n  });\n  return layer.style.drawer;\n};\n", "export default (layer) => {\n  const theme = layer.style.theme;\n  const grid = [];\n  grid.push(mapp.utils.html`\n    <div\n      class=\"switch-all\"\n      style=\"grid-column: 1/3;\">\n      ${mapp.dictionary.layer_style_switch_caption}\n      <button\n        class=\"primary-colour bold\"\n        onclick=${(e) => {\n    e.target.closest(\".legend\").querySelectorAll(\".switch\").forEach((_switch) => _switch.click());\n    layer.reload();\n  }}>${mapp.dictionary.layer_style_switch_all}</button>.`);\n  Object.entries(theme.cat).forEach((cat) => {\n    const cat_style = Object.assign({}, layer.style.default, cat[1].style && cat[1].style.icon || cat[1].style || cat[1]);\n    let icon = mapp.utils.html`\n      <div\n        style=\"height: 24px; width: 24px;\">\n        ${mapp.ui.elements.legendIcon(Object.assign({width: 24, height: 24}, cat_style))}`;\n    let label = mapp.utils.html`\n      <div\n        class=${`label switch ${layer.filter.current[theme.field]?.ni?.indexOf(cat[0]) === 0 ? \"disabled\" : \"\"}`}\n        onclick=${(e) => {\n      e.target.classList.toggle(\"disabled\");\n      if (e.target.classList.contains(\"disabled\")) {\n        if (!layer.filter.current[theme.field]) {\n          layer.filter.current[theme.field] = {};\n        }\n        if (!layer.filter.current[theme.field].ni) {\n          layer.filter.current[theme.field].ni = [];\n        }\n        layer.filter.current[theme.field].ni.push(cat[0]);\n      } else {\n        layer.filter.current[theme.field].ni.splice(layer.filter.current[theme.field].ni.indexOf(cat[0]), 1);\n        if (!layer.filter.current[theme.field].ni.length) {\n          delete layer.filter.current[theme.field];\n        }\n      }\n      layer.reload();\n    }}>${cat[1].label || cat[0]}`;\n    grid.push(mapp.utils.html`\n    <div \n      data-id=${cat[0]}\n      class=\"contents\">\n      ${icon}${label}`);\n  });\n  if (layer.style.cluster) {\n    let icon = mapp.utils.html`\n      <div\n        style=\"height: 40px; width: 40px;\">\n        ${mapp.ui.elements.legendIcon(Object.assign({\n      width: 40,\n      height: 40\n    }, layer.style.default, layer.style.cluster))}`;\n    let label = mapp.utils.html`\n      <div\n        class=\"label\">\n        ${mapp.dictionary.layer_style_cluster}`;\n    grid.push(mapp.utils.html`\n      <div \n        data-id=\"cluster\"\n        class=\"contents\">\n        ${icon}${label}`);\n  }\n  layer.style.legend = mapp.utils.html.node`<div class=\"grid\">${grid}`;\n  return layer.style.legend;\n};\n", "export default (layer) => {\n  const theme = layer.style.theme;\n  const grid = [];\n  theme.cat_arr.forEach((cat) => {\n    const cat_style = Object.assign({}, layer.style.default, cat.style && cat.style.icon || cat.style || cat);\n    let icon = mapp.utils.html`\n      <div\n        style=\"height: 24px; width: 24px;\">\n        ${mapp.ui.elements.legendIcon(Object.assign({width: 24, height: 24}, cat_style))}`;\n    let label = mapp.utils.html`\n      <div class=\"label\">${cat.label || cat.value}`;\n    grid.push(mapp.utils.html`\n      <div \n        data-id=${cat.value}\n        class=\"contents\">\n        ${icon}${label}`);\n  });\n  layer.style.legend = mapp.utils.html.node`<div class=\"grid\">${grid}`;\n  return layer.style.legend;\n};\n", "export default (layer) => {\n  const grid = [];\n  grid.push(mapp.ui.elements.dropdown({\n    entries: Object.entries(layer.grid_fields).map((e) => ({\n      title: e[0],\n      options: e[1]\n    })),\n    callback: (e, entry) => {\n      layer.grid_size = entry.options;\n      layer.reload();\n    }\n  }));\n  const n = layer.style.range.length;\n  const xmlSerializer = new XMLSerializer();\n  const centreBit = mapp.utils.html`\n  <div\n    class=\"grid\"\n    style=${`grid-template-columns: repeat(${n}, 1fr); grid-template-rows: 20px 20px 20px 20px;`}>\n    <div data-id=\"size-labels\" class=\"contents\">\n      <span data-id=\"size-min\" style=\"grid-row:1;grid-column:1;\">min</span>\n      <span data-id=\"size-avg\" style=${`grid-row:1;grid-column:${Math.ceil(n / 2)};text-align:center;`}>avg</span>\n      <span data-id=\"size-max\" style=${`grid-row:1;grid-column:${n};text-align:end;`}>max</span>\n    </div>\n    <div data-id=\"size-icons\" class=\"contents\">\n      ${layer.style.range.map((colour, i) => {\n    let icon = mapp.utils.svg.node`<svg height=50 width=50>\n          <circle\n            fill='#777'\n            cx=27\n            cy=27\n            r='${23 / n * (i + 1)}'/>\n          <circle\n            fill='#999'\n            cx=25\n            cy=25\n            r='${23 / n * (i + 1)}'/>`;\n    let backgroundImage = `data:image/svg+xml,${encodeURIComponent(xmlSerializer.serializeToString(icon))}`;\n    const inlineStyle = `\n          grid-row:2;\n          grid-column:${i + 1};\n          background-position: center;\n          background-repeat: no-repeat;\n          background-size: contain;\n          width: 100%;\n          height: 100%;\n          background-image: url(${backgroundImage});`;\n    return mapp.utils.html`<div style=${inlineStyle}>`;\n  })}\n    </div>\n    <div data-id=\"colour-icons\" class=\"contents\">\n      ${layer.style.range.map((colour, i) => mapp.utils.html`\n        <div style=${`grid-row:3;grid-column:${i + 1};background-color:${colour};width:100%;height:100%;`}>\n      `)}\n    </div>\n    <div data-id=\"colour-labels\" class=\"contents\">\n      <span data-id=\"color-min\" style=\"grid-row:4;grid-column:1;\">min</span>\n      <span data-id=\"color-avg\" style=${`grid-row:4;grid-column:${Math.ceil(n / 2)};text-align:center;`}>avg</span>\n      <span data-id=\"color-max\" style=${`grid-row:4;grid-column:${n};text-align:end;`}>max</span>\n    </div>\n  </div>`;\n  grid.push(centreBit);\n  grid.push(mapp.ui.elements.dropdown({\n    entries: Object.entries(layer.grid_fields).map((e) => ({\n      title: e[0],\n      options: e[1]\n    })),\n    span: Object.keys(layer.grid_fields)[1],\n    callback: (e, entry) => {\n      layer.grid_color = entry.options;\n      layer.reload();\n    }\n  }));\n  grid.push(mapp.ui.elements.chkbox({\n    label: mapp.dictionary.layer_grid_legend_ratio,\n    onchange: (checked) => {\n      layer.grid_ratio = checked;\n      layer.reload();\n    }\n  }));\n  layer.style.legend = mapp.utils.html.node`\n    <div class=\"legend\">${grid}`;\n  layer.style.legend.addEventListener(\"update\", () => {\n    layer.style.legend.querySelector(\"[data-id=size-min]\").textContent = layer.sizeMin.toLocaleString(\"en-GB\", {maximumFractionDigits: 0});\n    layer.style.legend.querySelector(\"[data-id=size-avg]\").textContent = layer.sizeAvg.toLocaleString(\"en-GB\", {maximumFractionDigits: 0});\n    layer.style.legend.querySelector(\"[data-id=size-max]\").textContent = layer.sizeMax.toLocaleString(\"en-GB\", {maximumFractionDigits: 0});\n    if (layer.grid_ratio) {\n      layer.style.legend.querySelector(\"[data-id=color-min]\").textContent = layer.colorMin.toLocaleString(\"en-GB\", {maximumFractionDigits: 0, style: \"percent\"});\n      layer.style.legend.querySelector(\"[data-id=color-avg]\").textContent = layer.colorAvg.toLocaleString(\"en-GB\", {maximumFractionDigits: 0, style: \"percent\"});\n      layer.style.legend.querySelector(\"[data-id=color-max]\").textContent = layer.colorMax.toLocaleString(\"en-GB\", {maximumFractionDigits: 0, style: \"percent\"});\n    } else {\n      layer.style.legend.querySelector(\"[data-id=color-min]\").textContent = layer.colorMin.toLocaleString(\"en-GB\", {maximumFractionDigits: 0});\n      layer.style.legend.querySelector(\"[data-id=color-avg]\").textContent = layer.colorAvg.toLocaleString(\"en-GB\", {maximumFractionDigits: 0});\n      layer.style.legend.querySelector(\"[data-id=color-max]\").textContent = layer.colorMax.toLocaleString(\"en-GB\", {maximumFractionDigits: 0});\n    }\n  });\n  return layer.style.legend;\n};\n", "export default (layer) => {\n  const grid = [];\n  let icon = mapp.utils.html`\n  <div\n    style=\"height: 24px; width: 24px;\">\n    ${mapp.ui.elements.legendIcon(Object.assign({width: 24, height: 24}, layer.style.theme.style))}`;\n  grid.push(mapp.utils.html`\n    <div \n      class=\"contents\">\n      ${icon}<div class=\"label\">${layer.style.theme.label}`);\n  layer.style.legend = mapp.utils.html.node`<div class=\"grid\">${grid}`;\n  return layer.style.legend;\n};\n", "import view from \"./view.js\";\nimport listview from \"./listview.js\";\nimport filters from \"./filters.js\";\nimport edit from \"./panels/draw.js\";\nimport filter from \"./panels/filter.js\";\nimport dataviews from \"./panels/dataviews.js\";\nimport reports from \"./panels/reports.js\";\nimport style from \"./panels/style.js\";\nimport categorized from \"./styles/categorized.js\";\nimport graduated from \"./styles/graduated.js\";\nimport grid from \"./styles/grid.js\";\nimport basic from \"./styles/basic.js\";\nexport default {\n  view,\n  listview,\n  filters,\n  panels: {\n    edit,\n    style,\n    filter,\n    reports,\n    dataviews\n  },\n  styles: {\n    categorized,\n    graduated,\n    grid,\n    basic\n  }\n};\n", "mapp.utils.merge(mapp.dictionaries, {\n  en: {\n    location_zoom: \"Zoom map to feature bounds\",\n    location_save: \"Save changes to cloud\",\n    location_remove: \"Remove feature from selection\",\n    location_delete: \"Delete location\"\n  },\n  de: {\n    location_zoom: \"Ansicht den Lagen Geometrien anpassen\",\n    location_save: \"Speichern der Datenänderungen\",\n    location_remove: \"Lagen Auswahl aufheben\",\n    location_delete: \"Löschen der Lage\"\n  },\n  cn: {\n    location_zoom: \"缩放地图至目标范围\",\n    location_save: \"将更改保存至云\",\n    location_remove: \"删除所选目标要素\",\n    location_delete: \"删除地点\"\n  },\n  pl: {\n    location_zoom: \"Pokaż zasięg miejsca\",\n    location_save: \"Zapisz zmiany\",\n    location_remove: \"Odznacz miejsce\",\n    location_delete: \"Usuń miejsce\"\n  },\n  ko: {\n    location_zoom: \"한계를 포함한 줌 지도\",\n    location_save: \"변경사항 크라우드 저장\",\n    location_remove: \"선택에서 특징 제거\",\n    location_delete: \"위치 삭제\"\n  },\n  fr: {\n    location_zoom: \"Zoom sur le lieu\",\n    location_save: \"Enregistrer les modifications\",\n    location_remove: \"Le désélectionner\",\n    location_delete: \"Supprimer le lieu\"\n  },\n  ja: {\n    location_zoom: \"フィーチャ範囲にはマップをズーム\",\n    location_save: \"クラウドに変更を保存\",\n    location_remove: \"選択からフィーチャー（機能）を削除\",\n    location_delete: \"ロケーションを削除\"\n  }\n});\nexport default (location) => {\n  location.removeCallbacks?.push(function() {\n    location.view.remove();\n  });\n  location.updateCallbacks?.push(function() {\n    location.view.dispatchEvent(new Event(\"updateInfo\"));\n  });\n  const header = [\n    mapp.utils.html`<h2>${location.record.symbol}`,\n    mapp.utils.html`<div class=\"mask-icon expander\">`\n  ];\n  location.infoj.some((entry) => (entry.type === \"pin\" || entry.type === \"geometry\") && entry.value) && header.push(mapp.utils.html`\n    <button\n      title = ${mapp.dictionary.location_zoom}\n      class = \"mask-icon search\"\n      onclick = ${(e) => {\n    location.flyTo();\n  }}>`);\n  if (location.layer.toggleLocationViewEdits) {\n    location.infoj.forEach((entry) => {\n      if (!entry.edit)\n        return;\n      entry._edit = entry.edit;\n      delete entry.edit;\n    });\n    header.push(mapp.utils.html`\n      <button\n        title = \"Enable edits\"\n        class = \"mask-icon build\"\n        onclick = ${(e) => {\n      location.infoj.forEach((entry) => {\n        if (!entry._edit)\n          return;\n        entry.edit = entry._edit;\n        delete entry._edit;\n      });\n      infoj.remove();\n      e.target.style.display = \"none\";\n      infoj = mapp.ui.locations.infoj(location);\n      location.view.appendChild(infoj);\n    }}>`);\n  }\n  header.push(mapp.utils.html`\n    <button\n      title = ${mapp.dictionary.location_save}\n      class = \"mask-icon cloud-upload\"\n      style = \"display: none;\"\n      onclick = ${(e) => {\n    location.view.classList.add(\"disabled\");\n    location.update();\n  }}>`);\n  location.layer.edit && location.layer.edit.delete && header.push(mapp.utils.html`\n    <button\n      title = ${mapp.dictionary.location_delete}\n      class = \"mask-icon trash\"\n      onclick = ${(e) => {\n    location.trash();\n  }}>`);\n  header.push(mapp.utils.html`\n    <button\n      title = ${mapp.dictionary.location_remove}\n      class = \"mask-icon close no\"\n      onclick = ${(e) => {\n    location.remove();\n  }}>`);\n  location.view = mapp.ui.elements.drawer({\n    class: \"location-view expanded\",\n    header\n  });\n  let infoj = location.view.appendChild(mapp.ui.locations.infoj(location));\n  location.view.querySelector(\".header\").style.borderBottom = `3px solid ${location.record.colour}`;\n  location.view.addEventListener(\"valChange\", (e) => {\n    if (e.detail.value != e.detail.newValue) {\n      e.detail.node.classList.add(\"val-changed\");\n    } else {\n      delete e.detail.newValue;\n      e.detail.node.classList.remove(\"val-changed\");\n    }\n    location.view.querySelector(\".cloud-upload\").style.display = location.infoj.some((entry) => typeof entry.newValue !== \"undefined\") && \"inline-block\" || \"none\";\n  });\n  location.view.addEventListener(\"updateInfo\", () => {\n    infoj.remove();\n    location.view.querySelector(\".cloud-upload\").style.display = \"none\";\n    location.view.classList.remove(\"disabled\");\n    infoj = mapp.ui.locations.infoj(location);\n    location.view.appendChild(infoj);\n  });\n};\n", "mapp.utils.merge(mapp.dictionaries, {\n  en: {\n    location_clear_all: \"Clear locations\"\n  },\n  de: {\n    location_clear_all: \"Entferne Auswahl\"\n  },\n  cn: {\n    location_clear_all: \"모든 위치 제거\"\n  },\n  pl: {\n    location_clear_all: \"Wyczyść selekcje\"\n  },\n  ko: {\n    location_clear_all: \"清除所有地点\"\n  },\n  fr: {\n    location_clear_all: \"Desélectionner tous les lieux.\"\n  },\n  ja: {\n    location_clear_all: \"全ロケーションをクリア\"\n  }\n});\nconst list = [\n  {\n    symbol: \"A\",\n    colour: \"#2E6F9E\"\n  },\n  {\n    symbol: \"B\",\n    colour: \"#EC602D\"\n  },\n  {\n    symbol: \"C\",\n    colour: \"#5B8C5A\"\n  },\n  {\n    symbol: \"D\",\n    colour: \"#B84444\"\n  },\n  {\n    symbol: \"E\",\n    colour: \"#514E7E\"\n  },\n  {\n    symbol: \"F\",\n    colour: \"#E7C547\"\n  },\n  {\n    symbol: \"G\",\n    colour: \"#368F8B\"\n  },\n  {\n    symbol: \"H\",\n    colour: \"#841C47\"\n  },\n  {\n    symbol: \"I\",\n    colour: \"#61A2D1\"\n  },\n  {\n    symbol: \"J\",\n    colour: \"#37327F\"\n  }\n];\nexport default (params) => {\n  if (!params.mapview)\n    return;\n  if (!params.target)\n    return;\n  const listview = {\n    node: params.target,\n    mapview: params.mapview\n  };\n  listview.node.appendChild(mapp.utils.html.node`\n    <button \n      class=\"tab-display bold primary-colour text-shadow\"\n      onclick=${(e) => {\n    Object.values(listview.mapview.locations).forEach((location) => location.remove());\n  }}>\n      ${mapp.dictionary.location_clear_all}`);\n  params.mapview.locations = new Proxy(params.mapview.locations, {\n    set: function(target, key, location) {\n      const record = list.find((record2) => !record2.hook);\n      record.hook = location.hook;\n      location.record = record;\n      location.style = {\n        strokeColor: record.colour,\n        fillColor: record.colour,\n        fillOpacity: 0.2\n      };\n      location.Style = mapp.utils.style([\n        {\n          strokeColor: \"#000\",\n          strokeOpacity: 0.1,\n          strokeWidth: 8\n        },\n        {\n          strokeColor: \"#000\",\n          strokeOpacity: 0.1,\n          strokeWidth: 6\n        },\n        {\n          strokeColor: \"#000\",\n          strokeOpacity: 0.1,\n          strokeWidth: 4\n        },\n        {\n          strokeColor: location.style.strokeColor || \"#000\",\n          strokeWidth: 2,\n          fillColor: location.style.fillColor || location.style.strokeColor || \"#fff\",\n          fillOpacity: location.style.fillOpacity || 0.2\n        }\n      ]);\n      location.pinStyle = mapp.utils.style({\n        icon: {\n          type: \"markerLetter\",\n          letter: record.symbol,\n          color: location.style.strokeColor,\n          scale: 3,\n          anchor: [0.5, 1]\n        }\n      });\n      Reflect.set(...arguments);\n      mapp.ui.locations.view(location);\n      Object.values(listview.node.children).forEach((el) => el.classList.remove(\"expanded\"));\n      listview.node.insertBefore(location.view, listview.node.firstChild.nextSibling);\n      location.view.dispatchEvent(new Event(\"addLocationView\"));\n      listview.node.closest(\".tab\").style.display = \"block\";\n      listview.node.closest(\".tab\").click();\n      return true;\n    },\n    deleteProperty: function(target, hook) {\n      Reflect.deleteProperty(...arguments);\n      const record = list.find((record2) => record2.hook === hook);\n      delete record.hook;\n      setTimeout(() => {\n        if (listview.node.children.length > 1)\n          return;\n        const tab = listview.node.closest(\".tab\");\n        tab.style.display = \"none\";\n        tab.previousElementSibling.click();\n      }, 300);\n      return true;\n    }\n  });\n  return listview;\n};\n", "export default (location, infoj) => {\n  if (!location.infoj)\n    return;\n  const listview = mapp.utils.html.node`<div class=\"location-view-grid\">`;\n  const groups = {};\n  for (const entry of infoj || location.infoj) {\n    if (location.view && location.view.classList.contains(\"disabled\"))\n      break;\n    entry.listview = listview;\n    entry.type = entry.type || \"text\";\n    if (entry.skipEntry)\n      continue;\n    if (entry.skipFalsyValue && !entry.value && !entry.edit)\n      continue;\n    if (entry.skipUndefinedValue && typeof entry.value === \"undefined\" && !entry.edit)\n      continue;\n    if (entry.skipNullValue && entry.value === null && !entry.edit)\n      continue;\n    if (entry.nullValue && entry.value === null && !entry.edit)\n      entry.value = entry.nullValue;\n    if (entry.group) {\n      if (!groups[entry.group]) {\n        groups[entry.group] = entry.listview.appendChild(mapp.ui.elements.drawer({\n          class: `lv-1 group ${entry.expanded && \"expanded\" || \"\"}`,\n          header: mapp.utils.html`\n              <h3>${entry.group}</h3>\n              <div class=\"mask-icon expander\"></div>`\n        }));\n      }\n      entry.listview = groups[entry.group];\n    }\n    entry.node = entry.listview.appendChild(mapp.utils.html.node`\n      <div\n        data-type=${entry.type}\n        class=${`contents ${entry.type} ${entry.class || \"\"} ${entry.inline && \"inline\" || \"\"}`}>`);\n    if (entry.title) {\n      entry.node.append(mapp.utils.html.node`\n        <div\n          class=\"label\"\n          style=\"${`${entry.css_title || \"\"}`}\"\n          title=\"${entry.tooltip || null}\">${entry.title}`);\n    }\n    if (entry.value === null || typeof entry.value === \"undefined\") {\n      entry.value = entry.default || entry.value;\n    }\n    const node = mapp.ui.locations.entries[entry.type] && mapp.ui.locations.entries[entry.type](entry);\n    if (node === \"break\")\n      break;\n    node && entry.node.append(node);\n  }\n  return listview;\n};\n", "export default (entry) => {\n  const chkbox = mapp.ui.elements.chkbox({\n    label: entry.label || entry.title,\n    checked: entry.value,\n    disabled: !entry.edit,\n    onchange: (checked) => {\n      entry.newValue = checked;\n      entry.location.view?.dispatchEvent(new CustomEvent(\"valChange\", {\n        detail: entry\n      }));\n    }\n  });\n  const node = mapp.utils.html.node`${chkbox}`;\n  return node;\n};\n", "export default (entry) => {\n  entry.layer = entry.location.layer;\n  entry.host = entry.host || entry.location.layer.mapview.host;\n  if (entry.dependents && entry.dependents.some((dependant) => entry.location.infoj.some((_entry) => !_entry.value && _entry.field === dependant)))\n    delete entry.display;\n  let target;\n  if (typeof entry.target === \"string\" && document.getElementById(entry.target)) {\n    entry.target = document.getElementById(entry.target);\n    mapp.ui.Dataview(entry).then(() => entry.update());\n    return;\n  }\n  const tabview = typeof entry.target === \"string\" && document.querySelector(`[data-id=${entry.target}]`);\n  if (tabview) {\n    delete entry.target;\n    mapp.ui.Dataview(entry).then(() => {\n      entry.tab_style = `border-bottom: 3px solid ${entry.location.style.strokeColor}`;\n      tabview.dispatchEvent(new CustomEvent(\"addTab\", {\n        detail: entry\n      }));\n      entry.display && entry.show();\n    });\n  }\n  ;\n  if (typeof entry.target === \"string\") {\n    target = mapp.utils.html.node`\n      <div\n        class=\"${`location ${entry.class}`}\">`;\n    entry.target = target;\n    entry.display && mapp.ui.Dataview(entry).then(() => entry.update());\n  }\n  const chkbox = entry.label && mapp.ui.elements.chkbox({\n    label: entry.label,\n    checked: !!entry.display,\n    onchange: (checked) => {\n      entry.display = checked;\n      if (target) {\n        target.style.display = entry.display ? \"block\" : \"none\";\n        typeof entry.update === \"function\" && entry.update() || mapp.ui.Dataview(entry).then(() => entry.update());\n        return;\n      }\n      entry.display ? entry.show() : entry.remove();\n    }\n  });\n  const node = mapp.utils.html.node`${chkbox}${target || \"\"}`;\n  return node;\n};\n", "export default (entry) => {\n  let val;\n  if (entry.edit) {\n    val = mapp.utils.html.node`\n      <input\n        type=${entry.type === \"datetime\" && \"datetime-local\" || \"date\"}\n        value=${entry.value && (entry.type === \"datetime\" && new Date(entry.value * 1e3).toISOString().split(\"Z\")[0] || new Date(entry.value * 1e3).toISOString().split(\"T\")[0])}\n        onchange=${(e) => {\n      entry.newValue = new Date(e.target.value).getTime() / 1e3;\n      entry.location.view?.dispatchEvent(new CustomEvent(\"valChange\", {\n        detail: entry\n      }));\n    }}>`;\n  } else {\n    val = entry.value && new Date(entry.value * 1e3).toLocaleString(entry.locale, entry.options);\n  }\n  const node = mapp.utils.html.node`\n    <div\n      class=\"val\"\n      style=\"${`${entry.css_val || \"\"}`}\">\n      ${val}`;\n  return node;\n};\n", "export default (entry) => {\n  const docs = entry.value.map((doc) => mapp.utils.html`\n\t\t<div class=\"link-with-img\">\n      ${entry.edit && mapp.utils.html.node`\n        <button\n          class=\"mask-icon trash no\"\n          data-name=${doc.replace(/.*\\//, \"\").replace(/\\.([\\w-]{3})/, \"\")}\n          data-href=${doc}\n          onclick=${(e) => removeDocument(e)}>\n        </button>`}\t\t\n        <a target=\"_blank\"\n          href=${doc}>${doc.replace(/.*\\//, \"\").replace(/\\.([\\w-]{3})/, \"\")}`);\n  const upLoadBtn = mapp.utils.html.node`\n    <div class=\"mask-icon cloud-upload\">\n      <input\n        style=\"opacity: 0; width: 3em; height: 3em;\"\n        type=\"file\"\n        accept=\".txt,.pdf,.doc,.docx,.xls,.xlsx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document;\"\n        onchange=${upload}>`;\n  entry.edit && docs.push(upLoadBtn);\n  if (!docs.length)\n    return;\n  const docs_list = mapp.utils.html.node`<div>${docs}`;\n  return docs_list;\n  async function upload(e) {\n    entry.location.view?.classList.add(\"disabled\");\n    const reader = new FileReader();\n    const file = e.target.files[0];\n    if (!file)\n      return;\n    reader.onload = async (readerOnload) => {\n      const response = await mapp.utils.xhr({\n        method: \"POST\",\n        requestHeader: {\n          \"Content-Type\": \"application/octet-stream\"\n        },\n        url: `${entry.location.layer.mapview.host}/api/provider/cloudinary?${mapp.utils.paramString({\n          public_id: file.name,\n          resource_type: \"raw\"\n        })}`,\n        body: readerOnload.target.result\n      });\n      const secure_url = response.secure_url;\n      const public_id = response.public_id.replace(/.*\\//, \"\").replace(/\\.([\\w-]{3})/, \"\");\n      await mapp.utils.xhr(`${entry.location.layer.mapview.host}/api/query?` + mapp.utils.paramString({\n        template: \"set_field_array\",\n        locale: entry.location.layer.mapview.locale.key,\n        layer: entry.location.layer.key,\n        table: entry.location.table,\n        qID: entry.location.layer.qID,\n        id: entry.location.id,\n        action: \"append\",\n        field: entry.field,\n        value: secure_url\n      }));\n      const newDoc = mapp.utils.html.node`\n        <div class=\"link-with-img\">\n          <button\n            class=\"mask-icon trash no\"\n            data-name=${public_id}\n            data-href=${secure_url}\n            onclick=${(e2) => removeDocument(e2)}>\n          </button>\n          <a target=\"_blank\"\n            href=${secure_url}>${public_id}`;\n      docs_list.insertBefore(newDoc, upLoadBtn);\n      entry.location.view?.classList.remove(\"disabled\");\n    };\n    reader.readAsDataURL(file);\n    e.target.value = \"\";\n  }\n  async function removeDocument(e) {\n    if (!confirm(\"Remove document link?\"))\n      return;\n    const doc = e.target;\n    mapp.utils.xhr(`${entry.location.layer.mapview.host}/api/provider/cloudinary?${mapp.utils.paramString({\n      destroy: true,\n      public_id: doc.dataset.name\n    })}`);\n    await mapp.utils.xhr(`${entry.location.layer.mapview.host}/api/query?` + mapp.utils.paramString({\n      template: \"set_field_array\",\n      locale: entry.location.layer.mapview.locale.key,\n      layer: entry.location.layer.key,\n      table: entry.location.table,\n      qID: entry.location.layer.qID,\n      id: entry.location.id,\n      action: \"remove\",\n      field: entry.field,\n      value: doc.dataset.href\n    }));\n    doc.parentNode.remove();\n  }\n};\n", "export default (entry) => {\n  entry.value = typeof entry.value === \"string\" && JSON.parse(entry.value) || entry.value;\n  entry.display = entry.display && entry.value;\n  if (!entry.value && !entry.edit)\n    return;\n  entry.Style = entry.Style || typeof entry.style === \"object\" && mapp.utils.style(Object.assign({}, entry.location?.style || {}, entry.style)) || entry.location.Style;\n  entry.show = show;\n  const chkbox = mapp.ui.elements.chkbox({\n    label: entry.label || \"Geometry\",\n    data_id: `${entry.field}-chkbox`,\n    checked: !!entry.display,\n    disabled: !entry.value,\n    onchange: (checked) => {\n      if (checked) {\n        entry.show();\n      } else {\n        entry.display = false;\n        entry.L && entry.location.layer.mapview.Map.removeLayer(entry.L);\n      }\n    }\n  });\n  entry.display && entry.show();\n  const options = {\n    entry,\n    layer: entry.location.layer,\n    srid: entry.srid || entry.location.srid,\n    edit: entry.edit,\n    mapview: entry.location.layer.mapview\n  };\n  const list = typeof entry.edit === \"object\" && Object.keys(entry.edit).map((key) => mapp.ui.elements.drawing[key] && mapp.ui.elements.drawing[key](options, draw)).filter((node) => !!node);\n  entry.edit?.geometry && list.push(mapp.utils.html`\n    <button\n      class=\"flat wide primary-colour\"\n      onclick=${(e) => modify(e, options)}>\n      Modify Geometry`);\n  entry.value && entry.edit?.delete && list.push(mapp.utils.html`\n    <button\n      class=\"flat wide no-colour\"\n      onclick=${() => {\n    if (entry.display) {\n      remove();\n      return;\n    }\n    entry.show();\n    setTimeout(remove, 500);\n    function remove() {\n      if (!confirm(\"Delete Geometry?\"))\n        return;\n      entry.newValue = null;\n      if (entry.L) {\n        entry.location.layer.mapview.Map.removeLayer(entry.L);\n        delete entry.L;\n      }\n      options.entry.location.update();\n    }\n  }}>Delete Geometry`);\n  const icon = entry.style && mapp.utils.html`\n    ${mapp.ui.elements.legendIcon(Object.assign({width: 24, height: 24}, entry.style))}`;\n  if (list) {\n    return mapp.ui.elements.drawer({\n      class: \"lv-2 flat\",\n      data_id: `draw-drawer`,\n      header: mapp.utils.html`\n        ${chkbox}\n        <div class=\"mask-icon expander\"></div>\n        ${icon}`,\n      content: mapp.utils.html`\n        ${list}`\n    });\n  }\n  return mapp.utils.html.node`<div class=\"flex-spacer\">${chkbox}${icon}`;\n};\nfunction show() {\n  this.display = true;\n  const chkbox = this.location.view?.querySelector(`[data-id=${this.field}-chkbox] input`);\n  if (chkbox)\n    chkbox.checked = true;\n  if (this.L) {\n    this.location.layer.mapview.Map.removeLayer(this.L);\n    delete this.L;\n  }\n  this.L = this.location.layer.mapview.geoJSON({\n    zIndex: this.zIndex,\n    geometry: this.value,\n    Style: this.Style,\n    dataProjection: this.srid || this.location?.layer?.srid\n  });\n  this.location.Layers.push(this.L);\n}\nfunction draw(e, options) {\n  const btn = e.target;\n  if (btn.classList.contains(\"active\")) {\n    btn.classList.remove(\"active\");\n    options.mapview.interactions.highlight();\n    return;\n  }\n  btn.classList.add(\"active\");\n  !options.entry.display && options.entry.show();\n  options.entry.L && options.entry.location.layer.mapview.Map.removeLayer(options.entry.L);\n  options.mapview.interactions.draw({\n    type: options.type,\n    geometryFunction: options.geometryFunction,\n    tooltip: options.tooltip,\n    srid: options.srid,\n    callback: (feature) => {\n      btn.classList.remove(\"active\");\n      options.mapview.interactions.highlight();\n      if (feature) {\n        options.entry.newValue = feature.geometry;\n        options.entry.location.update();\n        return;\n      }\n      options.entry.L && options.entry.location.layer.mapview.Map.addLayer(options.entry.L);\n    }\n  });\n}\nfunction modify(e, options) {\n  const btn = e.target;\n  if (btn.classList.contains(\"active\")) {\n    btn.classList.remove(\"active\");\n    options.mapview.interactions.highlight();\n    return;\n  }\n  btn.classList.add(\"active\");\n  !options.entry.display && options.entry.show();\n  options.entry.location.layer.mapview.Map.removeLayer(options.entry.L);\n  const feature = options.entry.L.getSource().getFeatures()[0];\n  options.mapview.interactions.modify({\n    Feature: feature.clone(),\n    callback: (feature2) => {\n      btn.classList.remove(\"active\");\n      options.mapview.interactions.highlight();\n      if (feature2) {\n        options.entry.newValue = feature2.geometry;\n        options.entry.location.update();\n        return;\n      }\n      options.entry.location.layer.mapview.Map.addLayer(options.entry.L);\n    }\n  });\n}\n", "export default (entry) => {\n  const images = entry.value.map((image) => mapp.utils.html`\n    <div>\n      <img src=${image}\n        onclick=${mapp.ui.utils.imagePreview}>\n        ${entry.edit && mapp.utils.html.node`\n          <button\n            class=\"mask-icon trash no\"\n            data-name=${image.replace(/.*\\//, \"\").replace(/\\.([\\w-]{3})/, \"\")}\n            data-src=${image}\n            onclick=${(e) => removeDocument(e)}>`}`);\n  const upLoadBtn = mapp.utils.html.node`\n    <div class=\"mask-icon add-photo pos-center\">\n      <input\n        type=\"file\"\n        accept=\"image/*;capture=camera\"\n        onchange=${upload}>`;\n  entry.edit && images.push(upLoadBtn);\n  if (!images.length)\n    return;\n  const images_grid = mapp.utils.html.node`\n    <div\n      class=\"images-grid\">${images}`;\n  return images_grid;\n  async function upload(e) {\n    entry.location.view?.classList.add(\"disabled\");\n    const reader = new FileReader();\n    const file = e.target.files[0];\n    if (!file)\n      return;\n    reader.onload = (readerOnload) => {\n      const img = new Image();\n      img.onload = async () => {\n        let canvas = mapp.utils.html.node`<canvas>`, max_size = 1024, width = img.width, height = img.height;\n        if (width > height && width > max_size) {\n          height *= max_size / width;\n          width = max_size;\n        } else if (height > max_size) {\n          width *= max_size / height;\n          height = max_size;\n        }\n        canvas.width = width;\n        canvas.height = height;\n        canvas.getContext(\"2d\").drawImage(img, 0, 0, width, height);\n        const dataURL = canvas.toDataURL(\"image/jpeg\", 0.5);\n        const response = await mapp.utils.xhr({\n          method: \"POST\",\n          requestHeader: {\n            \"Content-Type\": \"application/octet-stream\"\n          },\n          url: `${entry.location.layer.mapview.host}/api/provider/cloudinary?${mapp.utils.paramString({\n            public_id: file.name.replace(/.*\\//, \"\").replace(/\\.([\\w-]{3})/, \"\"),\n            resource_type: \"image\"\n          })}`,\n          body: mapp.utils.dataURLtoBlob(dataURL)\n        });\n        await mapp.utils.xhr(`${entry.location.layer.mapview.host}/api/query?` + mapp.utils.paramString({\n          template: \"set_field_array\",\n          locale: entry.location.layer.mapview.locale.key,\n          layer: entry.location.layer.key,\n          table: entry.location.table,\n          qID: entry.location.layer.qID,\n          id: entry.location.id,\n          action: \"append\",\n          field: entry.field,\n          value: response.secure_url\n        }));\n        const newImg = mapp.utils.html.node`\n          <div>\n            <img\n              src=${response.secure_url}\n              onclick=${mapp.ui.utils.imagePreview}>\n              <button\n                class=\"mask-icon trash no\"\n                data-name=${response.public_id}\n                data-src=${response.secure_url}\n                onclick=${(e2) => removeDocument(e2)}>`;\n        images_grid.insertBefore(newImg, upLoadBtn);\n        entry.location.view?.classList.remove(\"disabled\");\n      };\n      img.src = readerOnload.target.result;\n    };\n    reader.readAsDataURL(file);\n    e.target.value = \"\";\n  }\n  async function removeDocument(e) {\n    if (!confirm(\"Remove image?\"))\n      return;\n    const img = e.target;\n    mapp.utils.xhr(`${entry.location.layer.mapview.host}/api/provider/cloudinary?${mapp.utils.paramString({\n      destroy: true,\n      public_id: img.dataset.name\n    })}`);\n    await mapp.utils.xhr(`${entry.location.layer.mapview.host}/api/query?` + mapp.utils.paramString({\n      template: \"set_field_array\",\n      locale: entry.location.layer.mapview.locale.key,\n      layer: entry.location.layer.key,\n      table: entry.location.table,\n      qID: entry.location.layer.qID,\n      id: entry.location.id,\n      action: \"remove\",\n      field: entry.field,\n      value: img.dataset.src\n    }));\n    img.parentNode.remove();\n  }\n};\n", "const typeMethods = {\n  isoline_here,\n  isoline_mapbox\n};\nexport default (entry) => {\n  entry.value = typeof entry.value === \"string\" && JSON.parse(entry.value) || entry.value;\n  entry.Style = entry.Style || typeof entry.style === \"object\" && mapp.utils.style(entry.style) || entry.location.Style;\n  const chkbox = mapp.ui.elements.chkbox({\n    label: entry.label || \"Isoline\",\n    checked: !!entry.display,\n    onchange: (checked) => {\n      if (checked) {\n        entry.show();\n      } else {\n        entry.display = false;\n        entry.L && entry.location.layer.mapview.Map.removeLayer(entry.L);\n      }\n    }\n  });\n  entry.show = show;\n  if (entry.display && entry.show())\n    return \"break\";\n  const icon = entry.style && mapp.utils.html`\n    ${mapp.ui.elements.legendIcon(Object.assign({width: 24, height: 24}, entry.style))}`;\n  return mapp.utils.html.node`<div class=\"flex-spacer\">${chkbox}${icon}`;\n};\nfunction show() {\n  this.display = true;\n  if (this.L) {\n    this.location.layer.mapview.Map.removeLayer(this.L);\n    this.location.layer.mapview.Map.addLayer(this.L);\n    return;\n  }\n  if (this.value) {\n    this.L = this.location.layer.mapview.geoJSON({\n      zIndex: this.zIndex,\n      geometry: this.value,\n      Style: this.Style,\n      dataProjection: \"4326\"\n    });\n    this.location.Layers.push(this.L);\n    return;\n  }\n  const pin = this.location.infoj.find((lookup) => lookup.type === \"pin\");\n  this.params.latlng = ol.proj.transform(pin.value, `EPSG:${pin.srid || \"3857\"}`, \"EPSG:4326\");\n  this.location.view?.classList.add(\"disabled\");\n  typeMethods[this.type](this);\n  return true;\n}\nfunction isoline_mapbox(entry) {\n  const params = Object.assign({\n    profile: \"driving\",\n    minutes: 10\n  }, entry.params);\n  mapp.utils.xhr(`https://api.mapbox.com/isochrone/v1/mapbox/${params.profile}/${params.latlng[0]},${params.latlng[1]}?${mapp.utils.paramString({\n    contours_minutes: params.minutes,\n    polygons: true,\n    access_token: params.access_token\n  })}`).then(async (response) => {\n    if (!entry.location.remove)\n      return;\n    if (!response.features)\n      return;\n    entry.newValue = response.features[0].geometry;\n    entry.location.update();\n  });\n}\nfunction isoline_here(entry) {\n  const params = Object.assign({\n    \"range[type]\": \"time\",\n    minutes: 10,\n    reverseDirection: false,\n    transportMode: \"car\",\n    optimizeFor: \"balanced\"\n  }, entry.params);\n  params[\"range[values]\"] = params.minutes * 60;\n  delete params.minutes;\n  params.origin = `${params.latlng[1]},${params.latlng[0]}`;\n  delete params.latlng;\n  mapp.utils.xhr(`${entry.location.layer.mapview.host}/api/proxy?url=${encodeURIComponent(`https://isoline.router.hereapi.com/v8/isolines?${mapp.utils.paramString(params)}&{HERE}`)}`).then((response) => {\n    if (!entry.location.remove)\n      return;\n    if (!response.isolines) {\n      console.log(response);\n      return alert(\"Failed to process request\");\n    }\n    const _coordinates = mapp.utils.here.decodeIsoline(response.isolines[0].polygons[0].outer);\n    _coordinates.polyline.forEach((p) => p.reverse());\n    _coordinates.polyline.push(_coordinates.polyline[0]);\n    entry.newValue = {\n      type: \"Polygon\",\n      coordinates: [_coordinates.polyline]\n    };\n    entry.location.update();\n  });\n}\n", "export default (entry) => {\n  let val = mapp.utils.html`\n    <pre><code>${JSON.stringify(entry.value, null, 2)}`;\n  if (entry.edit) {\n    val = mapp.utils.html`\n    <textarea\n      style=\"auto; min-height: 50px;\"\n      onfocus=${(e) => {\n      e.target.style.height = e.target.scrollHeight + \"px\";\n    }}\n      onfocusout=${(e) => {\n      e.target.style.height = \"auto\";\n    }}\n      oninput=${(e) => {\n      entry.json = (() => {\n        try {\n          return JSON.parse(e.target.value);\n        } catch (e2) {\n          return false;\n        }\n      })();\n      e.target.style.border = entry.json ? \"none\" : \"1px solid red\";\n    }}\n      onkeyup=${(e) => {\n      entry.newValue = typeof entry.json !== \"object\" ? entry.value : entry.json;\n      entry.location.view?.dispatchEvent(new CustomEvent(\"valChange\", {\n        detail: entry\n      }));\n    }}\n      onkeydown=${(e) => setTimeout(() => {\n      e.target.style.height = \"auto\";\n      e.target.style.height = e.target.scrollHeight + \"px\";\n    }, 100)}>${JSON.stringify(entry.value, null, 2)}`;\n  }\n  const node = mapp.utils.html.node`\n    <div\n      class=\"val\"\n      style=\"${`${entry.css_val || \"\"}`}\">${val}`;\n  return node;\n};\n", "export default (entry) => {\n  let val = !isNaN(entry.value) && entry.type === \"integer\" ? parseInt(entry.value).toLocaleString(\"en-GB\", {maximumFractionDigits: 0}) : parseFloat(entry.value).toLocaleString(\"en-GB\", {maximumFractionDigits: 2});\n  if (entry.edit) {\n    if (entry.edit.range) {\n      val = mapp.ui.elements.slider({\n        min: entry.edit.range.min,\n        max: entry.edit.range.max,\n        val: entry.value,\n        callback: (e) => {\n          val.value = parseFloat(e.target.value);\n          entry.newValue = val.value;\n          entry.location.view?.dispatchEvent(new CustomEvent(\"valChange\", {\n            detail: entry\n          }));\n        }\n      });\n    } else {\n      val = mapp.utils.html.node`\n      <input\n        type=\"number\"\n        value=\"${entry.value || \"\"}\"\n        onkeyup=${(e) => {\n        entry.newValue = e.target.value;\n        entry.location.view?.dispatchEvent(new CustomEvent(\"valChange\", {\n          detail: entry\n        }));\n      }}>`;\n    }\n  }\n  const node = mapp.utils.html.node`\n    <div\n      class=\"val\"\n      style=\"${`${entry.css_val || \"\"}`}\">\n      ${entry.prefix}${val}${entry.suffix}`;\n  return node;\n};\n", "export default (entry) => {\n  entry.srid = entry.srid || entry.location.layer.srid;\n  entry.location.layer.mapview.Map.removeLayer(entry.L);\n  entry.L = entry.location.layer.mapview.geoJSON({\n    zIndex: Infinity,\n    geometry: {\n      type: \"Point\",\n      coordinates: entry.value\n    },\n    dataProjection: entry.srid,\n    Style: entry.Style || entry.location.pinStyle\n  });\n  entry.location.Layers.push(entry.L);\n  const chkbox = mapp.ui.elements.chkbox({\n    label: entry.label || \"Pin\",\n    checked: true,\n    onchange: (checked) => {\n      entry.display = checked;\n      checked ? entry.location.layer.mapview.Map.addLayer(entry.L) : entry.location.layer.mapview.Map.removeLayer(entry.L);\n    }\n  });\n  const node = mapp.utils.html.node`${chkbox}`;\n  return node;\n};\n", "export default (entry) => {\n  if (!entry.report.template)\n    return;\n  const href = `${entry.location.layer.mapview.host}/view/${entry.report.template}?${mapp.utils.paramString({\n    id: entry.location.id\n  })}`;\n  const node = mapp.utils.html.node`\n    <div class=\"link-with-img\">\n      <div\n        class=\"mask-icon wysiwyg\">\n      </div>\t\n      <a\n        target=\"_blank\"\n        href=${href}>${entry.report.label || \"Report\"}`;\n  return node;\n};\n", "export default (entry) => {\n  const pin = entry.location.infoj.find((entry2) => entry2.type === \"pin\");\n  if (!pin || !pin.value)\n    return;\n  const lnglat = ol.proj.toLonLat(pin.value, `EPSG:${pin.srid || entry.location.layer.mapview.srid}`, \"EPSG:4326\");\n  const node = mapp.utils.html.node`\n    <a\n      target=\"_blank\"\n      href=${`https://www.google.com/maps?cbll=${lnglat[1]},${lnglat[0]}&layer=c`}>`;\n  mapp.utils.xhr(`${entry.location.layer.mapview.host}/api/proxy?url=${encodeURIComponent(`https://maps.googleapis.com/maps/api/streetview/metadata?location=${lnglat[1]},${lnglat[0]}&source=outdoor&{GOOGLE}`)}`).then((response) => {\n    if (response.status !== \"OK\")\n      return;\n    const src = `${entry.location.layer.mapview.host}/api/proxy?url=${encodeURIComponent(`https://maps.googleapis.com/maps/api/streetview?location=${lnglat[1]},${lnglat[0]}&source=outdoor&size=300x230&{GOOGLE}`)}`;\n    node.append(mapp.utils.html.node`<img src=${src}>`);\n  });\n  return node;\n};\n", "export default (entry) => {\n  const tabview = document.querySelector(`[data-id=${entry.target}]`);\n  entry.tab_style = `border-bottom: 3px solid ${entry.location.style.strokeColor}`;\n  tabview.dispatchEvent(new CustomEvent(\"addTab\", {\n    detail: entry\n  }));\n  entry.display && entry.show();\n  const chkbox = mapp.ui.elements.chkbox({\n    label: entry.label,\n    checked: !!entry.display,\n    onchange: (checked) => {\n      entry.display = checked;\n      entry.display ? entry.show() : entry.remove();\n    }\n  });\n  return mapp.utils.html.node`${chkbox}`;\n};\n", "export default (entry) => {\n  let val = entry.value;\n  if (entry.edit) {\n    if (entry.edit.options) {\n      val = options(entry);\n    } else {\n      val = mapp.utils.html`\n      <input\n        type=\"text\"\n        value=\"${entry.value || \"\"}\"\n        onkeyup=${(e) => {\n        entry.newValue = e.target.value;\n        entry.location.view?.dispatchEvent(new CustomEvent(\"valChange\", {\n          detail: entry\n        }));\n      }}>`;\n    }\n  }\n  const node = mapp.utils.html.node`\n    <div\n      class=\"val\"\n      style=\"${`${entry.css_val || \"\"}`}\">\n      ${entry.prefix}${val}${entry.suffix}`;\n  return node;\n};\nfunction options(entry) {\n  const chk = entry.edit.options.find((option) => typeof option === \"object\" && Object.values(option)[0] === entry.value || option === entry.value) || entry.value;\n  entry.value = chk && typeof chk === \"object\" && Object.keys(chk)[0] || chk || entry.value || \" \";\n  const entries = entry.edit.options.map((option) => ({\n    title: typeof option === \"string\" && option || Object.keys(option)[0],\n    option: typeof option === \"string\" && option || Object.values(option)[0]\n  }));\n  const dropdown = mapp.ui.elements.dropdown({\n    span: entry.value,\n    entries,\n    callback: (e, _entry) => {\n      entry.newValue = _entry.option;\n      entry.location.view?.dispatchEvent(new CustomEvent(\"valChange\", {\n        detail: entry\n      }));\n    }\n  });\n  return dropdown;\n}\n", "export default (entry) => {\n  if (entry.query) {\n    mapp.utils.xhr(`${entry.location.layer.mapview.host}/api/query/${entry.query}`).then((response) => {\n      entry.node.querySelector(\".val\").innerHTML = response[entry.params.field];\n    });\n  }\n  let val = entry.type !== \"html\" ? entry.value : \"\";\n  if (entry.edit) {\n    val = mapp.utils.html`\n    <textarea\n      style=\"auto; min-height: 50px;\"\n      onfocus=${(e) => {\n      e.target.style.height = e.target.scrollHeight + \"px\";\n    }}\n      onfocusout=${(e) => {\n      e.target.style.height = \"auto\";\n    }}\n      onkeyup=${(e) => {\n      entry.newValue = e.target.value;\n      entry.location.view?.dispatchEvent(new CustomEvent(\"valChange\", {\n        detail: entry\n      }));\n    }}\n      onkeydown=${(e) => setTimeout(() => {\n      e.target.style.height = \"auto\";\n      e.target.style.height = e.target.scrollHeight + \"px\";\n    }, 100)}>\n      ${entry.value || \"\"}`;\n  }\n  const node = mapp.utils.html.node`\n  <div\n    class=\"val\"\n    style=\"${`${entry.css_val || \"\"}`}\">${val}`;\n  if (!entry.edit && entry.type === \"html\") {\n    node.innerHTML = entry.value || \"\";\n  }\n  return node;\n};\n", "import boolean from \"./boolean.js\";\nimport dataview from \"./dataview.js\";\nimport date from \"./date.js\";\nimport documents from \"./documents.js\";\nimport geometry from \"./geometry.js\";\nimport images from \"./images.js\";\nimport isoline from \"./isoline.js\";\nimport json from \"./json.js\";\nimport numeric from \"./numeric.js\";\nimport pin from \"./pin.js\";\nimport report from \"./report.js\";\nimport streetview from \"./streetview.js\";\nimport tab from \"./tab.js\";\nimport text from \"./text.js\";\nimport textarea from \"./textarea.js\";\nexport default {\n  key,\n  boolean,\n  dataview,\n  date,\n  datetime: date,\n  documents,\n  geometry,\n  html: textarea,\n  images,\n  integer: numeric,\n  isoline_here: isoline,\n  isoline_mapbox: isoline,\n  json,\n  numeric,\n  pin,\n  report,\n  streetview,\n  tab,\n  text,\n  textarea\n};\nfunction key(entry) {\n  const node = mapp.utils.html.node`\n  <div class=\"layer-key\">\n    <span>\n      ${entry.location.layer.name}`;\n  return node;\n}\n", "import view from \"./view.js\";\nimport listview from \"./listview.js\";\nimport infoj from \"./infoj.js\";\nimport entries from \"./entries/_entries.js\";\nexport default {\n  view,\n  listview,\n  infoj,\n  entries\n};\n", "export default async (_this) => {\n  _this.Tabulator = await mapp.ui.utils.Tabulator(_this.target, _this.table);\n  _this.table.selectable && _this.Tabulator.on(\"rowClick\", (e, row) => {\n    if (typeof _this.rowSelect === \"function\") {\n      _this.rowSelect(e, row);\n      return;\n    }\n    const rowData = row.getData();\n    if (!_this.layer || !rowData[_this.layer.qID])\n      return;\n    mapp.location.get({\n      layer: _this.layer,\n      id: rowData[_this.layer.qID]\n    });\n    row.deselect();\n  });\n  _this.setData = (data) => {\n    if (!data && _this.data)\n      return;\n    if (_this.noDataMask && !data) {\n      _this.target.style.display = \"none\";\n      _this.mask = !_this.mask && _this.target.parentElement?.appendChild(mapp.utils.html.node`\n        <div class=\"dataviewMask\">No Data`);\n    } else {\n      _this.mask && _this.mask.remove();\n      delete _this.mask;\n      _this.target.style.display = \"block\";\n    }\n    data = !data && [] || data.length && data || [data];\n    _this.Tabulator.setData(data);\n    _this.data = data;\n    typeof _this.setDataCallback === \"function\" && _this.setDataCallback(_this);\n  };\n};\n", "export default async (_this) => {\n  const canvas = _this.target.appendChild(mapp.utils.html.node`<canvas>`);\n  _this.ChartJS = await mapp.ui.utils.Chart(canvas, mapp.utils.merge({\n    type: \"bar\",\n    options: {\n      plugins: {\n        legend: {\n          display: false\n        },\n        datalabels: {\n          display: false\n        }\n      }\n    }\n  }, _this.chart));\n  _this.setData = (data) => {\n    if (_this.noDataMask && !data) {\n      _this.target.style.display = \"none\";\n      _this.mask = !_this.mask && _this.target.parentElement?.appendChild(mapp.utils.html.node`\n        <div class=\"dataviewMask\">No Data`);\n    } else {\n      _this.mask && _this.mask.remove();\n      delete _this.mask;\n      _this.target.style.display = \"block\";\n    }\n    if (!data) {\n      data = {\n        datasets: [\n          {\n            data: []\n          }\n        ]\n      };\n    }\n    if (!data.datasets) {\n      data = {\n        datasets: [\n          {\n            data\n          }\n        ]\n      };\n    }\n    _this.data = data;\n    _this.chart.datasets?.length && data.datasets.forEach((dataset, i) => Object.assign(dataset, _this.chart.datasets[i]));\n    data.labels = data.labels || _this.chart.labels;\n    _this.ChartJS.data = data;\n    _this.ChartJS.update();\n  };\n};\n", "import Table from \"./table.js\";\nimport Chart from \"./chart.js\";\nexport default async (_this) => {\n  _this.target = typeof _this.target === \"string\" && document.getElementById(_this.target) || _this.target;\n  _this.target = _this.target instanceof HTMLElement && _this.target || mapp.utils.html.node`\n      <div\n        class=\"dataview-target\"\n        style=\"position: absolute; width: 100%; height: 100%\">`;\n  _this.update = async () => {\n    if (!_this.query)\n      return;\n    const bounds = _this.viewport && _this.layer.mapview.getBounds();\n    if (_this.viewport)\n      _this.queryparams = Object.assign(_this.queryparams || {}, {layer: true});\n    const center = _this.queryparams?.center && ol.proj.transform(_this.layer.mapview.Map.getView().getCenter(), `EPSG:${_xyz.mapview.srid}`, `EPSG:4326`);\n    const paramString = mapp.utils.paramString(Object.assign({}, _this.queryparams || {}, {\n      template: encodeURIComponent(_this.query),\n      filter: _this.queryparams?.filter && _this.layer?.filter?.current,\n      layer: _this.queryparams?.layer && _this.layer.key,\n      locale: _this.queryparams?.layer && _this.layer.mapview.locale.key,\n      id: _this.queryparams?.id && _this.location && _this.location.id,\n      lat: center && center[1],\n      lng: center && center[0],\n      z: _this.queryparams?.z && _this.layer.mapview.Map.getView().getZoom(),\n      viewport: bounds && [bounds.west, bounds.south, bounds.east, bounds.north, _this.layer.mapview.srid]\n    }));\n    const response = await mapp.utils.xhr(`${_this.host || _this.location.layer.mapview.host}/api/query?` + paramString);\n    if (response instanceof Error)\n      return;\n    if (typeof _this.responseFunction === \"function\")\n      return _this.responseFunction(response);\n    typeof _this.setData === \"function\" && _this.setData(response);\n  };\n  if (_this.toolbar) {\n    _this.target = mapp.utils.html.node`\n      <div class=\"dataview-target\">`;\n    const toolbar_els = Object.keys(_this.toolbar).map((key) => mapp.ui.elements.toolbar_el[key](_this));\n    _this.panel = mapp.utils.html.node`\n      <div class=\"grid\">\n        <div class=\"btn-row\">${toolbar_els}</div>\n        ${_this.target}`;\n  }\n  if (_this.chart)\n    await Chart(_this);\n  if (typeof _this.columns !== \"undefined\") {\n    console.warn(\"Table dataviews should be configured inside a tables object\");\n    _this.table = {columns: _this.columns};\n  }\n  if (_this.table)\n    await Table(_this);\n  _this.mapChange && _this.layer && _this.layer.mapview.Map.getTargetElement().addEventListener(\"changeEnd\", () => {\n    if (_this.layer && !_this.layer.display)\n      return;\n    if (_this.tab && !_this.tab.classList.contains(\"active\"))\n      return;\n    typeof _this.mapChange === \"function\" && _this.mapChange() || _this.update();\n  });\n  return _this;\n};\n", "export default (tabview) => {\n  if (!tabview.node)\n    return;\n  tabview.tabs = tabview.node.appendChild(mapp.utils.html.node`<div class=\"tabs\">`);\n  tabview.panel = tabview.node.appendChild(mapp.utils.html.node`<div class=\"panel\">`);\n  tabview.id && tabview.node.setAttribute(\"data-id\", tabview.id);\n  tabview.addTab = addTab;\n  tabview.node.addEventListener(\"addTab\", (e) => tabview.addTab(e.detail));\n};\nfunction addTab(entry) {\n  const tabview = this;\n  entry.tab = mapp.utils.html.node`\n    <div class=\"tab\">\n      <div\n        class=\"header\"\n        style=\"${entry.tab_style || \"\"}\"\n        onclick=${showTab}>\n        ${entry.label || entry.title || entry.key || \"Tab\"}`;\n  entry.panel = entry.panel || entry.target || mapp.utils.html.node`\n    <div\n      class=\"${`panel ${entry.class || \"\"}`}\">`;\n  entry.panel.addEventListener(\"activate\", () => {\n    entry.update && entry.update();\n  });\n  entry.show = showTab;\n  entry.remove = removeTab;\n  entry.location?.removeCallbacks.push(() => entry.remove());\n  function showTab() {\n    mapp.utils.render(tabview.panel, entry.panel);\n    tabview.tabs.childNodes.forEach((tab) => tab.classList.remove(\"active\"));\n    !entry.tab.parentElement && tabview.tabs.appendChild(entry.tab);\n    entry.tab.classList.add(\"active\");\n    tabview.timer && window.clearTimeout(tabview.timer);\n    tabview.timer = window.setTimeout(() => {\n      if (entry.panel instanceof HTMLElement) {\n        entry.panel.dispatchEvent(new CustomEvent(\"activate\"));\n        return;\n      }\n      if (entry.target instanceof HTMLElement) {\n        entry.target.dispatchEvent(new CustomEvent(\"activate\"));\n      }\n    }, 500);\n    tabview.showTab && tabview.showTab();\n  }\n  function removeTab() {\n    if (!entry.tab.parentElement)\n      return;\n    const sibling = entry.tab.nextElementSibling || entry.tab.previousElementSibling;\n    entry.tab.remove();\n    if (sibling)\n      return sibling.querySelector(\".header\").click();\n    tabview.removeLastTab && tabview.removeLastTab();\n  }\n}\n", "export default (params) => mapp.utils.html.node`\n  <div \n    data-id=${params.data_id || \"card\"}\n    class=\"drawer\">\n    <div class=\"header bold\">\n      <span>${params.header}</span>\n      <button\n        data-id=close\n        class=\"mask-icon close\"\n        onclick=${(e) => {\n  e.target.closest(\".drawer\").remove();\n  params.close && params.close(e);\n}}}>\n    </div>\n    ${params.content}`;\n", "export default (params) => mapp.utils.html`\n  <label \n    data-id=${params.data_id || \"chkbox\"}\n    class=\"checkbox\">\n    <input\n      type=\"checkbox\"\n      .disabled=${!!params.disabled}\n      .checked=${!!params.checked}\n      onchange=${(e) => {\n  params.onchange && params.onchange(e.target.checked, params.val);\n}}>\n    </input>\n    <div></div>\n    <span>${params.label}`;\n", "export default {\n  modify,\n  draw\n};\nmapp.utils.merge(mapp.dictionaries, {\n  en: {\n    remove_last_vertex: \"Remove last vertex\"\n  },\n  de: {\n    remove_last_vertex: \"Remove last vertex\"\n  },\n  cn: {\n    remove_last_vertex: \"删除最后一个顶点\"\n  },\n  pl: {\n    remove_last_vertex: \"Usuń ostatni wierzchołek\"\n  },\n  ko: {\n    remove_last_vertex: \"마지막 정점(꼭지점) 제거\"\n  },\n  fr: {\n    remove_last_vertex: \"Effacer le dernier point\"\n  },\n  ja: {\n    remove_last_vertex: \"最後のバーテックスを削除\"\n  }\n});\nfunction modify(e) {\n  e && e.preventDefault();\n  const menu = [];\n  menu.push(mapp.utils.html`\n    <li\n      onclick=${() => this.interaction.finish(this.interaction.getFeature())}>\n      ${mapp.dictionary.save}`);\n  menu.push(mapp.utils.html`\n    <li\n      onclick=${() => this.interaction.finish()}>\n      ${mapp.dictionary.cancel}`);\n  this.popup({\n    coords: this.interaction.vertices[this.interaction.vertices.length - 1],\n    content: mapp.utils.html.node`<ul>${menu}`\n  });\n}\nfunction draw(e) {\n  if (this.interaction.vertices.length === 0)\n    return;\n  e && e.preventDefault();\n  const features = this.interaction.Layer.getSource().getFeatures();\n  const menu = [];\n  features.length && menu.push(mapp.utils.html`\n  <li\n    onclick=${() => this.interaction.finish(this.interaction.getFeature())}>\n      ${mapp.dictionary.save}`);\n  !features.length && menu.push(mapp.utils.html`\n    <li\n      onclick=${(e2) => {\n    this.interaction.interaction.removeLastPoint();\n    this.interaction.vertices.pop();\n    this.popup(null);\n  }}>${mapp.dictionary.remove_last_vertex}`);\n  menu.push(mapp.utils.html`\n    <li\n      onclick=${() => this.interaction.finish()}>\n      ${mapp.dictionary.cancel}`);\n  this.popup({\n    coords: this.interaction.vertices[this.interaction.vertices.length - 1],\n    content: mapp.utils.html.node`<ul>${menu}`,\n    autoPan: true\n  });\n}\n", "export default (params) => mapp.utils.html.node`\n  <div \n    data-id=${params.data_id || \"drawer\"}\n    class=${`drawer expandable ${params.class || \"\"}`}>\n    <div\n      class=\"header\"\n      onclick=${(e) => {\n  if (e.target.parentElement.classList.contains(\"empty\"))\n    return;\n  if (e.target.parentElement.classList.contains(\"expanded\")) {\n    return e.target.parentElement.classList.remove(\"expanded\");\n  }\n  if (params.accordion) {\n    [...e.target.parentElement.parentElement.children].forEach((sibling) => {\n      sibling.classList.remove(\"expanded\");\n    });\n  }\n  e.target.parentElement.classList.add(\"expanded\");\n}}>\n      ${params.header}\n    </div>\n    ${params.content}`;\n", "export default {\n  point,\n  polygon,\n  circle,\n  line,\n  freehand,\n  isoline_here,\n  isoline_mapbox,\n  rectangle\n};\nmapp.utils.merge(mapp.dictionaries, {\n  en: {\n    draw_point: \"Point\",\n    draw_polygon: \"Polygon\",\n    draw_rectangle: \"Rectangle\",\n    draw_circle: \"Circle\",\n    draw_line: \"Line\",\n    draw_freehand: \"Freehand\"\n  },\n  de: {\n    draw_point: \"Punkt\",\n    draw_polygon: \"Polygon\",\n    draw_rectangle: \"Rechteck\",\n    draw_circle: \"Kreis\",\n    draw_line: \"Linie\",\n    draw_freehand: \"Freihand\"\n  },\n  cn: {\n    draw_point: \"点\",\n    draw_polygon: \"多边形\",\n    draw_rectangle: \"长方形\",\n    draw_circle: \"圈\",\n    draw_line: \"线\",\n    draw_freehand: \"任意图形\"\n  },\n  pl: {\n    draw_point: \"Punkt\",\n    draw_polygon: \"Poligon\",\n    draw_rectangle: \"Prostokąt\",\n    draw_circle: \"Okrag\",\n    draw_line: \"Linia\",\n    draw_freehand: \"Odręcznie\"\n  },\n  ko: {\n    draw_point: \"점\",\n    draw_polygon: \"다각형\",\n    draw_rectangle: \"직사각형\",\n    draw_circle: \"원\",\n    draw_line: \"선\",\n    draw_freehand: \"손으로 그림(자유 재량)\"\n  },\n  fr: {\n    draw_point: \"Point\",\n    draw_polygon: \"Polygone\",\n    draw_rectangle: \"Rectangle\",\n    draw_circle: \"Cercle\",\n    draw_line: \"Ligne\",\n    draw_freehand: \"À main levée\"\n  },\n  ja: {\n    draw_point: \"ポイント\",\n    draw_polygon: \"ポリゴン\",\n    draw_rectangle: \"長方形\",\n    draw_circle: \"丸\",\n    draw_line: \"線\",\n    draw_freehand: \"フリーハンド\"\n  }\n});\nfunction point(_options, draw) {\n  const options = Object.assign({}, _options, {\n    type: \"Point\"\n  });\n  return mapp.utils.html.node`\n    <button\n      class=\"flat wide primary-colour\"\n      onclick=${(e) => draw(e, options)}>\n      ${mapp.dictionary.draw_point}`;\n}\nfunction line(_options, draw) {\n  const options = Object.assign({}, _options, {\n    type: \"LineString\"\n  });\n  return mapp.utils.html.node`\n    <button\n      class=\"flat wide primary-colour\"\n      onclick=${(e) => draw(e, options)}>\n      ${mapp.dictionary.draw_line}`;\n}\nfunction freehand(_options, draw) {\n  const options = Object.assign({}, _options, {\n    type: \"LineString\",\n    freehand: true\n  });\n  return mapp.utils.html.node`\n    <button\n      class=\"flat wide primary-colour\"\n      onclick=${(e) => draw(e, options)}>\n      ${mapp.dictionary.draw_freehand}`;\n}\nfunction polygon(_options, draw) {\n  const options = Object.assign({}, _options, {\n    type: \"Polygon\"\n  });\n  return mapp.utils.html.node`\n    <button\n      class=\"flat wide primary-colour\"\n      onclick=${(e) => draw(e, options)}>\n      ${mapp.dictionary.draw_polygon}`;\n}\nfunction circle(_options, draw) {\n  const options = Object.assign({}, _options, {\n    type: \"Circle\",\n    geometryFunction: ol.interaction.Draw.createRegularPolygon(33),\n    tooltip: _options.edit.circle.tooltip\n  });\n  return mapp.utils.html.node`\n    <button\n      class=\"flat wide primary-colour\"\n      onclick=${(e) => draw(e, options)}>\n      ${mapp.dictionary.draw_circle}`;\n}\nfunction rectangle(_options, draw) {\n  const options = Object.assign({}, _options, {\n    type: \"Circle\",\n    geometryFunction: ol.interaction.Draw.createBox(),\n    tooltip: _options.edit.rectangle.tooltip\n  });\n  return mapp.utils.html.node`\n    <button\n      class=\"flat wide primary-colour\"\n      onclick=${(e) => draw(e, options)}>\n      ${mapp.dictionary.draw_rectangle}`;\n}\nfunction isoline_here(_options, draw) {\n  const options = Object.assign({}, _options, {\n    type: \"Point\",\n    geometryFunction: (coordinates) => mapp.utils.here.geometryFunction(coordinates, _options.layer, params)\n  });\n  if (typeof options.edit.isoline_here !== \"object\")\n    options.edit.isoline_here = {};\n  const defaults = {\n    \"range[type]\": \"time\",\n    range: 10,\n    rangeMin: 5,\n    rangeMax: 60,\n    reverseDirection: false,\n    transportMode: \"car\",\n    optimizeFor: \"balanced\"\n  };\n  const params = Object.assign(options.edit.isoline_here, defaults);\n  const drawer = mapp.ui.elements.isoline_params_here(params);\n  drawer.append(mapp.utils.html.node`\n    <button\n      class=\"flat wide primary-colour\"\n      onclick=${(e) => draw(e, options)}>\n      Create Isoline`);\n  return drawer;\n}\nfunction isoline_mapbox(_options, draw) {\n  const options = Object.assign({}, _options, {\n    type: \"Point\",\n    geometryFunction: (coordinates) => mapp.utils.mapboxGeometryFunction(coordinates, _options.layer, params)\n  });\n  if (typeof options.edit.isoline_mapbox !== \"object\")\n    options.edit.isoline_mapbox = {};\n  const defaults = {\n    profile: \"driving\",\n    minutes: 10,\n    minutesMin: 5,\n    minutesMax: 60\n  };\n  const params = Object.assign(options.edit.isoline_mapbox, defaults);\n  const drawer = mapp.ui.elements.isoline_params_mapbox(params);\n  drawer.append(mapp.utils.html.node`\n    <button\n      class=\"flat wide primary-colour\"\n      onclick=${(e) => draw(e, options)}>\n      Create Isoline`);\n  return drawer;\n}\n", "export default (params) => mapp.utils.html`\n  <button \n    data-id=${params.data_id || \"dropdown\"}\n    class=\"dropdown\">\n    <div class=\"head\"\n      onclick=${(e) => {\n  if (e.target.parentElement.classList.contains(\"active\")) {\n    e.target.parentElement.classList.remove(\"active\");\n    return;\n  }\n  document.querySelectorAll(\"button.dropdown\").forEach((el) => el.classList.remove(\"active\"));\n  e.target.parentElement.classList.add(\"active\");\n}}>\n      <span data-id=header-span>${params.span || params.placeholder || params.entries[0].title}</span>\n      <div class=\"icon\"></div>\n    </div>\n    <ul>${params.entries.map((entry) => mapp.utils.html.node`\n      <li onclick=${(e) => {\n  const btn = e.target.closest(\"button.dropdown\");\n  btn.classList.toggle(\"active\");\n  btn.querySelector(\"[data-id=header-span]\").textContent = entry.title;\n  params.callback && params.callback(e, entry);\n}}>${entry.title}`)}`;\n", "export default (params) => {\n  const selectedTitles = new Set();\n  const selectedOptions = new Set();\n  return mapp.utils.html`\n    <button \n      data-id=${params.data_id || \"dropdown\"}\n      class=\"dropdown\">\n      <div class=\"head\"\n        onclick=${(e) => {\n    if (e.target.parentElement.classList.contains(\"active\")) {\n      e.target.parentElement.classList.remove(\"active\");\n      return;\n    }\n    document.querySelectorAll(\"button.dropdown\").forEach((el) => el.classList.remove(\"active\"));\n    e.target.parentElement.classList.add(\"active\");\n  }}>\n        <span data-id=header-span>${params.span || params.placeholder || params.entries[0].title}</span>\n        <div class=\"icon\"></div>\n      </div>\n      <ul>${params.entries.map((entry) => mapp.utils.html.node`\n        <li onclick=${(e) => {\n    const btn = e.target.closest(\"button.dropdown\");\n    btn.classList.toggle(\"active\");\n    e.target.classList.toggle(\"selected\");\n    if (e.target.classList.contains(\"selected\")) {\n      selectedTitles.add(entry.title);\n      selectedOptions.add(entry.option);\n    } else {\n      selectedTitles.delete(entry.title);\n      selectedOptions.delete(entry.option);\n    }\n    btn.querySelector(\"[data-id=header-span]\").textContent = Array.from(selectedTitles).join(\", \");\n    params.callback && params.callback(e, Array.from(selectedOptions));\n  }}>${entry.title}`)}`;\n};\n", "mapp.utils.merge(mapp.dictionaries, {\n  en: {\n    here_mode: \"Mode\",\n    here_mode_driving: \"driving\",\n    here_mode_walking: \"walking\",\n    here_range_minutes: \"Travel time in minutes\",\n    here_datetime_arrive: \"Arrive at\",\n    here_datetime_depart: \"Depart at\",\n    here_optimize_for: \"Optimize for\",\n    here_optimize_for_balanced: \"balanced\",\n    here_optimize_for_quality: \"quality\",\n    here_optimize_for_performance: \"performance\"\n  },\n  de: {\n    here_mode: \"Modus\",\n    here_mode_driving: \"Kraftfahrzeug\",\n    here_mode_walking: \"zu Fuß\",\n    here_range_minutes: \"Fahrzeit in Minuten\",\n    here_datetime_arrive: \"Ankunft\",\n    here_datetime_depart: \"Abfahrt\",\n    here_optimize_for: \"Optimisierung\",\n    here_optimize_for_balanced: \"Ausgeglichen\",\n    here_optimize_for_quality: \"Qualität\",\n    here_optimize_for_performance: \"Leistung\"\n  },\n  cn: {\n    here_mode_driving: \"机动车行\",\n    here_mode_walking: \"步行\",\n    here_range_minutes: \"以分钟计交通时间 \"\n  },\n  pl: {\n    here_mode: \"Środek transportu\",\n    here_mode_driving: \"samochodem\",\n    here_mode_walking: \"piechotą\",\n    here_range_minutes: \"Czas podróży w minutach\",\n    here_datetime_arrive: \"Rozpocznij\",\n    here_datetime_depart: \"Osiągnij cel\",\n    here_optimize_for: \"Optymalizacja\",\n    here_optimize_for_balanced: \"zrównoważona\",\n    here_optimize_for_quality: \"jakość\",\n    here_optimize_for_performance: \"wydajność\"\n  },\n  ko: {\n    here_mode_driving: \"운전\",\n    here_mode_walking: \"도보\",\n    here_range_minutes: \"여행시간(분) \"\n  },\n  fr: {\n    here_mode: \"Type de transport\",\n    here_mode_driving: \"en voiture\",\n    here_mode_walking: \"à pied\",\n    here_range_minutes: \"Temps du trajet en minutes\",\n    here_datetime_depart: \"Partir à\",\n    here_datetime_arrive: \"Arriver à\",\n    here_optimize_for: \"Optimiser\",\n    here_optimize_for_balanced: \"l'équilibre\",\n    here_optimize_for_quality: \"la qualité\",\n    here_optimize_for_performance: \"les performances\"\n  },\n  ja: {\n    here_mode_driving: \"ドライビング\",\n    here_mode_walking: \"ウォーキング\",\n    here_range_minutes: \"移動時間 (分) \"\n  }\n});\nexport default (params) => {\n  const modeDropDown = mapp.utils.html.node`\n    <div style=\"display: grid; grid-template-columns: 100px 1fr; align-items: center;\">\n      <div style=\"grid-column: 1;\">${mapp.dictionary.here_mode}</div>\n      <div style=\"grid-column: 2;\">\n        ${mapp.ui.elements.dropdown({\n    entries: [\n      {\n        title: [mapp.dictionary.here_mode_driving],\n        option: \"car\"\n      },\n      {\n        title: [mapp.dictionary.here_mode_walking],\n        option: \"pedestrian\"\n      }\n    ],\n    callback: (e, entry) => {\n      params.transportMode = entry.option;\n    }\n  })}`;\n  const optimisedForDropDown = mapp.utils.html.node`\n    <div style=\"display: grid; grid-template-columns: 100px 1fr; align-items: center;\">\n      <div style=\"grid-column: 1;\">${mapp.dictionary.here_optimize_for}</div>\n      <div style=\"grid-column: 2;\">\n        ${mapp.ui.elements.dropdown({\n    entries: [\n      {\n        title: [mapp.dictionary.here_optimize_for_balanced],\n        option: \"balanced\"\n      },\n      {\n        title: [mapp.dictionary.here_optimize_for_quality],\n        option: \"quality\"\n      },\n      {\n        title: [mapp.dictionary.here_optimize_for_performance],\n        option: \"performance\"\n      }\n    ],\n    callback: (e, entry) => {\n      params.optimizeFor = entry.option;\n    }\n  })}`;\n  let date_picker_label = mapp.utils.html.node`\n    <span>${mapp.dictionary.here_datetime_depart}`;\n  let dateSelect = mapp.utils.html.node`\n    <input\n      type=\"datetime-local\"\n      onchange=${(e) => {\n    params.dateISO = new Date(e.target.value).toISOString();\n  }}>`;\n  const datePicker = mapp.utils.html.node`\n    <div>\n      ${date_picker_label}\n      ${dateSelect}`;\n  const rangeSlider = mapp.ui.elements.slider({\n    label: mapp.dictionary.here_range_minutes,\n    min: params.rangeMin,\n    max: params.rangeMax,\n    val: 10,\n    callback: (e) => {\n      params.range = parseInt(e.target.value);\n    }\n  });\n  const reverseDirectionChk = mapp.ui.elements.chkbox({\n    label: \"Reverse Direction Isoline\",\n    checked: !!params.reverseDirection,\n    onchange: (checked) => {\n      date_picker_label.textContent = checked && mapp.dictionary.here_datetime_arrive || mapp.dictionary.here_datetime_depart;\n      params.reverseDirection = checked;\n    }\n  });\n  const paramsDrawer = mapp.ui.elements.drawer({\n    header: mapp.utils.html`\n      <h4>Here Isoline</h4>\n      <div class=\"mask-icon expander\"></div>`,\n    class: \"flat\",\n    content: mapp.utils.html`<div class=\"panel\">\n      <div style=\"display: grid; grid-row-gap: 5px;\">\n        ${modeDropDown}\n        ${optimisedForDropDown}\n        ${datePicker}\n        ${reverseDirectionChk}\n        ${rangeSlider}`\n  });\n  return paramsDrawer;\n};\n", "mapp.utils.merge(mapp.dictionaries, {\n  en: {\n    mapbox_mode: \"Mode\",\n    mapbox_driving: \"Driving\",\n    mapbox_walking: \"Walking\",\n    mapbox_cycling: \"Cycling\",\n    mapbox_travel_time: \"Travel time in minutes\"\n  },\n  de: {\n    mapbox_mode: \"Mode\",\n    mapbox_driving: \"Kraftfahrzeug\",\n    mapbox_walking: \"zu Fuß\",\n    mapbox_cycling: \"Fahrrad\",\n    mapbox_travel_time: \"Fahrzeit in Minuten\"\n  },\n  cn: {\n    mapbox_mode: \"模式\",\n    mapbox_driving: \"机动车行\",\n    mapbox_walking: \"步行\",\n    mapbox_cycling: \"骑行\",\n    mapbox_travel_time: \"以分钟计交通时间\"\n  },\n  pl: {\n    mapbox_mode: \"Typ\",\n    mapbox_driving: \"Samochodem\",\n    mapbox_walking: \"Piechotą\",\n    mapbox_cycling: \"Rowerem\",\n    mapbox_travel_time: \"Czas podróży w minutach\"\n  },\n  ko: {\n    mapbox_mode: \"모드\",\n    mapbox_driving: \"운전\",\n    mapbox_walking: \"도보\",\n    mapbox_cycling: \"사이클\",\n    mapbox_travel_time: \"여행시간(분)\"\n  },\n  fr: {\n    mapbox_mode: \"Mode\",\n    mapbox_driving: \"En voiture\",\n    mapbox_walking: \"À pied\",\n    mapbox_cycling: \"À velo\",\n    mapbox_travel_time: \"Temps du trajet en minutes \"\n  },\n  ja: {\n    mapbox_mode: \"モード\",\n    mapbox_driving: \"ドライビング\",\n    mapbox_walking: \"ウォーキング\",\n    mapbox_cycling: \"サイクリング\",\n    mapbox_travel_time: \"移動時間 (分)\"\n  }\n});\nexport default (params) => {\n  const modeDropDown = mapp.utils.html.node`\n    <div \n      style=\"display: grid; grid-template-columns: 100px 1fr; align-items: center;\">\n      <div style=\"grid-column: 1;\">${mapp.dictionary.mapbox_mode}</div>\n      <div style=\"grid-column: 2;\">\n        ${mapp.ui.elements.dropdown({\n    entries: [\n      {\n        title: [mapp.dictionary.mapbox_driving],\n        option: \"driving\"\n      },\n      {\n        title: [mapp.dictionary.mapbox_walking],\n        option: \"walking\"\n      },\n      {\n        title: [mapp.dictionary.mapbox_cycling],\n        option: \"cycling\"\n      }\n    ],\n    callback: (e, entry) => {\n      params.profile = entry.option;\n    }\n  })}`;\n  const minuteSlider = mapp.ui.elements.slider({\n    label: mapp.dictionary.mapbox_travel_time,\n    min: params.minutesMin,\n    max: params.minutesMax,\n    val: params.minutes,\n    callback: (e) => {\n      params.minutes = parseInt(e.target.value);\n    }\n  });\n  const paramsDrawer = mapp.ui.elements.drawer({\n    header: mapp.utils.html`\n      <h2>Mapbox Isoline</h2>\n      <div class=\"mask-icon expander\"></div>`,\n    class: \"lv-3 flat\",\n    content: mapp.utils.html`<div class=\"panel\">\n      <div style=\"display: grid; grid-row-gap: 5px;\">\n        ${modeDropDown}\n        ${minuteSlider}`\n  });\n  return paramsDrawer;\n};\n", "const xmlSerializer = new XMLSerializer();\nexport default (params) => {\n  if (params.svg || params.type || params.layers) {\n    let backgroundImage = params.layers && Array.isArray(params.layers) && params.layers.map((_l) => `url(${_l.svg})`).reverse().join(\",\") || `url(${params.svg || params.url || mapp.utils.svgSymbols[params.type](params)})`;\n    let inlineStyle = `\n      background-position: center;\n      background-repeat: no-repeat;\n      background-size: contain;\n      width: ${params.width + \"px\" || \"100%\"};\n      height: ${params.height + \"px\" || \"100%\"};\n      background-image:${backgroundImage};`;\n    return mapp.utils.html`<div style=${inlineStyle}>`;\n  }\n  if (!params.fillColor && params.strokeColor) {\n    let path = `\n      M 0,${params.height / 2}\n      L ${params.width / 2},0\n      ${params.width / 2},${params.height}\n      ${params.width},${params.height / 2}`;\n    let icon = mapp.utils.svg.node`\n      <svg height=${params.height} width=${params.width}>\n        <path d=${path}\n          fill=\"none\"\n          stroke=${params.strokeColor}\n          stroke-width=${params.strokeWidth || 1}/>`;\n    let backgroundImage = `data:image/svg+xml,${encodeURIComponent(xmlSerializer.serializeToString(icon))}`;\n    let inlineStyle = `\n      background-position: center;\n      background-repeat: no-repeat;\n      background-size: contain;\n      width: ${params.width}px;\n      height: ${params.height}px;\n      background-image: url(${backgroundImage});`;\n    return mapp.utils.html`<div style=${inlineStyle}>`;\n  }\n  if (params.fillColor) {\n    let icon = mapp.utils.svg.node`\n      <svg height=${params.height} width=${params.width}>\n        <rect\n          x=${params.strokeWidth || 1}\n          y=${params.strokeWidth || 1}\n          rx=\"4px\"\n          ry=\"4px\"\n          stroke-linejoin=\"round\"\n          width=${params.width - 2 * (params.strokeWidth || 1)}\n          height=${params.height - 2 * (params.strokeWidth || 1)}\n          fill=${params.fillColor}\n          fill-opacity=${params.fillOpacity || 1}\n          stroke=${params.strokeColor}\n          stroke-width=${params.strokeWidth || 1}>`;\n    let backgroundImage = `data:image/svg+xml,${encodeURIComponent(xmlSerializer.serializeToString(icon))}`;\n    let inlineStyle = `\n      background-position: center;\n      background-repeat: no-repeat;\n      background-size: contain;\n      width: ${params.width}px;\n      height: ${params.height}px;\n      background-image: url(${backgroundImage});`;\n    return mapp.utils.html`<div style=${inlineStyle}>`;\n  }\n};\n", "export default (params) => {\n  return mapp.utils.html.node`\n    <div\n      role=\"group\"\n      data-id=${params.data_id || \"slider\"}\n      title=${params.title || \"\"}\n      class=\"input-range single\"\n      style=${`--min: ${params.min}; --max: ${params.max}; --a: ${params.val}; ${params.style || \"\"}`}>\n      <div class=\"label-row\">\n        <label>${params.label}</label>\n        <input id=\"a\"\n          type=\"number\"\n          min=${params.min}\n          max=${params.max}\n          value=${params.val}\n          oninput=${onInput}></input>\n      </div>\n      <div class=\"track-bg\"></div>\n      <input id=\"a\"\n        type=\"range\"\n        min=${params.min}\n        max=${params.max}\n        value=${params.val}\n        step=${params.step || 1}\n        oninput=${onInput}>`;\n  function onInput(e) {\n    e.target.closest(\".input-range\").style.setProperty(`--${e.target.id}`, e.target.value);\n    e.target.closest(\".input-range\").querySelectorAll(\"input\").forEach((el) => {\n      if (el.id != e.target.id)\n        return;\n      if (el == e.target)\n        return;\n      el.value = e.target.value;\n    });\n    params.callback && params.callback(e);\n  }\n};\n", "export default (params) => {\n  const element = mapp.utils.html.node`\n    <div\n      role=\"group\"\n      class=\"input-range multi\"\n      style=${`\n        --min: ${params.min};\n        --max: ${params.max};\n        --a: ${params.val_a};\n        --b: ${params.val_b};`}>\n      <div \n        class=\"label-row\">\n        <label>${params.label_a || \"A\"}\n          <input id=\"a\" type=\"number\"\n            value=${params.val_a}\n            min=${params.min}\n            style=\"--c: var(--a)\"\n            oninput=${onInput}></input>\n        </label>\n        <label>${params.label_b || \"B\"}\n          <input id=\"b\" type=\"number\"\n            value=${params.val_b}\n            style=\"--c: var(--b)\"\n            oninput=${onInput}></input>\n        </label>\n      </div>\n      <div class=\"track-bg\"></div>\n      <input id=\"a\" type=\"range\"\n        min=${params.min}\n        max=${params.max}\n        step=${params.step || 1}\n        value=${params.val_a}\n        oninput=${onInput}/>\n      <input id=\"b\" type=\"range\"\n        min=${params.min}\n        max=${params.max}\n        step=${params.step || 1}\n        value=${params.val_b}\n        oninput=${onInput}/>`;\n  function onInput(e) {\n    element.style.setProperty(`--${e.target.id}`, e.target.value);\n    element.querySelectorAll(\"input\").forEach((el) => {\n      if (el.id != e.target.id)\n        return;\n      if (el == e.target)\n        return;\n      el.value = e.target.value;\n    });\n    e.target.id === \"a\" && typeof params.callback_a === \"function\" && params.callback_a(e);\n    e.target.id === \"b\" && typeof params.callback_b === \"function\" && params.callback_a(b);\n  }\n  return element;\n};\n", "export default {\n  viewport,\n  download_json,\n  download_csv\n};\nfunction viewport(dataview) {\n  return mapp.utils.html`\n    <button\n      class=${`flat ${dataview.viewport && \"active\" || \"\"}`}\n      onclick=${(e) => {\n    e.target.classList.toggle(\"active\");\n    dataview.viewport = !dataview.viewport;\n    dataview.update();\n  }}>Viewport`;\n}\nfunction download_json(dataview) {\n  return mapp.utils.html`\n    <button\n      class=\"flat\"\n      onclick=${() => {\n    dataview.Tabulator.download(\"json\", `${dataview.title || \"table\"}.json`);\n  }}>JSON`;\n}\nfunction download_csv(dataview) {\n  return mapp.utils.html`\n    <button\n      class=\"flat\"\n      onclick=${() => {\n    dataview.Tabulator.download(\"csv\", `${dataview.title || \"table\"}.csv`);\n  }}>CSV`;\n}\n", "import card from \"./card.js\";\nimport chkbox from \"./chkbox.js\";\nimport contextMenu from \"./contextMenu.js\";\nimport drawer from \"./drawer.js\";\nimport drawing from \"./drawing.js\";\nimport dropdown from \"./dropdown.js\";\nimport dropdown_multi from \"./dropdown_multi.js\";\nimport isoline_params_here from \"./isoline_params_here.js\";\nimport isoline_params_mapbox from \"./isoline_params_mapbox.js\";\nimport legendIcon from \"./legendIcon.js\";\nimport slider from \"./slider.js\";\nimport slider_ab from \"./slider_ab.js\";\nimport toolbar_el from \"./toolbar_el.js\";\nexport default {\n  card,\n  chkbox,\n  contextMenu,\n  drawer,\n  drawing,\n  dropdown,\n  dropdown_multi,\n  isoline_params_here,\n  isoline_params_mapbox,\n  legendIcon,\n  slider,\n  slider_ab,\n  toolbar_el\n};\n", "let Chart = null;\nasync function dynamicImport() {\n  if (window.Chart) {\n    Chart = window.Chart;\n    return;\n  }\n  const mod = await import(\"https://cdn.skypack.dev/chart.js@3.7.0\");\n  mod.Chart.register(...mod.registerables);\n  const pluginDatalabels = await import(\"https://cdn.skypack.dev/chartjs-plugin-datalabels@2.0.0\");\n  mod.Chart.register(pluginDatalabels.default);\n  const pluginAnnotation = await import(\"https://cdn.skypack.dev/chartjs-plugin-annotation@1.3.0\");\n  mod.Chart.register(pluginAnnotation.default);\n  Chart = mod.Chart;\n}\nexport default async function(canvas, options) {\n  if (!Chart)\n    await dynamicImport();\n  return new Chart(canvas, options);\n}\n", "let Tabulator = null;\nasync function dynamicImport() {\n  if (window.Tabulator) {\n    Tabulator = window.Tabulator;\n    return;\n  }\n  const mod = await import(\"https://cdn.skypack.dev/pin/tabulator-tables@v5.0.10-xDu7yyLVhsxCKJbN5vfH/mode=imports/optimized/tabulator-tables.js\");\n  Tabulator = mod.TabulatorFull;\n}\nexport default async function() {\n  if (!Tabulator)\n    await dynamicImport();\n  return new Tabulator(...arguments);\n}\n", "const idle = {\n  idle: 600\n};\nexport default (params) => {\n  Object.assign(idle, params);\n  if (idle.idle === 0)\n    return;\n  window.onload = resetTimer;\n  window.onmousemove = resetTimer;\n  window.onmousedown = resetTimer;\n  window.ontouchstart = resetTimer;\n  window.onclick = resetTimer;\n  window.onkeypress = resetTimer;\n  resetTimer();\n  renewToken();\n};\nfunction resetTimer() {\n  if (idle.locked)\n    return;\n  idle.timeout && clearTimeout(idle.timeout);\n  idle.timeout = setTimeout(lock, idle.idle * 1e3);\n}\nfunction lock() {\n  idle.locked = true;\n  idle.renew && clearTimeout(idle.renew);\n  const xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", `${idle.host}/api/user/cookie?destroy=true`);\n  xhr.send();\n  const form = mapp.utils.html.node`\n    <form\n      class=\"login\"\n      action=\"${`${idle.host}/api/user/login`}\"\n      method=\"post\"\n      autocomplete=\"off\">\n     \n      <input\n        name=\"login\"\n        class=\"display-none\"\n        value=true>\n  \n      <input\n        name=\"language\"\n        class=\"display-none\"\n        value=\"en\"\n        required>\n  \n      <div class=\"input-group\">\n        <input\n          id=\"auth_user_email\"\n          name=\"email\"\n          type=\"email\"\n          required maxlength=\"50\">\n        <span class=\"bar\"></span>\n        <label style=\"color: #fff\" for=\"auth_user_email\">E-mail</label>\n      </div>\n  \n      <div class=\"input-group\">\n        <input\n          id=\"auth_user_password\"\n          name=\"password\"\n          type=\"password\"\n          required minlength=\"8\">\n        <span class=\"bar\"></span>\n        <label style=\"color: #fff\" for=\"auth_user_password\">Password</label>\n      </div>\n     \n      <button id=\"btnLogin\" type=\"submit\">Log In</button>\n\n      <div class=\"msg\"></div>\n        \n    </form>`;\n  form.onsubmit = (e) => {\n    e.preventDefault();\n    const xhr2 = new XMLHttpRequest();\n    xhr2.open(\"POST\", `${idle.host}/api/user/login`);\n    xhr2.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n    xhr2.onload = (e2) => {\n      if (e2.target.status === 401) {\n        form.querySelector(\".msg\").textContent = e2.target.response;\n      }\n      if (e2.target.status === 200) {\n        delete idle.locked;\n        idle.mask.remove();\n        resetTimer();\n        renewToken();\n      }\n    };\n    xhr2.send(`login=true&email=${form.querySelector(\"#auth_user_email\").value}&password=${form.querySelector(\"#auth_user_password\").value}`);\n  };\n  idle.mask = document.body.appendChild(mapp.utils.html.node`\n    <div class=\"interfaceMask\">${form}`);\n}\nfunction renewToken() {\n  idle.renew = setTimeout(cookie, (idle.idle - 20) * 1e3);\n  function cookie() {\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", `${idle.host}/api/user/cookie?renew=true`);\n    xhr.onload = (e) => {\n      if (e.target.status === 401)\n        return lock();\n      renewToken();\n    };\n    xhr.send();\n  }\n}\n", "export default (e) => {\n  document.body.append(mapp.utils.html.node`\n    <div class=\"interfaceMask\">\n      <div class=\"bg-image\" style=${`background-image:url(${e.target.src})`}>\n      <button class=\"btn-close mask-icon close\"\n        onclick=${(e2) => e2.target.parentElement.parentElement.remove()}>`);\n};\n", "export default (params) => {\n  params.target.addEventListener(\"mousedown\", (e) => {\n    e.preventDefault();\n    document.body.style.cursor = \"grabbing\";\n    window.addEventListener(\"mousemove\", params.resizeEvent);\n    window.addEventListener(\"mouseup\", stopResize);\n  });\n  params.target.addEventListener(\"touchstart\", (e) => {\n    e.preventDefault();\n    window.addEventListener(\"touchmove\", params.resizeEvent);\n    window.addEventListener(\"touchend\", stopResize);\n  }, {\n    passive: true\n  });\n  function stopResize() {\n    document.body.style.cursor = \"auto\";\n    window.removeEventListener(\"mousemove\", params.resizeEvent);\n    window.removeEventListener(\"touchmove\", params.resizeEvent);\n    window.removeEventListener(\"mouseup\", stopResize);\n    window.removeEventListener(\"touchend\", stopResize);\n  }\n};\n", "import Chart from \"./Chart.js\";\nimport Tabulator from \"./Tabulator.js\";\nimport idleMask from \"./idleMask.js\";\nimport imagePreview from \"./imagePreview.js\";\nimport resizeHandler from \"./resizeHandler.js\";\nexport default {\n  Chart,\n  Tabulator,\n  idleMask,\n  imagePreview,\n  resizeHandler\n};\nfunction isInViewport(el) {\n  const rect = el.getBoundingClientRect();\n  return rect.top >= 0 && rect.left >= 0 && rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) && rect.right <= (window.innerWidth || document.documentElement.clientWidth);\n}\nfunction scrollDialog(fp, scrollParent) {\n  function findScrollParent(candidate) {\n    const calcStyle = window.getComputedStyle(candidate);\n    if (calcStyle[\"overflowY\"] === \"auto\" || calcStyle[\"overflowY\"] === \"scroll\") {\n      scrollParent = candidate;\n      return;\n    }\n    candidate.parentElement && findScrollParent(candidate.parentElement);\n  }\n  !scrollParent && findScrollParent(fp._positionElement.parentElement);\n  fp.config.onOpen.push(() => {\n    scrollParent.addEventListener(\"scroll\", scrollEvent, {passive: true});\n  });\n  fp.config.onClose.push(() => {\n    scrollParent.removeEventListener(\"scroll\", scrollEvent);\n  });\n  function scrollEvent() {\n    fp._positionCalendar();\n  }\n}\n", "export default (params) => {\n  const gazetteer = Object.assign({\n    search,\n    input: params.target.querySelector(\"input\"),\n    result: params.target.querySelector(\"ul\"),\n    sources: {\n      glx,\n      mapbox,\n      google,\n      opencage\n    },\n    select,\n    createFeature,\n    icon: {\n      type: \"markerColor\",\n      colorMarker: \"#003D57\",\n      colorDot: \"#939faa\",\n      anchor: [0.5, 1],\n      scale: 3\n    }\n  }, params);\n  gazetteer.input.placeholder = gazetteer.placeholder || \"\";\n  gazetteer.input.addEventListener(\"keyup\", (e) => {\n    const keyset = new Set([37, 38, 39, 40, 13]);\n    !keyset.has(e.keyCode || e.charCode) && e.target.value.length > 0 && gazetteer.search(e.target.value);\n  });\n  gazetteer.input.addEventListener(\"keydown\", (e) => {\n    const key = e.keyCode || e.charCode;\n    if (key === 46 || key === 8) {\n      gazetteer.xhr && gazetteer.xhr.abort();\n      gazetteer.clear();\n      gazetteer.layer && gazetteer.mapview.Map.removeLayer(gazetteer.layer);\n      return;\n    }\n    if (key === 13) {\n      let latlng = e.target.value.split(\",\").map(parseFloat);\n      if (latlng[1] > -90 && latlng[1] < 90 && (latlng[0] > -180 && latlng[0] < 180)) {\n        gazetteer.xhr && gazetteer.xhr.abort();\n        gazetteer.clear();\n        gazetteer.createFeature({\n          type: \"Point\",\n          coordinates: [latlng[1], latlng[0]]\n        });\n      }\n      gazetteer.result.querySelector(\"li\").click();\n    }\n  });\n  gazetteer.input.addEventListener(\"focusout\", () => {\n    gazetteer.xhr && gazetteer.xhr.abort();\n    setTimeout(gazetteer.clear, 400);\n  });\n  gazetteer.clear = () => {\n    gazetteer.target.classList.remove(\"active\");\n    gazetteer.result.innerHTML = \"\";\n  };\n  function search(term, params2 = {}) {\n    gazetteer.clear && gazetteer.clear();\n    gazetteer.xhr && gazetteer.xhr.abort();\n    gazetteer.xhr = new XMLHttpRequest();\n    gazetteer.xhr.open(\"GET\", gazetteer.mapview.host + \"/api/gazetteer?\" + mapp.utils.paramString({\n      locale: gazetteer.mapview.locale.key,\n      q: encodeURIComponent(term),\n      source: params2.source\n    }));\n    gazetteer.xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n    gazetteer.xhr.responseType = \"json\";\n    gazetteer.xhr.onload = (e) => {\n      if (e.target.status !== 200)\n        return;\n      if (gazetteer.callback)\n        return gazetteer.callback(e.target.response);\n      if (e.target.response.length === 0) {\n        gazetteer.result.appendChild(mapp.utils.html.node`\n          <li>${mapp.dictionary.no_results}`);\n        return gazetteer.target.classList.add(\"active\");\n      }\n      Object.values(e.target.response).forEach((entry) => {\n        gazetteer.result.appendChild(mapp.utils.html.node`\n          <li\n            onclick=${(e2) => {\n          if (!entry.source || !entry.id) {\n            if (gazetteer.callback)\n              return gazetteer.callback(entry);\n            entry.marker && gazetteer.createFeature({\n              type: \"Point\",\n              coordinates: entry.marker.split(\",\")\n            });\n            return;\n          }\n          gazetteer.select({\n            label: entry.label,\n            id: entry.id,\n            source: entry.source,\n            layer: entry.layer,\n            table: entry.table,\n            marker: entry.marker,\n            callback: params2.callback\n          });\n        }}>\n        ${gazetteer.label ? mapp.utils.html.node`\n          <span\n            style=\"padding: 0 2px; cursor: help; border-radius: 2px;\">\n              ${gazetteer.mapview.layers[entry.layer] && gazetteer.mapview.layers[entry.layer].name || entry.layer || entry.source}</span>` : ``}\n              <span>${entry.label}</span>`);\n        gazetteer.target.classList.add(\"active\");\n      });\n    };\n    gazetteer.xhr.send();\n  }\n  function createFeature(geom) {\n    geom = typeof geom === \"string\" && JSON.parse(geom) || geom;\n    gazetteer.layer && gazetteer.mapview.Map.removeLayer(gazetteer.layer);\n    gazetteer.layer = gazetteer.mapview.geoJSON({\n      geometry: geom,\n      dataProjection: \"4326\",\n      Style: mapp.utils.style({\n        icon: gazetteer.icon\n      })\n    });\n    const view = gazetteer.mapview.Map.getView();\n    view.animate({\n      zoom: gazetteer.zoom || view.getMaxZoom()\n    }, {\n      center: ol.proj.fromLonLat(geom.coordinates)\n    });\n  }\n  function select(record) {\n    gazetteer.clear && gazetteer.clear();\n    if (gazetteer.input)\n      gazetteer.input.value = record.label;\n    gazetteer.sources[record.source](record);\n  }\n  function glx(record) {\n    if (typeof gazetteer.callback === \"function\") {\n      return gazetteer.callback(record);\n    }\n    mapp.location.get({\n      layer: gazetteer.mapview.layers[record.layer],\n      table: record.table,\n      id: record.id\n    }).then((loc) => loc.flyTo());\n  }\n  function mapbox(record) {\n    gazetteer.createFeature({\n      type: \"Point\",\n      coordinates: record.marker\n    });\n    record.callback && record.callback();\n  }\n  function google(record) {\n    mapp.utils.xhr(`${gazetteer.mapview.host}/api/proxy?url=${encodeURIComponent(`https://maps.googleapis.com/maps/api/place/details/json?placeid=${record.id}&{GOOGLE}`)}`).then((response) => {\n      const feature = {\n        type: \"Point\",\n        coordinates: [response.result.geometry.location.lng, response.result.geometry.location.lat]\n      };\n      gazetteer.createFeature(feature);\n      if (gazetteer.callback)\n        return gazetteer.callback(feature);\n      record.callback && record.callback(feature);\n    });\n  }\n  function opencage(record) {\n    gazetteer.createFeature({\n      type: \"Point\",\n      coordinates: record.marker\n    });\n    record.callback && record.callback();\n  }\n};\n", "import layers from \"./ui/layers/_layers.js\";\nimport locations from \"./ui/locations/_locations.js\";\nimport Dataview from \"./ui/dataviews/_dataview.js\";\nimport Tabview from \"./ui/Tabview.js\";\nimport elements from \"./ui/elements/_elements.js\";\nimport utils from \"./ui/utils/_utils.js\";\nimport gazetteer from \"./ui/gazetteer.js\";\nconst ui = {\n  layers,\n  locations,\n  elements,\n  utils,\n  gazetteer,\n  Dataview,\n  Tabview\n};\nif (typeof window.mapp === \"object\") {\n  window.mapp.ui = ui;\n}\nexport default ui;\n"],
  "mappings": "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",
  "names": []
}
