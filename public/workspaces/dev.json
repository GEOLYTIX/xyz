{
  "templates": {
    "blog": {
      "src": "file://views/blog.html"
    },
    "embedded": {
      "src": "file://views/embedded.html"
    },
    "Mapbox Base": {
      "format": "mbtiles",
      "mbStyle": "mapbox://styles/dbauszus/ciozrimi3002bdsm8bjtn2v1y",
      "accessToken": "pk.eyJ1IjoiZGJhdXN6dXMiLCJhIjoiY2tmY25oa2thMWhoMDJzbGNldmF2ZzYzcCJ9.IWcezkYm8mipsGXygnYbNw",
      "attribution": {
        "© Mapbox": "https://www.mapbox.com/about/maps",
        "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
      }
    },
    "Mapbox Colour": {
      "format": "mbtiles",
      "mbStyle": "mapbox://styles/dbauszus/ck440h6990nii1co520go20i2",
      "accessToken": "pk.eyJ1IjoiZGJhdXN6dXMiLCJhIjoiY2tmY25oa2thMWhoMDJzbGNldmF2ZzYzcCJ9.IWcezkYm8mipsGXygnYbNw",
      "attribution": {
        "© Mapbox": "https://www.mapbox.com/about/maps",
        "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
      }
    },
    "Mapbox Label": {
      "format": "mbtiles",
      "mbStyle": "mapbox://styles/dbauszus/cj9puo8pr5o0c2sovhdwhkc7z",
      "accessToken": "pk.eyJ1IjoiZGJhdXN6dXMiLCJhIjoiY2tmY25oa2thMWhoMDJzbGNldmF2ZzYzcCJ9.IWcezkYm8mipsGXygnYbNw",
      "attribution": {
        "© Mapbox": "https://www.mapbox.com/about/maps",
        "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
      }
    },
    "Mapbox Mask": {
      "format": "mbtiles",
      "mbStyle": "mapbox://styles/dbauszus/ckj2u1dx20fw519pbblu2q1by",
      "accessToken": "pk.eyJ1IjoiZGJhdXN6dXMiLCJhIjoiY2tmY25oa2thMWhoMDJzbGNldmF2ZzYzcCJ9.IWcezkYm8mipsGXygnYbNw",
      "attribution": {
        "© Mapbox": "https://www.mapbox.com/about/maps",
        "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
      }
    },
    "HERE Imagery": {
      "format": "tiles",
      "URI": "https://2.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/satellite.day/{z}/{x}/{y}/256/png8?${HERE}",
      "attribution": {
        "© Here": "https://www.here.com/",
        "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
      }
    },
    "HERE Hybrid": {
      "format": "tiles",
      "URI": "https://2.aerial.maps.ls.hereapi.com/maptile/2.1/maptile/newest/hybrid.day/{z}/{x}/{y}/256/png8?${HERE}",
      "attribution": {
        "© Here": "https://www.here.com/",
        "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
      }
    },
    "OSM": {
      "format": "tiles",
      "URI": "https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",
      "attribution": {
        "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
      }
    },
    "Random Data Series": {
      "src": "cloudfront:${CDN}/dev/queries/random_data_series.sql"
    },
    "Random Data Series 2": {
      "template": "select ARRAY [json_build_object('data', ARRAY [random1::integer, random2::integer, random3::integer, random4::integer, random5::integer])] AS datasets, ARRAY ['Rand 1', 'Rand 2', 'Rand 3', 'Rand 4', 'Rand 5'] AS labels from dev.uk_glx_sites where id = ${id};"
    },
    "Population Summary Sites": {
      "src": "https://api.github.com/repos/GEOLYTIX/xyz_resources/contents/dev/queries/population_summary.txt"
    },
    "Nearest competitors Sites": {
      "template": "SELECT (ROUND(((ST_Transform(a.geom_4326, 3857) <#> ST_Transform(b.geom_p_4326, 3857))/1000)::numeric, 2))::text AS dist,(b.fascia)::text AS fascia,(b.postcode)::text AS postcode FROM dev.uk_glx_sites a, geodata.uk_glx_open_retail_points b WHERE a.id = ${id} ORDER BY ST_Transform(a.geom_4326, 3857) <#> ST_Transform(b.geom_p_4326, 3857) NULLS LAST LIMIT 5;"
    },
    "Dev sites report": {
      "src": "https://api.github.com/repos/GEOLYTIX/xyz_resources/contents/dev/report_sites/sites.html"
    },
    "Sites Local Report": {
      "src": "http://localhost:3000/views/report_location.html"
    },
    "japan_restaurants": {
      "format": "cluster",
      "dbs": "DEV",
      "table": "geodata.jpn_glx_geodata_retail_locations_restaurants",
      "geom": "geom_p_4326",
      "srid": "4326",
      "cluster_label": "chain_name",
      "cluster_kmeans": 0.01,
      "cluster_dbscan": 0.1,
      "qID": "id"
    },
    "Agata": {
      "src": "cloudfront:${CDN}/dev/aga/layer.jsons"
    },
    "Dennis": {
      "src": "file:workspaces/dennis.json"
    }
  },
  "locales": {
    "UK": {
      "bounds": {
        "north": 62,
        "east": 5,
        "south": 49,
        "west": -13
      },
      "minZoom": 2,
      "maxZoom": 17,
      "showScaleBar": true,
      "layers": {
        "Mapbox Base": {
          "template": "Mapbox Base",
          "display": true
        },
        "Grid": {
          "format": "mvt",
          "dbs": "MAPP",
          "geom": "geom_p_3857",
          "srid": "3857",
          "tables": {
            "7": null,
            "8": "geodata.uk_glx_geodata_hex_16k",
            "9": "geodata.uk_glx_geodata_hex_8k",
            "10": "geodata.uk_glx_geodata_hex_4k",
            "11": "geodata.uk_glx_geodata_hex_2k",
            "12": "geodata.uk_glx_geodata_hex_1k",
            "13": "geodata.uk_glx_geodata_hex_1k",
            "14": null
          },
          "style": {
            "theme": {
              "type": "dynamic",
              "field": "pop__01",
              "geostat": "getClassJenks",
              "cat_arr": [
                {
                  "style": {
                    "marker": {
                      "type": "dot",
                      "fillColor": "#BA2D0B",
                      "scale": 1.3
                    }
                  }
                },
                {
                  "style": {
                    "marker": {
                      "type": "dot",
                      "fillColor": "#F3A712",
                      "scale": 1.3
                    }                    
                  }
                },
                {
                  "style": {
                    "marker": {
                      "type": "dot",
                      "fillColor": "#FADF63",
                      "scale": 1.3
                    }                    
                  }
                },
                {
                  "style": {
                    "marker": {
                      "type": "dot",
                      "fillColor": "#32746D",
                      "scale": 1.3
                    }
                  }
                }
              ]
            }
          },
          "grid_fields": {
            "Population 2001": "pop__01",
            "Population 2011": "pop__11",
            "Female population": "gen_female__11",
            "Male population": "gen_male__11"
          }
        },
        "Retail Places": {
          "format": "mvt",
          "dbs": "DEV",
          "tables": {
            "8": null,
            "9": "dev.uk_glx_geodata_retail_place_working"
          },
          "geom": "geom_3857",
          "srid": "3857",
          "style": {
            "themes": {
              "Retail Place type": {
                "type": "categorized",
                "field": "rp_type",
                "other": true,
                "cat": {
                  "City Centre": {
                    "style": {
                      "strokeColor": "#BA2D0B",
                      "fillColor": "#BA2D0B"
                    }
                  },
                  "Town Centre": {
                    "style": {
                      "strokeColor": "#F3A712",
                      "fillColor": "#F3A712"
                    }
                  },
                  "Urban Centre": {
                    "style": {
                      "strokeColor": "#FADF63",
                      "fillColor": "#FADF63"
                    }
                  },
                  "Retail Park": {
                    "style": {
                      "strokeColor": "#32746D",
                      "fillColor": "#32746D"
                    }
                  },
                  "Local Hub": {
                    "style": {
                      "strokeColor": "#08B2E3",
                      "fillColor": "#08B2E3"
                    }
                  },
                  "Parade": {
                    "style": {
                      "strokeColor": "#541388",
                      "fillColor": "#541388"
                    }
                  }
                }
              }
            }
          },
          "qID": "id",
          "filter": {
            "infoj": [{
              "title": "ID count",
              "field": "id_count",
              "type": "integer",
              "inline": true,
              "fieldfx": "count(id)"
            }]
          },
          "infoj": [{
            "title": "RP Type",
            "field": "rp_type",
            "filter": {
              "in": [
                "Major City Centre",
                "Large Town Centre",
                "Village Centre",
                "Weak Parade"
              ]
            }
          }]
        },
        "Retail Points HX": {
          "format": "cluster",
          "dbs": "DEV",
          "table": "dev.uk_glx_open_retail_points_food_stores",
          "geom": "geom_p_4326",
          "srid": "4326",
          "cluster_hexresolution": 0.1,
          "qID": "id",
          "cluster_label": "store_name",
          "infoj": [{
            "field": "id"
          }]
        },
        "Scratch": {
          "format": "mvt",
          "dbs": "DEV",
          "table": "dev.scratch",
          "srid": "3857",
          "geom": "geom_3857",
          "qID": "id",
          "edit": {
            "polygon": true,
            "freehand": true,
            "circle": true,
            "rectangle": true,
            "line": true,
            "point": true,
            "isoline_mapbox": {
              "access_token": "pk.eyJ1IjoiZGJhdXN6dXMiLCJhIjoiY2tmY25oa2thMWhoMDJzbGNldmF2ZzYzcCJ9.IWcezkYm8mipsGXygnYbNw"
            },
            "isoline_here": true,
            "delete": true
          },
          "infoj": [
            {
              "title": "ID",
              "field": "id"
            },
            {
              "title": "char_field",
              "field": "char_field",
              "edit": true
            },
            {
              "title": "textarea",
              "field": "textarea",
              "type": "textarea",
              "edit": true
            },
            {
              "title": "char_field",
              "field": "char_field",
              "edit": true
            },
            {
              "title": "integer_field",
              "field": "integer_field",
              "type": "integer",
              "edit": true
            },
            {
              "title": "numeric_field",
              "field": "numeric_field",
              "type": "numeric",
              "edit": true
            },
            {
              "field": "json_field",
              "title": "json_field",
              "type": "json",
              "edit": true
            },
            {
              "title": "datetime_integer",
              "field": "datetime_integer",
              "type": "datetime",
              "edit": true
            },
            {
              "title": "bool_field",
              "field": "bool_field",
              "type": "boolean",
              "edit": true
            },
            {
              "title": "options_field",
              "field": "options_field",
              "edit": {
                "options": [{
                    "Open": "1"
                  },
                  {
                    "Closed": "2"
                  },
                  "Other"
                ]
              }
            },
            {
              "title": "images",
              "field": "images",
              "type": "images",
              "edit": true
            },
            {
              "title": "documents",
              "field": "documents",
              "type": "documents",
              "edit": true
            },
            {
              "name": "isoline here",
              "field": "isoline_here",
              "fieldfx": "ST_asGeoJSON(isoline_here)",
              "type": "geometry",
              "edit": {
                "isoline_here": {}
              },
              "style": {
                "strokeColor": "#43a047",
                "strokeWidth": 2,
                "fillColor": "#43a047",
                "fillOpacity": 0.2
              }
            },
            {
              "name": "isoline mapbox",
              "field": "isoline_mapbox",
              "fieldfx": "ST_asGeoJSON(isoline_here)",
              "type": "geometry",
              "edit": {
                "isoline_mapbox": {
                  "access_token": "pk.eyJ1IjoiZGJhdXN6dXMiLCJhIjoiY2tmY25oa2thMWhoMDJzbGNldmF2ZzYzcCJ9.IWcezkYm8mipsGXygnYbNw"
                }
              }
            }
          ]
        },
        "Agata": {
          "template": "Agata"
        },
        "Dennis": {
          "template": "Dennis"
        }
      }
    },
    "Japan": {
      "name": "日本",
      "bounds": {
        "north": 45,
        "east": 149,
        "south": 30,
        "west": 127
      },
      "minZoom": 6,
      "maxZoom": 17,
      "layers": {
        "Mapbox Colour": {
          "template": "Mapbox Colour",
          "display": true
        },
        "restaurants_ja": {
          "name": "レストラン",
          "template": "japan_restaurants",
          "display": true,
          "roles": {
            "ja": true
          },
          "infoj": [{
              "type": "key"
            },
            {
              "field": "local_name",
              "title": "レストラン名"
            },
            {
              "field": "chain_name",
              "title": "レストランチェーン"
            },
            {
              "field": "info",
              "title": "情報"
            }
          ]
        },
        "restaurants": {
          "name": "Restaurants",
          "template": "japan_restaurants",
          "display": true,
          "roles": {
            "!ja": null
          },
          "infoj": [{
              "type": "key"
            },
            {
              "field": "local_name",
              "title": "Name"
            },
            {
              "field": "chain_name",
              "title": "Chain"
            },
            {
              "field": "info",
              "title": "Info"
            }
          ]
        }
      }
    }
  }
}