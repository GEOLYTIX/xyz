{
  "title": "GEOLYTIX | XYZ DEV",
  "templates": {
    "NE Countries table1": {
      "template": "SELECT name, pop_est, gdp_md_est FROM dev.natural_earth_countries WHERE true ${viewport} ${filter} ORDER BY id ASC FETCH FIRST 99 ROW ONLY;",
      "dbs": "XYZ"
    },
    "NE GDP/Population Layer Table": {
      "template": "SELECT id, name, gdp_md_est, pop_est FROM dev.natural_earth_countries WHERE true ${viewport} ${filter} ORDER BY id ASC FETCH FIRST 99 ROW ONLY;",
      "dbs": "XYZ"
    },
    "Random Data Series": {
      "template": "SELECT id AS id, random1 AS random1, random2 AS random2, random3 AS random3, random4 AS random4, random5 AS random5, random5 AS rev_random1, random4 AS rev_random2, random3 AS rev_random3, random2 AS rev_random4, random1 AS rev_random5 FROM dev.uk_glx_sites WHERE id = ${id};",
      "dbs": "XYZ"
    },
    "Population Summary Sites": {
      "template": "https://api.github.com/repos/GEOLYTIX/xyz_resources/contents/dev/queries/population_summary.txt",
      "dbs": "XYZ"
    },
    "Worker Summary Sites": {
      "template": "WITH workers AS (SELECT (SUM(case when ST_distance(ST_Transform(a.geom_4326,27700),ST_transform(b.geom_p_4326,27700))<=250 then b.workers else 0 end))::integer AS workers_250,(SUM(case when ST_distance(ST_Transform(a.geom_4326,27700),ST_transform(b.geom_p_4326,27700))<=500 then b.workers else 0 end))::integer AS workers_500 FROM dev.uk_glx_sites a, geodata.uk_glx_geodata_hex_1k b WHERE a.id = ${id} AND ST_INTERSECTS(a.isoline_15min, b.geom_p_4326)) SELECT UNNEST(ARRAY['Workers 250m','Workers 500m']) AS rows,UNNEST(ARRAY[workers.workers_250,workers.workers_500]) AS workers FROM workers;",
      "dbs": "XYZ"
    },
    "Nearest competitors Sites": {
      "template": "SELECT (ROUND(((ST_Transform(a.geom_4326, 3857) <#> ST_Transform(b.geom_p_4326, 3857))/1000)::numeric, 2))::text AS dist,(b.fascia)::text AS fascia,(b.postcode)::text AS postcode FROM dev.uk_glx_sites a, geodata.uk_glx_open_retail_points b WHERE a.id = ${id} ORDER BY ST_Transform(a.geom_4326, 3857) <#> ST_Transform(b.geom_p_4326, 3857) NULLS LAST LIMIT 5;",
      "dbs": "XYZ"
    },
    "Dev sites report": {
      "template": "https://api.github.com/repos/GEOLYTIX/xyz_resources/contents/dev/report_sites/sites.html"
    },
    "Sites Local Report": {
      "template": "http://localhost:3000/views/report_location.html"
    },
    "aga_isoline_5min": {
      "template": "SELECT ROUND(sum(b.pop__11)) as _pop__11_5min, ROUND(sum(b.pop__12)) as _pop__12_5min, ROUND(sum(b.pop__13)) as _pop__13_5min, ROUND(sum(b.pop__14)) as _pop__14_5min, ROUND(sum(b.pop__15)) as _pop__15_5min, ROUND(sum(b.pop__16)) as _pop__16_5min, ROUND(sum(b.pop__17)) as _pop__17_5min, ROUND(sum(b.pop__18)) as _pop__18_5min FROM dev.uk_glx_sites a, geodata.uk_glx_geodata_hex_1k b WHERE a.id = ${id} AND st_intersects(a.isoline_5min, b.geom_p_4326);",
      "dbs": "XYZ"
    },
    "UK Retail Places Layer Table": {
      "template": "SELECT tid AS qID, id, dev_date ,rp_type, comp_strgh, est_units, est_brands FROM dev.retailplaces WHERE true ${viewport} ORDER BY tid ASC FETCH FIRST 99 ROW ONLY;",
      "dbs": "XYZ"
    },
    "UK Retail Places Profile": {
      "template": "SELECT ROUND(comparison::numeric, 2) AS comparison, ROUND(conv::numeric, 2) AS conv, ROUND(fbl::numeric, 2) AS fbl, ROUND(services::numeric, 2) AS services, ROUND(classbrass::numeric, 2) AS classbrass FROM dev.retailplaces WHERE tid = ${id};",
      "dbs": "XYZ"
    },
    "UK Retail Points Layer Table": {
      "template": "SELECT id, retailpoint_id, retailer, fascia FROM dev.retailpoints ORDER BY id ASC FETCH FIRST 99 ROW ONLY;",
      "dbs": "XYZ"
    }
  },
  "locales": {
    "Natural Earth": {
      "minZoom": 3,
      "maxZoom": 14,
      "gazetteer": {
        "provider": "OPENCAGE",
        "placeholder": "e.g. Venice",
        "bounds": "-13,48,5,62",
        "code": "GB"
      },
      "layers": {
        "OSM": {
          "group": "Maps",
          "meta": "<p>Test paragraph for meta in group</p>",
          "format": "tiles",
          "attribution": {
            "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
          },
          "URI": "https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"
        },
        "Mapbox": {
          "group": "Maps",
          "attribution": {
            "© Mapbox": "https://www.mapbox.com/about/maps",
            "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
          },
          "format": "tiles",
          "URI": "/styles/v1/dbauszus/ciozrimi3002bdsm8bjtn2v1y/tiles/256/{z}/{x}/{y}?&provider=MAPBOX&host=https://api.mapbox.com"
        },
        "Countries": {
          "display": true,
          "attribution": {
            "Made with Natural Earth.": "https://www.naturalearthdata.com/"
          },
          "format": "mvt",
          "dbs": "XYZ",
          "mvt_cache": "dev.natural_earth_countries__mvts",
          "tables": {
            "2": null,
            "3": "dev.natural_earth_countries"
          },
          "geom": "geom_3857",
          "srid": "3857",
          "dataviews": {
            "table1": {
              "title": "Population / GDP",
              "query": "NE Countries table1",
              "viewport": true,
              "columns": [{
                  "field": "name",
                  "title": "Name"
                },
                {
                  "title": "Population Est",
                  "field": "pop_est"
                },
                {
                  "field": "gdp_md_est"
                }
              ]
            },
            "GDP / Population": {
              "display": true,
              "query": "NE GDP/Population Layer Table",
              "viewport": true,
              "selectable": true,
              "layout": "fitColumns",
              "columns": [{
                  "field": "name",
                  "customFormatter": "colour",
                  "formatterParams": {
                    "colour": "#090"
                  }
                },
                {
                  "field": "gdp_md_est",
                  "formatter": "money",
                  "hozAlign": "right",
                  "formatterParams": {
                    "symbol": " dollars",
                    "symbolAfter": true,
                    "precision": 0
                  }
                },
                {
                  "title": "Population Est",
                  "field": "pop_est",
                  "formatter": "money",
                  "hozAlign": "center",
                  "formatterParams": {
                    "precision": false
                  }
                }
              ]
            },
            "multiviews": {
              "dataviews": [{
                  "query": "NE Countries table1",
                  "viewport": true,
                  "columns": [{
                      "field": "name",
                      "title": "Name"
                    },
                    {
                      "title": "Population Est",
                      "field": "pop_est"
                    },
                    {
                      "field": "gdp_md_est"
                    }
                  ]
                },
                {
                  "query": "NE GDP/Population Layer Table",
                  "viewport": true,
                  "selectable": true,
                  "layout": "fitColumns",
                  "columns": [{
                      "field": "name"
                    },
                    {
                      "field": "gdp_md_est",
                      "formatter": "money",
                      "hozAlign": "right",
                      "formatterParams": {
                        "symbol": " dollars",
                        "symbolAfter": true,
                        "precision": 0
                      }
                    },
                    {
                      "title": "Population Est",
                      "field": "pop_est",
                      "formatter": "money",
                      "hozAlign": "center",
                      "formatterParams": {
                        "precision": false
                      }
                    }
                  ]
                }
              ]
            }
          },
          "qID": "id",
          "infoj": [{
              "type": "key"
            },
            {
              "label": "Name",
              "field": "name"
            },
            {
              "label": "Population Est",
              "field": "pop_est",
              "type": "integer"
            },
            {
              "label": "Population Est edit",
              "field": "pop_est_edit",
              "type": "integer",
              "filter": "numeric",
              "edit": true
            },
            {
              "label": "GDP",
              "field": "gdp_md_est",
              "type": "integer",
              "suffix": " dollars"
            },
            {
              "label": "GDP edit",
              "field": "gdp_md_est_edit",
              "type": "integer",
              "edit": true
            },
            {
              "label": "Area SRID:3857",
              "field": "area_",
              "fieldfx": "ST_Area(geom_3857)",
              "type": "integer"
            }
          ],
          "style": {
            "default": {
              "strokeColor": "#004BA8",
              "fillColor": "#ffffff",
              "fillOpacity": 0.8
            },
            "highlight": {
              "fillOpacity": 1,
              "strokeWidth": 2
            },
            "themes": {
              "Population": {
                "type": "graduated",
                "field": "pop_est_edit",
                "cat_arr": [{
                    "value": 0,
                    "label": "0 to 10000",
                    "style": {
                      "fillColor": "#15773f"
                    }
                  },
                  {
                    "value": 1000000,
                    "label": "1+ million",
                    "style": {
                      "fillColor": "#66bd63"
                    }
                  },
                  {
                    "value": 10000000,
                    "label": "10+ million",
                    "style": {
                      "fillColor": "#a6d96a"
                    }
                  },
                  {
                    "value": 25000000,
                    "label": "25+ million",
                    "style": {
                      "fillColor": "#d9ef8b"
                    }
                  },
                  {
                    "value": 50000000,
                    "label": "50+ million",
                    "style": {
                      "fillColor": "#fdae61"
                    }
                  },
                  {
                    "value": 100000000,
                    "label": "100+ million",
                    "style": {
                      "fillColor": "#f46d43"
                    }
                  },
                  {
                    "value": 1000000000,
                    "label": "1+ billion",
                    "style": {
                      "fillColor": "#d73027"
                    }
                  }
                ]
              },
              "GDP": {
                "type": "graduated",
                "field": "gdp_md_est",
                "cat_arr": [{
                    "value": 0,
                    "label": "0",
                    "style": {
                      "fillColor": "#15773f"
                    }
                  },
                  {
                    "value": 5000,
                    "label": "5000",
                    "style": {
                      "fillColor": "#66bd63"
                    }
                  },
                  {
                    "value": 25000,
                    "label": "25000",
                    "style": {
                      "fillColor": "#a6d96a"
                    }
                  },
                  {
                    "value": 75000,
                    "label": "75000",
                    "style": {
                      "fillColor": "#d9ef8b"
                    }
                  },
                  {
                    "value": 250000,
                    "label": "250000",
                    "style": {
                      "fillColor": "#fdae61"
                    }
                  },
                  {
                    "value": 500000,
                    "label": "500000",
                    "style": {
                      "fillColor": "#f46d43"
                    }
                  },
                  {
                    "value": 1000000,
                    "label": "1000000",
                    "style": {
                      "fillColor": "#d73027"
                    }
                  }
                ]
              },
              "GDP / Population": {
                "type": "graduated",
                "field": "gdp_pp",
                "fieldfx": "gdp_md_est_edit::numeric / (pop_est_edit::numeric + 1) * 1000",
                "cat_arr": [{
                    "value": 1,
                    "label": "1",
                    "style": {
                      "fillColor": "#15773f"
                    }
                  },
                  {
                    "value": 2.5,
                    "label": "2.5",
                    "style": {
                      "fillColor": "#66bd63"
                    }
                  },
                  {
                    "value": 5,
                    "label": "5",
                    "style": {
                      "fillColor": "#a6d96a"
                    }
                  },
                  {
                    "value": 10,
                    "label": "10",
                    "style": {
                      "fillColor": "#d9ef8b"
                    }
                  },
                  {
                    "value": 25,
                    "label": "25",
                    "style": {
                      "fillColor": "#fdae61"
                    }
                  },
                  {
                    "value": 50,
                    "label": "50",
                    "style": {
                      "fillColor": "#f46d43"
                    }
                  },
                  {
                    "value": 100,
                    "label": "100",
                    "style": {
                      "fillColor": "#d73027"
                    }
                  }
                ]
              },
              "Population Density": {
                "type": "graduated",
                "fieldfx": "(pop_est_edit / st_area(geom_3857)) * 1000",
                "field": "pop_dens",
                "cat_arr": [{
                    "value": 0,
                    "label": "0",
                    "style": {
                      "fillColor": "#15773f"
                    }
                  },
                  {
                    "value": 0.01,
                    "label": "0.01",
                    "style": {
                      "fillColor": "#66bd63"
                    }
                  },
                  {
                    "value": 0.025,
                    "label": "0.025",
                    "style": {
                      "fillColor": "#a6d96a"
                    }
                  },
                  {
                    "value": 0.05,
                    "label": "0.05",
                    "style": {
                      "fillColor": "#d9ef8b"
                    }
                  },
                  {
                    "value": 0.1,
                    "label": "0.1",
                    "fillColor": "#fdae61"
                  },
                  {
                    "value": 0.5,
                    "label": "0.5",
                    "style": {
                      "fillColor": "#f46d43"
                    }
                  },
                  {
                    "value": 1,
                    "label": "1",
                    "style": {
                      "fillColor": "#d73027"
                    }
                  }
                ]
              }
            }
          }
        },
        "Tiles": {
          "format": "mvt",
          "dbs": "XYZ",
          "table": "dev.natural_earth_countries__mvts",
          "geom": "tile",
          "style": {
            "default": {
              "strokeColor": "#333333",
              "fillColor": "#8C7AA9",
              "fillOpacity": 0
            }
          }
        },
        "Offices": {
          "format": "geojson",
          "dbs": "XYZ",
          "table": "glx_offices",
          "srid": "4326",
          "geom": "geom",
          "style": {
            "hidden": true,
            "default": {
              "marker": {
                "type": "markerColor",
                "colorMarker": "#999999",
                "colorDot": "#333333",
                "anchor": [
                  0.5,
                  1
                ],
                "scale": 0.05
              }
            },
            "highlight": {
              "marker": {
                "type": "markerColor",
                "colorMarker": "#64dd17",
                "colorDot": "#33691e",
                "anchor": [
                  0.5,
                  1
                ],
                "scale": 0.05
              }
            },
            "selected": {
              "marker": {
                "type": "markerColor",
                "colorMarker": "#64dd17",
                "colorDot": "#33691e",
                "anchor": [
                  0.5,
                  1
                ],
                "scale": 0.05
              }
            }
          },
          "hover": {
            "field": "address"
          },
          "qID": "id",
          "infoj": [{
              "type": "key"
            },
            {
              "label": "Address",
              "field": "address",
              "type": "html"
            }
          ]
        },
        "Mapbox Labels": {
          "group": "Maps",
          "format": "tiles",
          "attribution": {
            "© Mapbox": "https://www.mapbox.com/about/maps",
            "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
          },
          "URI": "/styles/v1/dbauszus/cj9puo8pr5o0c2sovhdwhkc7z/tiles/256/{z}/{x}/{y}?&provider=MAPBOX&host=https://api.mapbox.com"
        }
      }
    },
    "UK": {
      "name": "United Kingdom",
      "gazetteer": {
        "provider": "GOOGLE",
        "code": "GB",
        "placeholder": "eg. London",
        "datasets": [{
          "layer": "Retail Points",
          "table": "dev.retailpoints",
          "label": "store"
        }]
      },
      "bounds": {
        "north": 62,
        "east": 5,
        "south": 49,
        "west": -13
      },
      "minZoom": 2,
      "maxZoom": 17,
      "showScaleBar": true,
      "layers": {
        "OSM": {
          "group": "Maps",
          "format": "tiles",
          "attribution": {
            "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
          },
          "URI": "https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"
        },
        "Mapbox Custom": {
          "group": "Maps",
          "format": "tiles",
          "URI": "/styles/v1/dbauszus/ck440j2d20nmd1coafctud8tl/tiles/256/{z}/{x}/{y}?&provider=MAPBOX&host=https://api.mapbox.com",
          "display": true,
          "attribution": {
            "© Mapbox": "https://www.mapbox.com/about/maps",
            "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
          }
        },
        "Mapbox": {
          "group": "Maps",
          "display": true,
          "attribution": {
            "© Mapbox": "https://www.mapbox.com/about/maps",
            "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
          },
          "format": "tiles",
          "URI": "/styles/v1/dbauszus/ciozrimi3002bdsm8bjtn2v1y/tiles/256/{z}/{x}/{y}?&provider=MAPBOX&host=https://api.mapbox.com"
        },
        "Mapbox Labels": {
          "group": "Maps",
          "display": false,
          "format": "tiles",
          "URI": "/styles/v1/dbauszus/cj9puo8pr5o0c2sovhdwhkc7z/tiles/256/{z}/{x}/{y}?&provider=MAPBOX&host=https://api.mapbox.com",
          "attribution": {
            "© Mapbox": "https://www.mapbox.com/about/maps",
            "© OpenStreetMap": "http://www.openstreetmap.org/copyright"
          }
        },
        "Grid": {
          "attribution": {
            "© ONS": "https://www.ons.gov.uk"
          },
          "srid": "4326",
          "format": "grid",
          "dbs": "XYZ",
          "geom": "geomcntr",
          "tables": {
            "7": null,
            "8": "gb_hx_16k",
            "9": "gb_hx_8k",
            "10": "gb_hx_4k",
            "11": "gb_hx_2k",
            "12": "gb_hx_1k",
            "13": "gb_hx_1k",
            "14": null
          },
          "grid_fields": {
            "Population 2001": "pop__01",
            "Population 2011": "pop__11",
            "Female population": "gen_female__11",
            "Male population": "gen_male__11"
          }
        },
        "Small Cluster": {
          "group": "Point layers",
          "meta": "Large Supermarkets - contains 1,500 records - kmeans and dbscan",
          "format": "cluster",
          "dbs": "DEV",
          "table": "dev.uk_glx_open_retail_points_large_supermarkets",
          "qID": "id",
          "geom": "geom_p_4326",
          "srid": "4326",
          "cluster_label": "fascia",
          "cluster_cat": "retailer",
          "cluster_kmeans": 0.02,
          "cluster_dbscan": 0.02,
          "hover": {
            "field": "store_name"
          },
          "infoj": [
            {
              "type": "key"
            },
            {
              "field": "retailer",
              "label": "Retailer",
              "inline": true
            },
            {
              "field": "fascia",
              "label": "Fascia",
              "inline": true
            },
            {
              "field": "store_name",
              "label": "Name",
              "inline": true
            },
            {
              "label": "Address",
              "type": "label"
            },
            {
              "field": "add_one"
            },
            {
              "field": "add_two"
            },
            {
              "field": "locality"
            },
            {
              "field": "postcode"
            },
            {
              "field": "town"
            },
            {
              "field": "pqi",
              "label": "PQI"
            },
            {
              "field": "open_date",
              "label": "Open Date"
            },
            {
              "field": "close_date",
              "label": "Close Date"
            },
            {
              "type": "streetview"
            }
          ],
          "style": {
            "label": {
              "field": "store_name",
              "declutter": true,
              "strokeColor": "#ffffff",
              "strokeWidth": 3
            },
            "marker": {
              "type": "target",
              "fillColor": "#d3d3d3"
            },
            "markerMulti": {
              "type": "target",
              "fillColor": "#93827F"
            },
            "markerMin": 50,
            "markerMax": 50,
            "themes": {
              "Retailers": {
                "type": "categorized",
                "field": "retailer",
                "other": true,
                "cat": {
                  "Asda": {
                    "svg": "https://cdn.jsdelivr.net/gh/GEOLYTIX/MapIcons@master/brands/asda.svg",
                    "anchor": [
                      0.5,
                      0.95
                    ]
                  },
                  "Morrisons": {
                    "svg": "https://cdn.jsdelivr.net/gh/GEOLYTIX/MapIcons@master/brands/morrisons.svg",
                    "anchor": [
                      0.5,
                      0.95
                    ]
                  },
                  "Sainsburys": {
                    "label": "Sainsbury's",
                    "svg": "https://cdn.jsdelivr.net/gh/GEOLYTIX/MapIcons@master/brands/sainsbury.svg",
                    "anchor": [
                      0.5,
                      0.95
                    ]
                  },
                  "Tesco": {
                    "svg": "https://cdn.jsdelivr.net/gh/GEOLYTIX/MapIcons@master/brands/tesco.svg",
                    "anchor": [
                      0.5,
                      0.95
                    ]
                  },
                  "Waitrose": {
                    "svg": "https://cdn.jsdelivr.net/gh/GEOLYTIX/MapIcons@master/brands/waitrose.svg",
                    "anchor": [
                      0.5,
                      0.95
                    ]
                  }
                }
              }
            }
          }
        },
        "Large Cluster": {
          "group": "Point layers",
          "meta": "Food Stores (top 6 retailers) - contains 9,000 records - kmeans only",
          "format": "cluster",
          "dbs": "DEV",
          "table": "dev.uk_glx_open_retail_points_food_stores",
          "qID": "id",
          "geom": "geom_p_4326",
          "srid": "4326",
          "cluster_label": "fascia",
          "cluster_cat": "retailer",
          "cluster_kmeans": 0.04,
          "hover": {
            "field": "store_name"
          },
          "infoj": [
            {
              "type": "streetview"
            },
            {
              "type": "key"
            },
            {
              "field": "retailer",
              "label": "Retailer",
              "inline": true
            },
            {
              "field": "fascia",
              "label": "Fascia",
              "inline": true
            },
            {
              "field": "store_name",
              "label": "Name",
              "inline": true
            },
            {
              "label": "Address",
              "type": "label"
            },
            {
              "field": "add_one"
            },
            {
              "field": "add_two"
            },
            {
              "field": "locality"
            },
            {
              "field": "postcode"
            },
            {
              "field": "town"
            },
            {
              "field": "pqi",
              "label": "PQI"
            },
            {
              "field": "open_date",
              "label": "Open Date"
            },
            {
              "field": "close_date",
              "label": "Close Date"
            },
            {
              "label": "Catchments",
              "type": "label",
              "title": "Customer catchment"
            },
            {
              "name": "Catchment",
              "field": "primary_catchment",
              "fieldfx": "ST_asGeoJson(catchment_5km)",
              "level": 1,
              "type": "geometry",
              "style": {
                "strokeWidth": 2,
                "fillOpacity": 0.8
              }
            },
            {
              "label": "Drivetimes",
              "type": "label"
            },
            {
              "name": "HERE drivetime 5 min",
              "field": "isoline_5min",
              "fieldfx": "ST_asGeoJson(isoline_5min)",
              "type": "geometry",
              "level": 2,
              "edit": {
                "isoline_here": {
                  "minutes": 5
                }
              },
              "style": {
                "strokeColor": "#BB0A21",
                "fillColor": "#BB0A21",
                "fillOpacity": 0.3
              },
              "dependents": ["_asda5min", "_coop5min", "_morrisons5min", "_sainsburys5min", "_tesco5min", "_waitrose5min"]
            },
            {
              "group": "Food Stores within 5min",
              "label": "Asda",
              "field": "_asda5min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Asda' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_5min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer",
              "expanded": true
            },
            {
              "group": "Food Stores within 5min",
              "label": "Co-op",
              "field": "_coop5min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Co-op' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_5min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "group": "Food Stores within 5min",
              "label": "Morrisons",
              "field": "_morrisons5min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Morrisons' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_5min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "group": "Food Stores within 5min",
              "label": "Sainsburys",
              "field": "_sainsburys5min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Sainsburys' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_5min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "group": "Food Stores within 5min",
              "label": "Tesco",
              "field": "_tesco5min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Tesco' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_5min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "group": "Food Stores within 5min",
              "label": "Waitrose",
              "field": "_waitrose5min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Waitrose' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_5min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "name": "HERE drivetime 10 min",
              "field": "isoline_10min",
              "fieldfx": "ST_asGeoJson(isoline_10min)",
              "type": "geometry",
              "level": 2,
              "edit": {
                "isoline_here": {
                  "minutes": 10
                }
              },
              "style": {
                "strokeColor": "#F49D37",
                "fillColor": "#F49D37",
                "fillOpacity": 0.3,
                "strokeWidth": 2
              },
              "dependents": ["_asda10min", "_coop10min", "_morrisons10min", "_sainsburys10min", "_tesco10min", "_waitrose10min"]
            },
            {
              "group": "Food Stores within 10min",
              "label": "Asda",
              "field": "_asda10min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Asda' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_10min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer",
              "expanded": true
            },
            {
              "group": "Food Stores within 10min",
              "label": "Co-op",
              "field": "_coop10min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Co-op' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_10min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "group": "Food Stores within 10min",
              "label": "Morrisons",
              "field": "_morrisons10min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Morrisons' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_10min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "group": "Food Stores within 10min",
              "label": "Sainsburys",
              "field": "_sainsburys10min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Sainsburys' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_10min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "group": "Food Stores within 10min",
              "label": "Tesco",
              "field": "_tesco10min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Tesco' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_10min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "group": "Food Stores within 10min",
              "label": "Waitrose",
              "field": "_waitrose10min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Waitrose' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_10min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "name": "HERE drivetime 15 min",
              "field": "isoline_15min",
              "fieldfx": "ST_asGeoJson(isoline_15min)",
              "type": "geometry",
              "level": 2,
              "edit": {
                "isoline_here": {
                  "minutes": 15
                }
              },
              "style": {
                "strokeColor": "#FFF05A",
                "fillColor": "#FFF05A",
                "strokeWidth": 2,
                "fillOpacity": 0.3
              },
              "dependents": ["_asda15min", "_coop15min", "_morrisons15min", "_sainsburys15min", "_tesco15min", "_waitrose15min"]
            },
            {
              "group": "Food Stores within 15min",
              "label": "Asda",
              "field": "_asda15min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Asda' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_15min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer",
              "expanded": true
            },
            {
              "group": "Food Stores within 15min",
              "label": "Co-op",
              "field": "_coop15min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Co-op' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_15min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "group": "Food Stores within 15min",
              "label": "Morrisons",
              "field": "_morrisons15min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Morrisons' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_15min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "group": "Food Stores within 15min",
              "label": "Sainsburys",
              "field": "_sainsburys15min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Sainsburys' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_15min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "group": "Food Stores within 15min",
              "label": "Tesco",
              "field": "_tesco15min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Tesco' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_15min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            },
            {
              "group": "Food Stores within 15min",
              "label": "Waitrose",
              "field": "_waitrose15min",
              "fieldfx": "SELECT coalesce(sum(case when b.retailer = 'Waitrose' then 1 else 0 end), 0) FROM dev.uk_glx_open_retail_points_food_stores a, dev.uk_glx_open_retail_points_food_stores b WHERE a.id = $1 AND st_intersects(a.isoline_15min, b.geom_p_4326) and a.id <> b.id",
              "type": "integer"
            }
          ],
          "style": {
            "label": {
              "field": "store_name",
              "declutter": true,
              "strokeColor": "#ffffff",
              "strokeWidth": 3
            },
            "marker": {
              "type": "target",
              "fillColor": "#d3d3d3"
            },
            "markerMulti": {
              "type": "target",
              "fillColor": "#93827F"
            },
            "themes": {
              "Retailers": {
                "type": "categorized",
                "field": "retailer",
                "other": true,
                "cat": {
                  "Asda": {
                    "style": {
                      "fillColor": "#83b923",
                      "layers": {
                        "0.5": "#ffffff",
                        "0.375": "#fdb839"
                      }
                    }
                  },
                  "Co-op": {
                    "label": "The Co-Operative",
                    "style": {
                      "fillColor": "#0b1e60",
                      "layers": {
                        "0.625": "#ffffff",
                        "0.5": "#a3d227"
                      }
                    }
                  },
                  "Morrisons": {
                    "style": {
                      "fillColor": "#ffe133",
                      "layers": {
                        "0.5": "#00614e"
                      }
                    }
                  },
                  "Sainsburys": {
                    "style": {
                      "fillColor": "#ee8a00",
                      "layers": {
                        "0.625": "#ffffff",
                        "0.325": "#ee8a00"
                      }
                    }
                  },
                  "Tesco": {
                    "style": {
                      "fillColor": "#0055a8",
                      "layers": {
                        "0.75": "#ffffff",
                        "0.325": "#f02f26"
                      }
                    }
                  },
                  "Waitrose": {
                    "style": {
                      "fillColor": "#81ae37",
                      "layers": {
                        "0.325": "#ffffff"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "Editable Cluster - large": {
          "group": "Point layers",
          "meta": "Retail Points Collector - contains 14,000 records - kmeans",
          "format": "cluster",
          "dbs": "DEV",
          "table": "dev.uk_glx_open_retail_points_collector",
          "qID": "id",
          "geom": "geom_p_4326",
          "srid": "4326",
          "cluster_label": "fascia",
          "cluster_cat": "retailer",
          "cluster_kmeans": 0.01,
          "edit": {
            "properties": true,
            "point": true,
            "delete": true,
            "geometry": true
          },
          "infoj": [
            {
              "type": "key"
            },
            {
              "field": "retailer",
              "label": "Retailer",
              "inline": true,
              "edit": true,
              "filter": "like"
            },
            {
              "field": "fascia",
              "label": "Fascia",
              "inline": true,
              "edit": true
            },
            {
              "field": "store_name",
              "label": "Name",
              "inline": true,
              "edit": true
            },
            {
              "label": "Address",
              "type": "label"
            },
            {
              "field": "add_one",
              "edit": true
            },
            {
              "field": "add_two",
              "edit": true
            },
            {
              "field": "locality",
              "edit": true
            },
            {
              "field": "postcode",
              "edit": true
            },
            {
              "field": "town",
              "edit": true
            },
            {
              "field": "store_type",
              "label": "Store Type",
              "filter": {
                "in": [
                  "Convenience",
                  "Small Supermarket",
                  "Medium Supermarket",
                  "Large Supermarket"
                ]
              },
              "inline": true,
              "edit": {
                "options": [
                  "Convenience",
                  "Small Supermarket",
                  "Medium Supermarket",
                  "Large Supermarket"
                ]
              }
            },
            {
              "field": "size_sqft",
              "label": "Size in sqft",
              "inline": true,
              "edit": {
                "options": [
                  "<3kfs",
                  "3-15kfs",
                  "15-30kfs",
                  "30kfs+"
                ]
              }
            },
            {
              "field": "pqi",
              "label": "PQI",
              "edit": true
            },
            {
              "label": "Images",
              "field": "images",
              "type": "images",
              "edit": true
            },
            {
              "label": "Comments",
              "field": "comments",
              "type": "textarea",
              "edit": true
            }
          ],
          "style": {
            "marker": {
              "type": "target",
              "fillColor": "#7EBDC3"
            },
            "markerMulti": {
              "type": "target",
              "fillColor": "#7EBDC3"
            },
            "themes": {
              "Retailers": {
                "type": "categorized",
                "field": "retailer",
                "other": true,
                "cat": {
                  "Aldi": {
                    "style": {
                      "fillColor": "#ffbf45",
                      "layers": {
                        "0.875": "#fa6f08",
                        "0.75": "#ef3c11",
                        "0.625": "#001f79",
                        "0.5": "#02bee3",
                        "0.25": "ffffff"
                      }
                    }
                  },
                  "Asda": {
                    "style": {
                      "fillColor": "#83b923",
                      "layers": {
                        "0.5": "#ffffff",
                        "0.375": "#fdb839"
                      }
                    }
                  },
                  "Booths": {
                    "style": {
                      "fillColor": "#a12629",
                      "layers": {
                        "0.5": "#ffffff",
                        "0.375": "#a12629"
                      }
                    }
                  },
                  "Budgens": {
                    "style": {
                      "fillColor": "#EEEEE0",
                      "layers": {
                        "0.5": "#679a00",
                        "0.375": "#cccb01"
                      }
                    }
                  },
                  "Co-op": {
                    "label": "The Co-Operative",
                    "style": {
                      "fillColor": "#0b1e60",
                      "layers": {
                        "0.625": "#ffffff",
                        "0.5": "#a3d227"
                      }
                    }
                  },
                  "Costco": {
                    "style": {
                      "fillColor": "#005daa",
                      "layers": {
                        "0.875": "#ffffff",
                        "0.625": "#e31837"
                      }
                    }
                  },
                  "Farmfoods": {
                    "style": {
                      "fillColor": "#77a632",
                      "layers": {
                        "0.75": "#f7f900",
                        "0.5": "#ff0000"
                      }
                    }
                  },
                  "Heron": {
                    "style": {
                      "fillColor": "#ffffff",
                      "layers": {
                        "0.75": "#313590",
                        "0.25": "#ffcf00"
                      }
                    }
                  },
                  "Iceland": {
                    "style": {
                      "fillColor": "#ed1b2d",
                      "layers": {
                        "0.75": "#f2552b",
                        "0.5": "#f89128",
                        "0.25": "#ffffff"
                      }
                    }
                  },
                  "Lidl": {
                    "style": {
                      "fillColor": "#d61408",
                      "layers": {
                        "0.875": "#ffe502",
                        "0.5": "#002d7a",
                        "0.25": "#d61408"
                      }
                    }
                  },
                  "Makro": {
                    "style": {
                      "fillColor": "#00457a",
                      "layers": {
                        "0.325": "#ffe811"
                      }
                    }
                  },
                  "Marks and Spencer": {
                    "style": {
                      "fillColor": "#0a0d10",
                      "layers": {
                        "0.5": "#def036",
                        "0.25": "#0a0d10"
                      }
                    }
                  },
                  "Morrisons": {
                    "style": {
                      "fillColor": "#ffe133",
                      "layers": {
                        "0.5": "#00614e"
                      }
                    }
                  },
                  "Sainsburys": {
                    "style": {
                      "fillColor": "#ee8a00",
                      "layers": {
                        "0.625": "#ffffff",
                        "0.325": "#ee8a00"
                      }
                    }
                  },
                  "Tesco": {
                    "style": {
                      "fillColor": "#0055a8",
                      "layers": {
                        "0.75": "#ffffff",
                        "0.325": "#f02f26"
                      }
                    }
                  },
                  "Waitrose": {
                    "style": {
                      "fillColor": "#81ae37",
                      "layers": {
                        "0.325": "#ffffff"
                      }
                    }
                  },
                  "Whole Foods Market": {
                    "style": {
                      "fillColor": "#00674b",
                      "layers": {
                        "0.875": "#ffffff",
                        "0.5": "#00674b"
                      }
                    }
                  }
                }
              },
              "Shop Size": {
                "type": "graduated",
                "field": "size_sqft",
                "cat_arr": [{
                    "value": "0",
                    "label": "0 - 3kfs",
                    "style": {
                      "fillColor": "#5E0B15"
                    }
                  },
                  {
                    "value": "3020",
                    "label": "3 - 15kfs",
                    "style": {
                      "fillColor": "#D95D39"
                    }
                  },
                  {
                    "value": "1510",
                    "label": "15 - 30kfs",
                    "style": {
                      "fillColor": "#028090"
                    }
                  },
                  {
                    "value": "30500",
                    "label": "30kfs+",
                    "style": {
                      "fillColor": "#98CBB4"
                    }
                  }
                ]
              }
            }
          }
        },
        "Editable Cluster - small": {
          "group": "Point layers",
          "meta": "Sites - containing a small amount of records and reporting",
          "edit": {
            "properties": true,
            "point": true,
            "delete": true,
            "geometry": true
          },
          "format": "cluster",
          "geom": "geom_p_4326",
          "srid": "4326",
          "dbs": "DEV",
          "qID": "id",
          "table": "dev.uk_dev_sites",
          "cluster_label": "site_name",
          "infoj": [{
              "type": "key",
              "class": "_report"
            },
            {
              "field": "id",
              "label": "Site ID",
              "inline": true
            },
            {
              "field": "site_name",
              "label": "Site Name",
              "edit": true,
              "inline": true
            },
            {
              "field": "site_type",
              "label": "Site Type",
              "inline": true,
              "edit": {
                "options": [
                  "New Store",
                  "Replacement"
                ]
              }
            },
            {
              "name": "Custom HERE Catchment (1)",
              "field": "isoline_custom1",
              "fieldfx": "ST_asGeoJson(isoline_custom1)",
              "type": "geometry",
              "edit": {
                "isoline_here": {
                  "meta": "isoline_custom1_meta"
                }
              },
              "style": {
                "strokeColor": "#BB0A21",
                "fillColor": "#BB0A21",
                "strokeWidth": 2,
                "fillOpacity": 0.2
              }
            },
            {
              "observe": ["isoline_custom1"],
              "label": "area",
              "field": "isoline_dependent",
              "fieldfx": "st_area(isoline_custom1)"
            },
            {
              "name": "Custom HERE Catchment (2)",
              "field": "isoline_custom2",
              "fieldfx": "ST_asGeoJson(isoline_custom2)",
              "type": "geometry",
              "edit": {
                "isoline_here": {
                  "meta": "isoline_custom2_meta"
                }
              },
              "style": {
                "strokeColor": "#bd630a",
                "fillColor": "#bd630a",
                "strokeWidth": 2,
                "fillOpacity": 0.2
              }
            },
            {
              "observe": ["isoline_custom2"],
              "label": "area",
              "field": "isoline_dependent2",
              "fieldfx": "st_area(isoline_custom2)"
            },
            {
              "observe": ["isoline_custom2"],
              "label": "length",
              "field": "isoline_dependent3",
              "fieldfx": "st_area(st_transform(isoline_custom2, 3857))"
            },
            {
              "name": "Custom HERE Catchment (3)",
              "field": "isoline_custom3",
              "fieldfx": "ST_asGeoJson(isoline_custom3)",
              "type": "geometry",
              "edit": {
                "isoline_here": {
                  "meta": "isoline_custom3_meta"
                }
              },
              "style": {
                "strokeColor": "#bdbd0a",
                "fillColor": "#bdbd0a",
                "strokeWidth": 2,
                "fillOpacity": 0.2
              }
            }
          ],
          "style": {
            "hidden": true,
            "marker": {
              "type": "target",
              "fillColor": "#2364AA",
              "layers": {
                "0.75": "#EEE",
                "0.50": "#2364AA"
              }
            },
            "markerMulti": {
              "type": "target",
              "fillColor": "#2364AA",
              "layers": {
                "0.75": "#EEE",
                "0.50": "#2364AA"
              }
            }
          }
        },
        "Postal": {
          "group": "Vector layers",
          "dbs": "DEV",
          "geom": "geom_3857",
          "srid": "3857",
          "qID": "id",
          "format": "mvt",
          "mvt_cache": "dev.x_mvts_uk_glx_open_postal",
          "tables": {
            "5": null,
            "6": "geodata.uk_glx_open_postal_area",
            "7": "geodata.uk_glx_open_postal_area",
            "8": "geodata.uk_glx_open_postal_district",
            "9": "geodata.uk_glx_open_postal_district",
            "10": "geodata.uk_glx_open_postal_sector",
            "11": "geodata.uk_glx_open_postal_sector",
            "12": "geodata.uk_glx_open_postal_sector",
            "13": null
          },
          "infoj": [{
              "type": "key"
            },
            {
              "field": "area_name",
              "label": "Area Name",
              "inline": true
            },
            {
              "field": "postal_area",
              "label": "Postal Area",
              "inline": true
            },
            {
              "field": "postal_district",
              "label": "Postal District",
              "inline": true
            },
            {
              "field": "postal_sector",
              "label": "Postal Sector",
              "inline": true
            },
            {
              "field": "postcode_count",
              "label": "Number of Postcodes",
              "type": "integer",
              "inline": true
            }
          ],
          "style": {
            "default": {
              "strokeColor": "#7a0177"
            },
            "highlight": {
              "strokeColor": "#090",
              "fillColor": "#090",
              "fillOpacity": 0.3
            }
          }
        },
        "Retail Places OLD": {
          "format": "mvt",
          "group": "Vector layers",
          "dbs": "DEV",
          "qID": "id",
          "tables": {
            "8": null,
            "9": "geodata.uk_glx_open_retail_place"
          },
          "geom": "geom_3857",
          "srid": "3857",
          "mvt_cache": "dev.x_mvtx_uk_glx_open_retail_place",
          "style": {
            "label": {
              "field": "rpname"
            },
            "default": {
              "strokeColor": "#ffff66",
              "opacity": 1,
              "fillColor": "#ffff66",
              "fillOpacity": 0.7
            },
            "highlight": {
              "strokeColor": "#e91e63",
              "fillOpacity": 0.3
            },
            "themes": {
              "Retail Place Type": {
                "type": "categorized",
                "field": "rptype",
                "other": true,
                "cat": {
                  "Major City Centre": {
                    "style": {
                      "strokeColor": "#6e016b",
                      "fillColor": "#6e016b"
                    }
                  },
                  "City Centre": {
                    "style": {
                      "strokeColor": "#88419d",
                      "fillColor": "#88419d"
                    }
                  },
                  "Large Town Centre": {
                    "style": {
                      "strokeColor": "#8c6bb1",
                      "fillColor": "#8c6bb1"
                    }
                  },
                  "Major Urban Centre": {
                    "style": {
                      "strokeColor": "#8c96c6",
                      "fillColor": "#8c96c6"
                    }
                  },
                  "Regional SC": {
                    "style": {
                      "strokeColor": "#016450",
                      "fillColor": "#016450"
                    }
                  },
                  "Retail Park": {
                    "style": {
                      "strokeColor": "#02818a",
                      "fillColor": "#02818a"
                    }
                  },
                  "Outlet Centre": {
                    "style": {
                      "strokeColor": "#3690c0",
                      "fillColor": "#3690c0"
                    }
                  }
                }
              },
              "Leisure %": {
                "type": "graduated",
                "field": "leisure_pct",
                "cat_arr": [{
                    "value": 0,
                    "label": "Less than 10%",
                    "style": {
                      "strokeColor": "#ffffcc",
                      "fillColor": "#ffffcc"
                    }
                  },
                  {
                    "value": 0.1,
                    "label": "10 to 20%",
                    "style": {
                      "strokeColor": "#c2e699",
                      "fillColor": "#c2e699"
                    }
                  },
                  {
                    "value": 0.2,
                    "label": "20 to 30%",
                    "style": {
                      "strokeColor": "#78c679",
                      "fillColor": "#78c679"
                    }
                  },
                  {
                    "value": 0.3,
                    "label": "30 to 50%",
                    "style": {
                      "strokeColor": "#31a354",
                      "fillColor": "#31a354"
                    }
                  },
                  {
                    "value": 0.5,
                    "label": "Over 50%",
                    "style": {
                      "strokeColor": "#006837",
                      "fillColor": "#006837"
                    }
                  }
                ]
              }
            }
          },
          "filter": {
            "infoj": [{
              "label": "ID count",
              "field": "id_count",
              "type": "integer",
              "inline": true,
              "fieldfx": "count(id)"
            }]
          },
          "infoj": [{
              "type": "key"
            },
            {
              "label": "ID",
              "field": "id",
              "inline": true
            },
            {
              "label": "RP Type",
              "field": "rptype",
              "filter": {
                "in": [
                  "Major City Centre",
                  "City Centre",
                  "Large Town Centre",
                  "Major Urban Centre",
                  "Regional SC",
                  "Outlet Centre",
                  "Retail Park"
                ]
              }
            },
            {
              "label": "Name",
              "field": "rpname",
              "inline": true
            },
            {
              "label": "Competition Str.",
              "field": "strength",
              "type": "integer",
              "inline": true
            },
            {
              "group": "Profile",
              "label": "Comp",
              "field": "comp_pct",
              "type": "numeric",
              "expanded": true
            },
            {
              "group": "Profile",
              "label": "Conv",
              "field": "conv_pct",
              "type": "numeric"
            },
            {
              "group": "Profile",
              "label": "Leisure",
              "field": "leisure_pct",
              "type": "numeric"
            },
            {
              "group": "Profile",
              "label": "Home",
              "field": "home_pct",
              "type": "numeric"
            },
            {
              "group": "Profile",
              "label": "Services",
              "field": "service_pct",
              "type": "numeric"
            }
          ]
        },
        "Retail Places": {
          "format": "mvt",
          "dbs": "XYZ",
          "tables": {
            "8": null,
            "9": "dev.retailplaces"
          },
          "geom": "geom_3857",
          "srid": "3857",
          "report": {
            "templates": {
              "Report 1": {
                "template": "/views/report_layer.html",
                "name": "Report A"
              },
              "Report 2": {
                "template": "/views/report_layer.html"
              }
            }
          },
          "script": {
            "Script Test": {
              "script": "/api/provider/github?url=api.github.com/repos/GEOLYTIX/xyz_resources/contents/dev/dashboards/retail_places.js"
            }
          },
          "dataviews": {
            "Retail Places": {
              "layout": "fitColumns",
              "query": "UK Retail Places Layer Table",
              "viewport": true,
              "columns": [
                {
                  "title": "ID",
                  "field": "id"
                },
                {
                  "field": "dev_date"
                },
                {
                  "field": "rp_type"
                },
                {
                  "title": "Characteristics",
                  "columns": [
                    {
                      "field": "comp_strgh",
                      "title": "Competition strength"
                    },
                    {
                      "field": "est_units",
                      "title": "Estimate units"
                    },
                    {
                      "field": "est_brands",
                      "title": "Estimate brands"
                    }
                  ]
                }
              ]
            }
          },
          "__mvt_cache": "dev.retailplaces__mvts",
          "style": {
            "themes": {
              "Retail Place type": {
                "type": "categorized",
                "field": "rp_type",
                "other": true,
                "cat": {
                  "Major City Centre": {
                    "label": "Major City Centre",
                    "style": {
                      "strokeColor": "#EF271B",
                      "fillColor": "#EF271B"
                    }
                  },
                  "City Centre": {
                    "label": "City Centre",
                    "style": {
                      "strokeColor": "#BA2D0B",
                      "fillColor": "#BA2D0B"
                    }
                  },
                  "Large Town Centre": {
                    "label": "Large Town Centre",
                    "style": {
                      "strokeColor": "#FE4E00",
                      "fillColor": "#FE4E00"
                    }
                  },
                  "Major Urban Centre": {
                    "label": "Major Urban Centre",
                    "style": {
                      "strokeColor": "#E2711D",
                      "fillColor": "#E2711D"
                    }
                  },
                  "Town Centre": {
                    "label": "Town Centre",
                    "style": {
                      "strokeColor": "#F3A712",
                      "fillColor": "#F3A712"
                    }
                  },
                  "Urban Centre": {
                    "label": "Urban Centre",
                    "style": {
                      "strokeColor": "#FADF63",
                      "fillColor": "#FADF63"
                    }
                  },
                  "Small Town Centre": {
                    "label": "Small Town Centre",
                    "style": {
                      "strokeColor": "#FFE74C",
                      "fillColor": "#FFE74C"
                    }
                  },
                  "Village Centre": {
                    "label": "Village Centre",
                    "style": {
                      "strokeColor": "#DBFE87",
                      "fillColor": "#DBFE87"
                    }
                  },
                  "Regional SC": {
                    "label": "Regional SC",
                    "style": {
                      "strokeColor": "#8ED081",
                      "fillColor": "#8ED081"
                    }
                  },
                  "Outlet Centre": {
                    "label": "Outlet Centre",
                    "style": {
                      "strokeColor": "#7DDF64",
                      "fillColor": "#7DDF64"
                    }
                  },
                  "Shopping Park": {
                    "label": "Shopping Park",
                    "style": {
                      "strokeColor": "#074F57",
                      "fillColor": "#074F57"
                    }
                  },
                  "Retail Park": {
                    "label": "Retail Park",
                    "style": {
                      "strokeColor": "#32746D",
                      "fillColor": "#32746D"
                    }
                  },
                  "Leisure Park": {
                    "label": "Leisure Park",
                    "style": {
                      "strokeColor": "#41D3BD",
                      "fillColor": "#41D3BD"
                    }
                  },
                  "Local Hub": {
                    "label": "Local Hub",
                    "style": {
                      "strokeColor": "#08B2E3",
                      "fillColor": "#08B2E3"
                    }
                  },
                  "Large Parade": {
                    "label": "Large Parade",
                    "style": {
                      "strokeColor": "#1F487E",
                      "fillColor": "#1F487E"
                    }
                  },
                  "Parade": {
                    "label": "Parade",
                    "style": {
                      "strokeColor": "#541388",
                      "fillColor": "#541388"
                    }
                  },
                  "Weak Parade": {
                    "label": "Weak Parade",
                    "style": {
                      "strokeColor": "#D90368",
                      "fillColor": "#D90368"
                    }
                  }
                }
              },
              "Population '11": {
                "type": "graduated",
                "field": "pop__11",
                "cat_arr": [
                  {
                    "value": 0,
                    "label": "0 to 10000",
                    "style": {
                      "fillColor": "#15773f"
                    }
                  },
                  {
                    "value": 10000,
                    "label": "10000 to 25000",
                    "style": {
                      "fillColor": "#66bd63"
                    }
                  },
                  {
                    "value": 25000,
                    "label": "25000 to 50000",
                    "style": {
                      "fillColor": "#a6d96a"
                    }
                  },
                  {
                    "value": 50000,
                    "label": "50000 to 100000",
                    "style": {
                      "fillColor": "#d9ef8b"
                    }
                  },
                  {
                    "value": 100000,
                    "label": "100000 to 250000",
                    "style": {
                      "fillColor": "#fdae61"
                    }
                  },
                  {
                    "value": 250000,
                    "label": "250000 to 500000",
                    "style": {
                      "fillColor": "#f46d43"
                    }
                  },
                  {
                    "value": 500000,
                    "label": "500000 or more",
                    "style": {
                      "fillColor": "#d73027"
                    }
                  }
                ]
              }
            }
          },
          "qID": "tid",
          "filter": {
            "infoj": [
              {
                "label": "ID count",
                "field": "id_count",
                "type": "integer",
                "inline": true,
                "fieldfx": "count(id)"
              }
            ]
          },
          "infoj": [
            {
              "type": "key"
            },
            {
              "label": "ID",
              "field": "id",
              "inline": true
            },
            {
              "label": "Date edit",
              "field": "dev_date",
              "type": "date",
              "filter": "date"
            },
            {
              "label": "Date",
              "field": "dev_date_",
              "fieldfx": "dev_date",
              "type": "date"
            },
            {
              "label": "RP Type",
              "field": "rp_type",
              "filter": {
                "in": [
                  "Major City Centre",
                  "Large Town Centre",
                  "Village Centre",
                  "Weak Parade"
                ]
              }
            },
            {
              "label": "Name",
              "field": "uniq_name"
            },
            {
              "label": "Competition Str.",
              "field": "comp_strgh",
              "type": "integer",
              "prefix": "£ "
            },
            {
              "label": "OA pop_11",
              "field": "pop__11",
              "fieldfx": "SELECT AVG(a.pop__11) FROM dev.retailplaces a, dev.oa b WHERE ST_INTERSECTS(a.geom, b.geom) AND a.id = $1",
              "type": "integer"
            },
            {
              "label": "Population",
              "type": "group"
            },
            {
              "group": "Population",
              "label": "2011",
              "field": "pop__11",
              "type": "integer"
            },
            {
              "group": "Population",
              "label": "2012",
              "field": "pop__12",
              "type": "integer"
            },
            {
              "group": "Population",
              "label": "2013",
              "field": "pop__13",
              "type": "integer"
            },
            {
              "group": "Population",
              "label": "2014",
              "field": "pop__14",
              "type": "integer"
            },
            {
              "group": "Population",
              "label": "2015",
              "field": "pop__15",
              "type": "integer"
            },
            {
              "group": "Population",
              "label": "2016",
              "field": "pop__16",
              "type": "integer"
            },
            {
              "label": "Population 16 - 11",
              "field": "pop_diff",
              "fieldfx": "(pop__16 - pop__11)",
              "type": "integer"
            },
            {
              "type": "dataview",
              "target": "location",
              "label": "Profile",
              "query": "UK Retail Places Profile",
              "chart": {
                "type": "horizontalBar",
                "yAxesWidth": 80,
                "labels": [
                  "Comparison",
                  "Convenience",
                  "F/B/L",
                  "Services",
                  "Class/Brass"
                ],
                "datasets": [
                  {
                    "fields": [
                      "comparison",
                      "conv",
                      "fbl",
                      "services",
                      "classbrass"
                    ],
                    "backgroundColor": [
                      "#FFA630",
                      "#C6DEA6",
                      "#7EBDC3",
                      "#7A6263",
                      "#CED097"
                    ],
                    "borderColor": [
                      "#FFA630",
                      "#C6DEA6",
                      "#7EBDC3",
                      "#7A6263",
                      "#CED097"
                    ]
                  }
                ]
              }
            },
            {
              "group": "Profile",
              "label": "Comparison",
              "title": "Comp",
              "field": "comparison",
              "type": "numeric",
              "expanded": true
            },
            {
              "group": "Profile",
              "label": "Conv",
              "title": "Convenience",
              "field": "conv",
              "type": "numeric"
            },
            {
              "group": "Profile",
              "label": "F/B/L",
              "field": "fbl",
              "type": "numeric",
              "title": "Food/Bev/Leisure"
            },
            {
              "group": "Profile",
              "label": "Services",
              "field": "services",
              "type": "numeric"
            },
            {
              "group": "Profile",
              "label": "Class/Brass",
              "field": "classbrass",
              "type": "numeric"
            }
          ]
        },
        "Free Draw / Selection Tool": {
          "meta": "Test layer for editing and drawing geometries.",
          "format": "mvt",
          "group": "Vector layers",
          "dbs": "DEV",
          "table": "dev.uk_dev_scratch",
          "srid": "3857",
          "geom": "geom_3857",
          "mvt_cache": "dev.x_mvts_uk_dev_scratch",
          "qID": "id",
          "edit": {
            "polygon": true,
            "freehand": true,
            "circle": true,
            "rectangle": true,
            "line": true,
            "isoline_mapbox": true,
            "isoline_here": true,
            "delete": true,
            "geometry": true
          },
          "infoj": [{
              "type": "key"
            },
            {
              "label": "ID",
              "field": "id",
              "inline": true
            },
            {
              "label": "Area Name",
              "field": "area_name",
              "edit": true,
              "inline": true
            },
            {
              "label": "Description",
              "field": "description",
              "edit": true
            },
            {
              "label": "Number of Food Stores",
              "field": "_store_count",
              "fieldfx": "(SELECT sum(1) FROM dev.uk_dev_scratch a, dev.uk_glx_open_retail_points_food_stores b  WHERE st_intersects(st_transform(a.geom_3857, 4326), b.geom_p_4326) AND a.id =$1)",
              "inline": true
            },
            {
              "label": "Date last edited",
              "field": "edited",
              "type": "date",
              "inline": true
            }
          ],
          "style": {
            "hidden": true,
            "default": {
              "strokeColor": "#083D77",
              "fillColor": "#083D77",
              "fillOpacity": 0.3,
              "marker": {
                "type": "circle",
                "strokeColor": "#083D77"
              },
              "_marker": {
                "url": "https://cdn.jsdelivr.net/gh/GEOLYTIX/gla/icon-pin.svg",
                "anchor": [
                  0.5,
                  1
                ]
              }
            },
            "highlight": {
              "strokeColor": "#F78764",
              "fillColor": "#F78764",
              "fillOpacity": 0.3,
              "marker": {
                "type": "dot",
                "fillColor": "#F78764",
                "scale": 0.05
              }
            }
          }
        },
        "Agata": {
          "group": "Cluster",
          "meta": "XYZ database, don't touch.",
          "edit": {
            "point": true,
            "delete": true,
            "geometry": true
          },
          "format": "cluster",
          "srid": "4326",
          "geom": "geom_4326",
          "dbs": "XYZ",
          "qID": "id",
          "tables": {
            "9": null,
            "10": "dev.uk_glx_sites",
            "11": "dev.uk_glx_sites",
            "12": "dev.uk_glx_sites",
            "13": null
          },
          "cluster_kmeans": 0.1,
          "cluster_label": "site_name",
          "infoj": [{
              "type": "streetview"
            },
            {
              "type": "key",
              "class": "_report"
            },
            {
              "type": "report",
              "report": {
                "template": "Sites Local Report"
              },
              "class": "_report"
            },
            {
              "type": "report",
              "report": {
                "name": "Report hosted with GitHub",
                "template": "Dev sites report"
              },
              "class": "_report"
            },
            {
              "field": "id",
              "label": "Site ID",
              "inline": true
            },
            {
              "field": "site_name",
              "label": "Site Name",
              "edit": true,
              "inline": true
            },
            {
              "field": "site_type",
              "label": "Site Type",
              "inline": true,
              "edit": {
                "options": ["Type A", "Type B", " "]
              }
            },
            {
              "type": "geometry",
              "name": "Fixed Geometry",
              "field": "fixed_geom",
              "fieldfx": "ST_asGeoJson(fixed_geom)",
              "class": "_report",
              "display": true,
              "level": 1,
              "style": {
                "fillOpacity": 0.3,
                "strokeWidth": 2
              }
            },
            {
              "type": "geometry",
              "name": "Buffer 10km",
              "field": "buffer_10km",
              "class": "_report",
              "fieldfx": "ST_asGeoJson(ST_Transform(ST_Buffer(ST_Transform(geom_4326, 3857), 10000), 4326))",
              "display": true,
              "level": 1,
              "style": {
                "fillOpacity": 1,
                "strokeWidth": 2,
                "fillColor": "#E2DE84"
              }
            },
            {
              "name": "HERE Catchment 5min",
              "field": "isoline_5min",
              "fieldfx": "ST_asGeoJson(isoline_5min)",
              "type": "geometry",
              "class": "_report",
              "level": 1,
              "edit": {
                "isoline_here": {
                  "minutes": 5
                }
              },
              "style": {
                "strokeColor": "#F49D37",
                "fillColor": "#F49D37",
                "fillOpacity": 0.3,
                "strokeWidth": 2
              }
            },
            {
              "label": "Population within 5min",
              "type": "dataview",
              "target": "location",
              "class": "hidden_in_report",
              "query": "aga_isoline_5min",
              "chart": {
                "height": 200,
                "type": "bar",
                "labels": ["2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018"],
                "datasets": [{
                  "fields": [
                    "_pop__11_5min",
                    "_pop__12_5min",
                    "_pop__13_5min",
                    "_pop__14_5min",
                    "_pop__15_5min",
                    "_pop__16_5min",
                    "_pop__17_5min",
                    "_pop__18_5min"
                  ],
                  "backgroundColor": [
                    "#E6A5AE",
                    "#E08F9A",
                    "#D97985",
                    "#D36371",
                    "#CD4C5D",
                    "#C73649",
                    "#C12035",
                    "#BB0A21"
                  ],
                  "borderColor": [
                    "#E6A5AE",
                    "#E08F9A",
                    "#D97985",
                    "#D36371",
                    "#CD4C5D",
                    "#C73649",
                    "#C12035",
                    "#BB0A21"
                  ]
                }],
                "options": {
                  "maintainAspectRatio": false,
                  "legend": {
                    "display": false
                  },
                  "scales": {
                    "yAxes": [{
                      "ticks": {
                        "display": false,
                        "beginAtZero": true
                      }
                    }],
                    "xAxes": [{
                      "ticks": {
                        "maxRotation": 90,
                        "minRotation": 90
                      }
                    }]
                  }
                }
              }
            },
            {
              "name": "HERE Catchment 10min",
              "field": "isoline_10min",
              "fieldfx": "ST_asGeoJson(isoline_10min)",
              "type": "geometry",
              "class": "_report",
              "level": 1,
              "display": false,
              "edit": {
                "isoline_here": {
                  "minutes": 10
                }
              },
              "style": {
                "strokeColor": "#F49D37",
                "fillColor": "#F49D37",
                "fillOpacity": 0.3,
                "strokeWidth": 2
              }
            },
            {
              "name": "HERE Catchment 15min",
              "field": "isoline_15min",
              "fieldfx": "ST_asGeoJson(isoline_15min)",
              "type": "geometry",
              "class": "_report",
              "display": false,
              "level": 1,
              "edit": {
                "isoline_here": {
                  "minutes": 15
                }
              },
              "style": {
                "strokeColor": "#F49D37",
                "fillColor": "#F49D37",
                "fillOpacity": 0.3,
                "strokeWidth": 2
              }
            },
            {
              "title": "Random data series",
              "type": "dataview",
              "target": "xyz_sites_random",
              "query": "Random Data Series",
              "class": "_report",
              "chart": {
                "height": 300,
                "width": 290,
                "type": "bar",
                "responsive": true,
                "labels": ["Rand 1", "Rand 2", "Rand 3", "Rand 4", "Rand 5"],
                "datasets": [{
                    "fields": ["random1", "random2", "random3", "random4", "random5"],
                    "label": "Serie 1",
                    "backgroundColor": "rgba(192, 117, 205, 0.3)",
                    "borderColor": "#4a148c",
                    "datalabels": {},
                    "type": "bar"
                  },
                  {
                    "fields": ["rev_random1", "rev_random2", "rev_random3", "rev_random4", "rev_random5"],
                    "label": "Serie 2",
                    "type": "line",
                    "backgroundColor": "rgba(255, 167, 38, 0.3)",
                    "borderColor": "#e65100"
                  }
                ],
                "options": {
                  "title": {
                    "display": true,
                    "text": "Random data series"
                  },
                  "legend": {
                    "display": true,
                    "position": "bottom"
                  }
                }
              }
            },
            {
              "title": "Doughnut Chart",
              "type": "dataview",
              "query": "Random Data Series",
              "target": "xyz_sites_random2",
              "chart": {
                "type": "doughnut",
                "labels": ["Rand 1", "Rand 2", "Rand 3", "Rand 4", "Rand 5"],
                "datasets": [{
                  "fields": ["random1", "random2", "random3", "random4", "random5"],
                  "backgroundColor": [
                    "rgba(229, 99 , 153, 0.4)",
                    "rgba(0, 167, 225, 0.4)",
                    "rgba(237, 222, 164, 0.4)",
                    "rgba(247, 160 ,114, 0.4)",
                    "rgba(255, 155, 66, 0.4)"
                  ],
                  "label": "Serie 1",
                  "borderColor": "#C0B4A7",
                  "spanGaps": true,
                  "lineTension": 0.5
                }],
                "options": {
                  "cutoutPercentage": 36,
                  "title": {
                    "display": true,
                    "text": "Doughnut Chart"
                  },
                  "legend": {
                    "display": true,
                    "position": "left"
                  }
                }
              },
              "class": "_report"
            },
            {
              "group": "Random data series",
              "label": "Rand 1",
              "field": "random1",
              "type": "integer",
              "expanded": true
            },
            {
              "group": "Random data series",
              "label": "Rand 2",
              "field": "random2",
              "type": "integer"
            },
            {
              "group": "Random data series",
              "label": "Rand 3",
              "field": "random3",
              "type": "integer"
            },
            {
              "group": "Random data series",
              "label": "Rand 4",
              "field": "random4",
              "type": "integer"
            },
            {
              "group": "Random data series",
              "label": "Rand 5",
              "field": "random5",
              "type": "integer"
            },
            {
              "field": "comments",
              "label": "Comments",
              "type": "textarea",
              "edit": true,
              "class": "_report"
            },
            {
              "field": "images",
              "label": "Images",
              "type": "images",
              "edit": true,
              "class": "_report"
            },
            {
              "label": "Documents",
              "field": "documents",
              "type": "documents",
              "edit": true,
              "class": "_report"
            },
            {
              "label": "Available dataviews",
              "type": "label",
              "class": "_report"
            },
            {
              "type": "dataview",
              "title": "Population Summary 2",
              "query": "Population Summary Sites",
              "class": "_report",
              "layout": "fitColumns",
              "target_id": "xyz_sites_pop",
              "columns": [{
                  "field": "rows",
                  "title": "Population Summary 2",
                  "headerSort": false,
                  "align": "left"
                },
                {
                  "title": "Grouped columns",
                  "columns": [{
                      "title": "0-5 mins",
                      "field": "min5",
                      "formatter": "money",
                      "formatterParams": {
                        "precision": 0
                      },
                      "align": "center"
                    },
                    {
                      "title": "0-10 mins",
                      "field": "min10",
                      "formatter": "money",
                      "formatterParams": {
                        "precision": 0
                      },
                      "align": "center"
                    }
                  ]
                }
              ]
            },
            {
              "type": "dataview",
              "title": "Worker Summary",
              "target": "xyz_sites_workers",
              "class": "_report",
              "layout": "fitColumns",
              "query": "Worker Summary Sites",
              "columns": [{
                  "field": "rows",
                  "title": "Worker Summary",
                  "headerSort": false,
                  "align": "left"
                },
                {
                  "title": "Total Workers",
                  "field": "workers",
                  "align": "center",
                  "formatter": "money",
                  "formatterParams": {
                    "precision": 0
                  }
                }
              ]
            },
            {
              "type": "dataview",
              "title": "Nearest competitors",
              "class": "_report",
              "target": "xyz_sites_nearestcomp",
              "layout": "fitColumns",
              "query": "Nearest competitors Sites",
              "columns": [{
                  "title": "Distance",
                  "field": "dist",
                  "align": "center",
                  "formatter": "money",
                  "formatterParams": {
                    "symbol": " km",
                    "symbolAfter": true
                  }
                },
                {
                  "title": "Competitor name",
                  "field": "fascia"
                },
                {
                  "title": "Postcode",
                  "field": "postcode"
                }
              ]
            }
          ],
          "style": {
            "marker": {
              "type": "target",
              "fillColor": "#ffb300"
            },
            "markerMulti": {
              "type": "dot",
              "fillColor": "rgba(0, 75, 168, 0.3)"
            },
            "themes": {
              "Test categorized": {
                "field": "test_binary",
                "type": "categorized",
                "other": true,
                "cat": {
                  "0": {
                    "style": {
                      "fillColor": "#283593"
                    }
                  },
                  "1": {
                    "style": {
                      "fillColor": "#ff1744"
                    }
                  }
                }
              }
            }
          }
        },
        "Cluster Catchments": {
          "group": "Cluster",
          "format": "cluster",
          "dbs": "XYZ",
          "table": "dev.cluster_catchments",
          "geom": "geom",
          "srid": "4326",
          "cluster_kmeans": 0.01,
          "edit": {
            "point": true,
            "geometry": true,
            "delete": true
          },
          "qID": "id",
          "infoj": [
            {
              "type": "key"
            },
            {
              "label": "Catchment Geometry",
              "type": "label"
            },
            {
              "name": "Show / Hide",
              "field": "catchment",
              "fieldfx": "ST_asGeoJson(catchment)",
              "type": "geometry",
              "display": true,
              "style": {
                "fillColor": "#c62828",
                "fillOpacity": 0.2
              }
            },
            {
              "label": "Catchment Here",
              "type": "label"
            },
            {
              "name": "Create / Delete 10 min",
              "field": "isoline_here",
              "display": false,
              "fieldfx": "ST_asGeoJson(isoline_here)",
              "type": "geometry",
              "edit": {
                "isoline_here": {
                  "minutes": 10
                }
              }
            },
            {
              "label": "Catchment Mapbox",
              "type": "label"
            },
            {
              "name": "Create/Delete 10 min",
              "field": "isoline_mapbox",
              "fieldfx": "ST_asGeoJson(isoline_mapbox)",
              "type": "geometry",
              "edit": {
                "isoline_mapbox": {
                  "minutes": 10
                }
              },
              "style": {
                "strokeColor": "#ffb300",
                "strokeWidth": 2,
                "fillColor": "#ffb300",
                "fillOpacity": 0.2
              }
            },
            {
              "label": "Custom Here Catchment",
              "type": "label"
            },
            {
              "name": "Create / Delete",
              "field": "isoline_here_custom",
              "fieldfx": "ST_asGeoJson(isoline_here_custom)",
              "type": "geometry",
              "edit": {
                "isoline_here": {
                  "meta": "isoline_here_custom_meta"
                }
              },
              "style": {
                "strokeColor": "#083D77",
                "strokeWidth": 2,
                "fillColor": "#083D77",
                "fillOpacity": 0.2
              }
            },
            {
              "title": "Recent isoline",
              "field": "isoline_here_custom_meta",
              "type": "meta"
            },
            {
              "label": "Custom Mapbox Catchment",
              "type": "label"
            },
            {
              "name": "Create / Delete",
              "field": "isoline_mapbox_custom",
              "fieldfx": "ST_asGeoJSON(isoline_mapbox_custom)",
              "type": "geometry",
              "edit": {
                "isoline_mapbox": {
                  "meta": "isoline_mapbox_custom_meta"
                }
              },
              "style": {
                "strokeColor": "#43a047",
                "strokeWidth": 2,
                "fillColor": "#43a047",
                "fillOpacity": 0.2
              }
            },
            {
              "title": "Recent isoline",
              "field": "isoline_mapbox_custom_meta",
              "type": "meta"
            },
            {
              "label": "something",
              "field": "chk",
              "type": "boolean"
            },
            {
              "label": "Images",
              "field": "images",
              "type": "images",
              "edit": true
            },
            {
              "label": "Documents",
              "field": "documents",
              "type": "documents",
              "edit": true
            }
          ],
          "style": {
            "marker": {
              "type": "square",
              "fillColor": "#03a9f4",
              "layers": {
                "0.7": "#FFF",
                "0.5": "#512da8"
              }
            },
            "markerMulti": {
              "type": "square",
              "fillColor": "#03a9f4",
              "layers": {
                "0.7": "#FFF",
                "0.5": "#512da8"
              }
            }
          }
        },
        "Draw": {
          "format": "mvt",
          "dbs": "XYZ",
          "table": "dev.draw",
          "srid": "3857",
          "geom": "geom",
          "qID": "id",
          "edit": {
            "polygon": true,
            "freehand": true,
            "circle": true,
            "rectangle": true,
            "line": true,
            "point": true,
            "isoline_mapbox": true,
            "isoline_here": true,
            "delete": true,
            "geometry": true
          },
          "mvt_cache": "dev.draw__mvts",
          "style": {
            "default": {
              "strokeColor": "#ff69b4",
              "strokeWidth": 2,
              "fillColor": "#eee",
              "fillOpacity": 1
            },
            "themes": {
              "Test categorized": {
                "field": "test_binary",
                "type": "categorized",
                "other": true,
                "cat": {
                  "0": {
                    "style": {
                      "fillColor": "#283593"
                    }
                  },
                  "1": {
                    "style": {
                      "fillColor": "#ff1744"
                    }
                  }
                }
              }
            }
          },
          "infoj": [
            {
              "type": "key"
            },
            {
              "field": "id",
              "label": "ID",
              "inline": true
            },
            {
              "field": "strokecolor",
              "label": "Stroke color",
              "inline": true
            },
            {
              "field": "test_binary",
              "fieldfx": "MOD(id, 2)",
              "label": "Nombre",
              "inline": true,
              "type": "integer"
            }
          ]
        },
        "Scratch": {
          "meta": "This is a test layer for editing and drawing geometries.",
          "format": "mvt",
          "dbs": "XYZ",
          "table": "dev.scratch",
          "srid": "3857",
          "geom": "geom_3857",
          "mvt_cache": "dev.scratch__mvts",
          "qID": "id",
          "edit": {
            "polygon": true,
            "freehand": true,
            "circle": true,
            "rectangle": true,
            "line": true,
            "point": true,
            "isoline_mapbox": true,
            "isoline_here": true,
            "delete": true
          },
          "infoj": [
            {
              "type": "key"
            },
            {
              "label": "ID",
              "field": "id"
            },
            {
              "label": "RP Count",
              "field": "rp_count",
              "fieldfx": "SELECT sum(1) FROM dev.retailpoints, dev.scratch WHERE st_intersects(dev.retailpoints.geom, st_transform(dev.scratch.geom_3857, 4326)) AND dev.scratch.id = $1"
            },
            {
              "label": "something",
              "field": "chk",
              "type": "boolean",
              "edit": true
            },
            {
              "label": "int_test",
              "field": "int_test",
              "type": "integer",
              "edit": true
            },
            {
              "label": "int_test",
              "field": "int_test_",
              "fieldfx": "int_test",
              "type": "integer"
            },
            {
              "label": "Images",
              "field": "images",
              "type": "images",
              "edit": true
            },
            {
              "label": "Date",
              "field": "dev_date",
              "type": "date",
              "edit": {
                "enableTime": true
              }
            },
            {
              "label": "Date and time",
              "field": "dev_date_time",
              "type": "datetime",
              "edit": true,
              "inline": true
            },
            {
              "label": "not editable:",
              "field": "_date",
              "fieldfx": "dev_date",
              "type": "datetime",
              "inline": true
            },
            {
              "label": "Options",
              "field": "dev_options",
              "inline": true,
              "edit": {
                "options": [
                  {
                    "Open": "1"
                  },
                  {
                    "Closed": "2"
                  },
                  "Other"
                ]
              }
            },
            {
              "field": "notes",
              "label": "Notes",
              "type": "textarea",
              "edit": true
            }
          ],
          "style": {
            "default": {
              "strokeColor": "#083D77",
              "fillColor": "#083D77",
              "fillOpacity": 0.3,
              "marker": {
                "type": "circle",
                "strokeColor": "#083D77"
              },
              "_marker": {
                "url": "https://cdn.jsdelivr.net/gh/GEOLYTIX/gla@master/icon-pin.svg",
                "anchor": [
                  0.5,
                  1
                ]
              }
            },
            "highlight": {
              "strokeColor": "#F78764",
              "fillColor": "#F78764",
              "fillOpacity": 0.3,
              "marker": {
                "type": "dot",
                "fillColor": "#F78764",
                "scale": 0.05
              }
            }
          }
        },
        "Output areas": {
          "attribution": {
            "© ONS": "https://www.ons.gov.uk"
          },
          "format": "mvt",
          "dbs": "XYZ",
          "tables": {
            "12": null,
            "13": "dev.oa",
            "14": "dev.oa"
          },
          "srid": "3857",
          "geom": "geom_3857",
          "mvt_cache": "dev.oa__mvts",
          "style": {
            "default": {
              "fillOpacity": 1,
              "fillColor": "#EEE",
              "strokeColor": "#DDD"
            },
            "highlight": {
              "fillOpacity": 1
            },
            "themes": {
              "Population 2011": {
                "type": "graduated",
                "field": "pop_11",
                "cat_arr": [
                  {
                    "value": 0,
                    "label": "0 to 100",
                    "style": {
                      "fillColor": "#b9beff"
                    }
                  },
                  {
                    "value": 100,
                    "label": "100 to 200",
                    "style": {
                      "fillColor": "#8ea1fc"
                    }
                  },
                  {
                    "value": 200,
                    "label": "200 to 300",
                    "style": {
                      "fillColor": "#638cfa"
                    }
                  },
                  {
                    "value": 300,
                    "label": "300 to 400",
                    "style": {
                      "fillColor": "#1fb4ed"
                    }
                  },
                  {
                    "value": 400,
                    "label": "400 to 500",
                    "style": {
                      "fillColor": "#00d764"
                    }
                  },
                  {
                    "value": 500,
                    "label": "500 to 600",
                    "style": {
                      "fillColor": "#85b300"
                    }
                  },
                  {
                    "value": 600,
                    "label": "600 or more",
                    "style": {
                      "fillColor": "#870000"
                    }
                  }
                ]
              }
            }
          },
          "qID": "id",
          "infoj": [
            {
              "type": "key"
            },
            {
              "label": "OA Code",
              "field": "oacode",
              "inline": true,
              "filter": "like"
            },
            {
              "label": "Population '11",
              "field": "pop_11",
              "type": "integer",
              "filter": "numeric",
              "edit": true
            }
          ]
        },
        "Retail Points": {
          "group": "Cluster",
          "format": "cluster",
          "cluster_label": "store",
          "dbs": "XYZ",
          "qID": "id",
          "table": "dev.retailpoints",
          "geom": "geom",
          "srid": "4326",
          "cluster_hexresolution": 0.1,
          "hover": {
            "field": "store"
          },
          "dataviews": {
            "Retail Points": {
              "display": true,
              "query": "UK Retail Points Layer Table",
              "columns": [
                {
                  "title": "ID",
                  "field": "retailpoint_id"
                },
                {
                  "title": "Retailer",
                  "field": "retailer"
                },
                {
                  "title": "Fascia",
                  "field": "fascia"
                }
              ]
            }
          },
          "filter": {
            "infoj": [
              {
                "label": "ID count",
                "field": "id_count",
                "type": "integer",
                "inline": true,
                "fieldfx": "count(retailpoint_id)"
              }
            ]
          },
          "style": {
            "label": {
              "field": "store",
              "display": true,
              "declutter": true,
              "strokeColor": "#fff",
              "strokeWidth": 3
            },
            "marker": {
              "type": "target",
              "fillColor": "#eeeeee"
            },
            "markerMulti": {
              "type": "target",
              "fillColor": "#534B62"
            },
            "highlight": {
              "type": "target",
              "fillColor": "#ccff99"
            },
            "themes": {
              "Retailer": {
                "type": "categorized",
                "field": "retailer",
                "other": true,
                "cat": {
                  "Tesco": {
                    "label": "Tesco",
                    "style": {
                      "fillColor": "#0055a8",
                      "layers": {
                        "0.75": "#ffffff",
                        "0.35": "#f02f26"
                      }
                    }
                  },
                  "Sainsburys": {
                    "label": "Sainsbury's",
                    "style": {
                      "fillColor": "#ee8a00",
                      "layers": {
                        "0.5": "#ffffff",
                        "0.35": "#ee8a00"
                      }
                    }
                  },
                  "Marks and Spencer": {
                    "label": "Marks & Spencer",
                    "style": {
                      "fillColor": "#0a0d10",
                      "layers": {
                        "0.5": "#def036",
                        "0.25": "#0a0d10"
                      }
                    }
                  }
                }
              },
              "Households": {
                "type": "graduated",
                "field": "hhdooc_11",
                "cat_arr": [
                  {
                    "value": 0,
                    "label": "0 to 100",
                    "style": {
                      "fillColor": "#15773f"
                    }
                  },
                  {
                    "value": 100,
                    "label": "100 to 200",
                    "style": {
                      "fillColor": "#66bd63"
                    }
                  },
                  {
                    "value": 200,
                    "label": "200 to 400",
                    "style": {
                      "fillColor": "#a6d96a"
                    }
                  },
                  {
                    "value": 400,
                    "label": "400 to 600",
                    "style": {
                      "fillColor": "#d9ef8b"
                    }
                  },
                  {
                    "value": 600,
                    "label": "600 to 800",
                    "style": {
                      "fillColor": "#fdae61"
                    }
                  },
                  {
                    "value": 800,
                    "label": "800 to 1000",
                    "style": {
                      "fillColor": "#f46d43"
                    }
                  },
                  {
                    "value": 1000,
                    "label": "1000 or more",
                    "style": {
                      "fillColor": "#d73027"
                    }
                  }
                ]
              },
              "Households Sized": {
                "type": "graduated",
                "field": "hhdooc_11",
                "size": "hhdooc_11",
                "cat_arr": [
                  {
                    "value": 0,
                    "label": "0 to 100",
                    "style": {
                      "fillColor": "#15773f"
                    }
                  },
                  {
                    "value": 100,
                    "label": "100 to 200",
                    "style": {
                      "fillColor": "#66bd63"
                    }
                  },
                  {
                    "value": 200,
                    "label": "200 to 400",
                    "style": {
                      "fillColor": "#a6d96a"
                    }
                  },
                  {
                    "value": 400,
                    "label": "400 to 600",
                    "style": {
                      "fillColor": "#d9ef8b"
                    }
                  },
                  {
                    "value": 600,
                    "label": "600 to 800",
                    "style": {
                      "fillColor": "#fdae61"
                    }
                  },
                  {
                    "value": 800,
                    "label": "800 to 1000",
                    "style": {
                      "fillColor": "#f46d43"
                    }
                  },
                  {
                    "value": 1000,
                    "label": "1000 or more",
                    "style": {
                      "fillColor": "#d73027"
                    }
                  }
                ]
              },
              "Tesco/Sainsbury's": {
                "type": "competition",
                "field": "retailer",
                "other": true,
                "cat": {
                  "Tesco": {
                    "label": "Tesco",
                    "style": {
                      "fillColor": "#0055a8"
                    }
                  },
                  "Sainsburys": {
                    "label": "Sainsbury's",
                    "style": {
                      "fillColor": "#ee8a00"
                    }
                  }
                }
              }
            }
          },
          "infoj": [
            {
              "type": "streetview"
            },
            {
              "type": "key"
            },
            {
              "label": "ID",
              "field": "retailpoint_id",
              "inline": true
            },
            {
              "label": "Store",
              "field": "store",
              "filter": "like"
            },
            {
              "label": "Retailer",
              "field": "retailer",
              "filter": "like"
            },
            {
              "label": "Fascia",
              "field": "fascia",
              "filter": "like"
            },
            {
              "label": "Address"
            },
            {
              "field": "address_1",
              "type": "text",
              "level": 1
            },
            {
              "field": "address_2",
              "level": 1
            },
            {
              "field": "locality",
              "level": 1
            },
            {
              "field": "town",
              "level": 1
            },
            {
              "label": "Postcode",
              "field": "postcode",
              "type": "text",
              "level": 1,
              "filter": "like",
              "filterZoom": true
            },
            {
              "label": "Households",
              "field": "hhdooc_11",
              "type": "integer",
              "filter": "numeric"
            },
            {
              "field": "test_flag",
              "label": "Test boolean field",
              "type": "boolean",
              "filter": "boolean",
              "edit": true
            },
            {
              "label": "Catchment 10min",
              "type": "label"
            },
            {
              "field": "catchment_10min",
              "fieldfx": "ST_asGeoJson(catchment_10min)",
              "type": "geometry",
              "display": true,
              "edit": {
                "isoline_here": {
                  "minutes": 10
                }
              },
              "style": {
                "strokeColor": "#ffca28",
                "fillColor": "#ffca28",
                "strokeWidth": 2,
                "fillOpacity": 0.2
              }
            }
          ]
        },
        "Health": {
          "group": "Cluster",
          "meta": "A subset of collection of points of interest across the UK including healthcare locations, law and order sites along with sport & leisure facilities, car parks, cinemas and service areas.",
          "format": "cluster",
          "dbs": "XYZ",
          "table": "geodata.vw_uk_glx_geodata_poi_health",
          "qID": "id",
          "geom": "geom_p_4326",
          "srid": "4326",
          "cluster_label": "poi_name",
          "cluster_kmeans": 0.1,
          "cluster_dbscan": 0.01,
          "infoj": [
            {
              "type": "streetview"
            },
            {
              "type": "key"
            },
            {
              "field": "poi_type",
              "label": "Category",
              "inline": true
            },
            {
              "field": "poi_name",
              "label": "Name",
              "inline": true
            },
            {
              "field": "brand",
              "label": "Brand",
              "inline": true
            },
            {
              "label": "Address",
              "type": "label"
            },
            {
              "field": "add_one"
            },
            {
              "field": "add_two"
            },
            {
              "field": "locality"
            },
            {
              "field": "town"
            },
            {
              "field": "postcode"
            }
          ],
          "style": {
            "label": {
              "field": "count",
              "display": true,
              "fillColor": "#fff",
              "font": "bold 20px sans-serif"
            },
            "marker": {
              "type": "target",
              "fillColor": "#539987"
            },
            "markerMulti": {
              "type": "target",
              "fillColor": "#539987"
            },
            "markerMin": 80,
            "markerMax": 80,
            "themes": {
              "POI Type": {
                "field": "poi_type",
                "type": "categorized",
                "other": true,
                "cat": {
                  "Hospital": {
                    "label": "Hospital",
                    "svg": "https://cdn.jsdelivr.net/gh/GEOLYTIX/MapIcons@master/poi_pin_filled/poi_health_hospital.svg",
                    "anchor": [
                      0.5,
                      0.95
                    ]
                  },
                  "Pharmacy": {
                    "label": "Pharmacy",
                    "svg": "https://cdn.jsdelivr.net/gh/GEOLYTIX/MapIcons@master/poi_pin_filled/poi_health_pharmacy.svg",
                    "anchor": [
                      0.5,
                      0.95
                    ]
                  }
                }
              }
            }
          }
        },
        "Election Wards": {
          "group": "Cluster",
          "format": "cluster",
          "dbs": "XYZ",
          "table": "politics.election_ward",
          "geom": "geom_point_4326",
          "srid": "4326",
          "cluster_hexresolution": 0.1,
          "style": {
            "markerMin": 10,
            "markerMax": 20,
            "anchor": null,
            "marker": {
              "type": "target",
              "fillColor": "#cddc39",
              "scale": 0.05
            },
            "markerMulti": {
              "type": "target",
              "fillColor": "#ff9800",
              "scale": 0.05
            }
          }
        },
        "PPD": {
          "group": "Cluster",
          "format": "cluster",
          "dbs": "XYZ",
          "table": "dev.london_hpp",
          "geom": "geom_3857",
          "srid": "3857",
          "cluster_hexresolution": 0.1,
          "qID": "id",
          "infoj": [
            {
              "field": "trans_date_bigint",
              "type": "date",
              "filter": "date"
            }
          ],
          "style": {
            "markerMin": 10,
            "markerMax": 30,
            "themes": {
              "PPD": {
                "type": "graduated",
                "field": "price_paid",
                "aggregate": "avg",
                "cat_arr": [
                  {
                    "value": 0,
                    "label": "0",
                    "style": {
                      "fillColor": "#15773f"
                    }
                  },
                  {
                    "value": 250000,
                    "label": "250000",
                    "style": {
                      "fillColor": "#66bd63"
                    }
                  },
                  {
                    "value": 500000,
                    "label": "500000",
                    "style": {
                      "fillColor": "#a6d96a"
                    }
                  },
                  {
                    "value": 750000,
                    "label": "750000",
                    "style": {
                      "fillColor": "#d9ef8b"
                    }
                  },
                  {
                    "value": 1000000,
                    "label": "1000000",
                    "style": {
                      "fillColor": "#fdae61"
                    }
                  },
                  {
                    "value": 1500000,
                    "label": "1500000",
                    "style": {
                      "fillColor": "#f46d43"
                    }
                  },
                  {
                    "value": 2000000,
                    "label": "2000000",
                    "style": {
                      "fillColor": "#d73027"
                    }
                  }
                ]
              }
            }
          }
        },
        "Shops with catchments": {
          "format": "cluster",
          "edit": {
            "geometry": true
          },
          "dbs": "XYZ",
          "geom": "geom_4326",
          "sird": "4326",
          "table": "dev.storelist_1507__19",
          "qID": "id",
          "cluster_label": "id",
          "cluster_dbscan": 0.001,
          "cluster_kmeans": 0.01,
          "infoj": [
            {
              "type": "key",
              "class": "_report"
            },
            {
              "label": "Address",
              "type": "label"
            },
            {
              "field": "town",
              "label": "Town",
              "inline": true
            },
            {
              "field": "county",
              "label": "County",
              "inline": true
            },
            {
              "label": "Customer catchments",
              "type": "label",
              "class": "_report"
            },
            {
              "name": "Primary",
              "field": "catchment_primary",
              "fieldfx": "ST_asGeoJson(catchment_primary)",
              "type": "geometry",
              "style": {
                "strokeColor": "#E01A4F",
                "strokeWidth": 2,
                "fillOpacity": 0.2,
                "fillColor": "#E01A4F"
              }
            },
            {
              "name": "Secondary",
              "field": "catchment_secondary",
              "fieldfx": "ST_asGeoJson(catchment_secondary)",
              "type": "geometry",
              "style": {
                "strokeColor": "#F17105",
                "strokeWidth": 2,
                "fillOpacity": 0.2,
                "fillColor": "#F17105"
              }
            },
            {
              "name": "Tertiary",
              "field": "catchment_tertiary",
              "fieldfx": "ST_asGeoJson(catchment_tertiary)",
              "type": "geometry",
              "style": {
                "strokeColor": "#E6C229",
                "strokeWidth": 2,
                "fillOpacity": 0.2,
                "fillColor": "#E6C229"
              }
            },
            {
              "name": "All catchments",
              "type": "geometry",
              "display": true,
              "style": {
                "theme": {
                  "legend": true,
                  "type": "categorized",
                  "field": "catchment",
                  "cat": {
                    "primary": {
                      "label": "Primary",
                      "style": {
                        "strokeColor": "#5E08E4",
                        "fillOpacity": 0.7,
                        "fillColor": "#5E08E4"
                      }
                    },
                    "secondary": {
                      "label": "Secondary",
                      "style": {
                        "strokeColor": "#D15CF1",
                        "fillOpacity": 0.7,
                        "fillColor": "#D15CF1"
                      }
                    },
                    "tertiary": {
                      "label": "Tertiary",
                      "style": {
                        "strokeColor": "#FFB9F2",
                        "fillOpacity": 0.7,
                        "fillColor": "#FFB9F2"
                      }
                    }
                  }
                }
              },
              "field": "all_catchments",
              "fieldfx": "SELECT jsonb_build_object('type', 'FeatureCollection','features', b.features) AS collection FROM (SELECT jsonb_build_array(jsonb_build_object('type', 'Feature','properties', jsonb_build_object('catchment', 'primary', 'id', id),'geometry', ST_AsGeoJson(catchment_primary)::jsonb),jsonb_build_object('type', 'Feature','properties', jsonb_build_object('catchment', 'secondary', 'id', id),'geometry', ST_AsGeoJson(catchment_secondary)::jsonb),jsonb_build_object('type', 'Feature','properties', jsonb_build_object('catchment', 'tertiary', 'id', id),'geometry', ST_AsGeoJson(catchment_tertiary)::jsonb)) AS features FROM (SELECT * FROM dev.storelist_1507__19 where id = $1) a) b"
            },
            {
              "field": "county2",
              "fieldfx": "county",
              "label": "County 2",
              "inline": true
            }
          ],
          "style": {
            "marker": {
              "type": "target",
              "fillColor": "#011D4A",
              "layers": {
                "0.75": "#EEE",
                "0.5": "#33849D"
              }
            },
            "markerMulti": {
              "type": "target",
              "fillColor": "#011D4A",
              "layers": {
                "0.75": "#EEE",
                "0.5": "#33849D"
              }
            }
          }
        },
        "Dennis": {
          "group": "Cluster",
          "edit": {
            "point": true,
            "delete": true
          },
          "format": "cluster",
          "srid": "4326",
          "geom": "geom_4326",
          "dbs": "XYZ",
          "qID": "id",
          "table": "dev.uk_glx_sites",
          "cluster_kmeans": 0.1,
          "cluster_label": "site_name",
          "infoj": [
            {
              "type": "streetview"
            },
            {
              "type": "key",
              "class": "_report"
            },
            {
              "type": "report",
              "report": {
                "template": "Sites Local Report"
              },
              "class": "_report"
            },
            {
              "type": "report",
              "report": {
                "name": "Report hosted with GitHub",
                "template": "Dev sites report"
              },
              "class": "_report"
            },
            {
              "field": "id",
              "label": "Site ID",
              "inline": true
            },
            {
              "field": "site_name",
              "label": "Site Name",
              "edit": true,
              "dependents": ["site_name_confirm", "site_type", "Random Data Series"],
              "inline": true
            },
            {
              "field": "site_name_confirm",
              "fieldfx": "site_name",
              "label": "Site Name Confirm",
              "inline": true
            },
            {
              "field": "site_type",
              "label": "Site Type",
              "inline": true,
              "edit": {
                "options": [
                  "Type A",
                  "Type B",
                  " "
                ]
              }
            },
            {
              "type": "geometry",
              "name": "Fixed Geometry",
              "field": "fixed_geom",
              "fieldfx": "ST_asGeoJson(fixed_geom)",
              "class": "_report",
              "display": true,
              "level": 1,
              "style": {
                "fillOpacity": 0.3,
                "strokeWidth": 2
              }
            },
            {
              "type": "geometry",
              "name": "Buffer 10km",
              "field": "buffer_10km",
              "class": "_report",
              "fieldfx": "ST_asGeoJson(ST_Transform(ST_Buffer(ST_Transform(geom_4326, 3857), 10000), 4326))",
              "display": true,
              "level": 1,
              "style": {
                "fillOpacity": 1,
                "strokeWidth": 2,
                "fillColor": "#E2DE84"
              }
            },
            {
              "name": "HERE Catchment 5min",
              "field": "isoline_5min",
              "fieldfx": "ST_asGeoJson(isoline_5min)",
              "type": "geometry",
              "class": "_report",
              "level": 1,
              "display": false,
              "edit": {
                "isoline_here": {
                  "minutes": 5
                }
              },
              "style": {
                "strokeColor": "#F49D37",
                "fillColor": "#F49D37",
                "fillOpacity": 0.3,
                "strokeWidth": 2
              }
            },
            {
              "name": "HERE Catchment 10min",
              "field": "isoline_10min",
              "fieldfx": "ST_asGeoJson(isoline_10min)",
              "type": "geometry",
              "class": "_report",
              "level": 1,
              "display": false,
              "edit": {
                "isoline_here": {
                  "minutes": 10
                }
              },
              "style": {
                "strokeColor": "#F49D37",
                "fillColor": "#F49D37",
                "fillOpacity": 0.3,
                "strokeWidth": 2
              }
            },
            {
              "name": "HERE Catchment 15min",
              "field": "isoline_15min",
              "fieldfx": "ST_asGeoJson(isoline_15min)",
              "type": "geometry",
              "class": "_report",
              "display": false,
              "level": 1,
              "edit": {
                "isoline_here": {
                  "minutes": 15
                }
              },
              "style": {
                "strokeColor": "#F49D37",
                "fillColor": "#F49D37",
                "fillOpacity": 0.3,
                "strokeWidth": 2
              }
            },
            {
              "label": "Dashboards",
              "type": "label",
              "class": "_report"
            },
            {
              "type": "__dataview",
              "title": "Population Dashboard",
              "class": "_report",
              "script": "/api/provider/github?url=api.github.com/repos/GEOLYTIX/xyz_resources/contents/dev/dashboards/sites_population.js"
            },
            {
              "label": "dataviews array",
              "type": "dataview",
              "title": "Dataviews array",
              "dataviews": [
                {
                  "style": "grid-column: 1;",
                  "query": "Random Data Series",
                  "chart": {
                    "type": "radar",
                    "labels": [
                      "Rand 1",
                      "Rand 2",
                      "Rand 3",
                      "Rand 4",
                      "Rand 5"
                    ],
                    "datasets": [
                      {
                        "fields": [
                          "random1",
                          "random2",
                          "random3",
                          "random4",
                          "random5"
                        ],
                        "label": "Serie 1",
                        "backgroundColor": "rgba(192, 117, 205, 0.3)",
                        "borderColor": "#4a148c"
                      },
                      {
                        "fields": [
                          "rev_random1",
                          "rev_random2",
                          "rev_random3",
                          "rev_random4",
                          "rev_random5"
                        ],
                        "label": "Serie 2",
                        "backgroundColor": "rgba(255, 167, 38, 0.3)",
                        "borderColor": "#e65100"
                      }
                    ],
                    "options": {
                      "legend": {
                        "display": true
                      }
                    }
                  }
                },
                {
                  "style": "grid-column: 2;",
                  "query": "Random Data Series",
                  "chart": {
                    "type": "pie",
                    "labels": [
                      "Rand 1",
                      "Rand 2",
                      "Rand 3",
                      "Rand 4",
                      "Rand 5"
                    ],
                    "datasets": [
                      {
                        "fields": [
                          "random1",
                          "random2",
                          "random3",
                          "random4",
                          "random5"
                        ],
                        "backgroundColor": [
                          "rgba(229, 99 , 153, 0.4)",
                          "rgba(0, 167, 225, 0.4)",
                          "rgba(237, 222, 164, 0.4)",
                          "rgba(247, 160 ,114, 0.4)",
                          "rgba(255, 155, 66, 0.4)"
                        ],
                        "borderColor": "#C0B4A7"
                      }
                    ],
                    "options": {
                      "legend": {
                        "display": true
                      }
                    }

                  }
                }
              ]
            },
            {
              "title": "Mixed chart with 2 series",
              "type": "dataview",
              "query": "Random Data Series",
              "chart": {
                "labels": [
                  "Rand 1",
                  "Rand 2",
                  "Rand 3",
                  "Rand 4",
                  "Rand 5"
                ],
                "datasets": [
                  {
                    "fields": [
                      "random1",
                      "random2",
                      "random3",
                      "random4",
                      "random5"
                    ],
                    "label": "Serie 1",
                    "backgroundColor": "rgba(192, 117, 205, 0.3)",
                    "borderColor": "#4a148c",
                    "type": "bar"
                  },
                  {
                    "fields": [
                      "rev_random1",
                      "rev_random2",
                      "rev_random3",
                      "rev_random4",
                      "rev_random5"
                    ],
                    "label": "Serie 2",
                    "backgroundColor": "rgba(255, 167, 38, 0.3)",
                    "borderColor": "#e65100"
                  }
                ],
                "options": {
                  "legend": {
                    "display": true,
                    "position": "bottom"
                  }
                }
              }
            },
            {
              "label": "Doughnut Chart",
              "type": "dataview",
              "query": "Random Data Series",
              "target": "location",
              "chart": {
                "height": 400,
                "type": "doughnut",
                "options": {
                  "title": {
                    "display": true,
                    "text": "Optional title text here"
                  }
                },
                "labels": [
                  "Rand 1",
                  "Rand 2",
                  "Rand 3",
                  "Rand 4",
                  "Rand 5"
                ],
                "datasets": [
                  {
                    "fields": [
                      "random1",
                      "random2",
                      "random3",
                      "random4",
                      "random5"
                    ],
                    "backgroundColor": [
                      "rgba(229, 99 , 153, 0.4)",
                      "rgba(0, 167, 225, 0.4)",
                      "rgba(237, 222, 164, 0.4)",
                      "rgba(247, 160 ,114, 0.4)",
                      "rgba(255, 155, 66, 0.4)"
                    ],
                    "label": "Serie 1",
                    "borderColor": "#C0B4A7"
                  }
                ]
              }
            },
            {
              "group": "Random data series",
              "label": "Rand 1",
              "field": "random1",
              "type": "integer",
              "expanded": true
            },
            {
              "group": "Random data series",
              "label": "Rand 2",
              "field": "random2",
              "type": "integer"
            },
            {
              "group": "Random data series",
              "label": "Rand 3",
              "field": "random3",
              "type": "integer"
            },
            {
              "group": "Random data series",
              "label": "Rand 4",
              "field": "random4",
              "type": "integer"
            },
            {
              "group": "Random data series",
              "label": "Rand 5",
              "field": "random5",
              "type": "integer"
            },
            {
              "field": "comments",
              "label": "Comments",
              "type": "textarea",
              "edit": true,
              "class": "_report"
            },
            {
              "field": "images",
              "label": "Images",
              "type": "images",
              "edit": true,
              "class": "_report"
            },
            {
              "label": "Documents",
              "field": "documents",
              "type": "documents",
              "edit": true,
              "class": "_report"
            },
            {
              "label": "Available dv",
              "type": "label",
              "class": "_report"
            },
            {
              "type": "dataview",
              "title": "Population Summary",
              "query": "Population Summary Sites",
              "class": "_report",
              "layout": "fitColumns",
              "columns": [
                {
                  "field": "rows",
                  "title": "Population Summary",
                  "headerSort": false,
                  "hozAlign": "left"
                },
                {
                  "title": "Grouped columns",
                  "columns": [
                    {
                      "title": "0-5 mins",
                      "field": "min5",
                      "formatter": "money",
                      "formatterParams": {
                        "precision": 0
                      },
                      "hozAlign": "center"
                    },
                    {
                      "title": "0-10 mins",
                      "field": "min10",
                      "formatter": "money",
                      "formatterParams": {
                        "precision": 0
                      },
                      "hozAlign": "center"
                    }
                  ]
                }
              ]
            },
            {
              "type": "dataview",
              "title": "Population Summary *2",
              "class": "_report",
              "dataviews": [
                {
                  "query": "Population Summary Sites",
                  "class": "test",
                  "style": "padding: 30px",
                  "layout": "fitColumns",
                  "columns": [
                    {
                      "field": "rows",
                      "title": "Population Summary",
                      "headerSort": false,
                      "hozAlign": "left"
                    },
                    {
                      "title": "Grouped columns",
                      "columns": [
                        {
                          "title": "0-5 mins",
                          "field": "min5",
                          "formatter": "money",
                          "formatterParams": {
                            "precision": 0
                          },
                          "hozAlign": "center"
                        },
                        {
                          "title": "0-10 mins",
                          "field": "min10",
                          "formatter": "money",
                          "formatterParams": {
                            "precision": 0
                          },
                          "hozAlign": "center"
                        }
                      ]
                    }
                  ]
                },
                {
                  "query": "Population Summary Sites",
                  "class": "test",
                  "style": "padding: 30px",
                  "layout": "fitColumns",
                  "columns": [
                    {
                      "field": "rows",
                      "title": "Population Summary",
                      "headerSort": false,
                      "hozAlign": "left"
                    },
                    {
                      "title": "Grouped columns",
                      "columns": [
                        {
                          "title": "0-5 mins",
                          "field": "min5",
                          "formatter": "money",
                          "formatterParams": {
                            "precision": 0
                          },
                          "hozAlign": "center"
                        },
                        {
                          "title": "0-10 mins",
                          "field": "min10",
                          "formatter": "money",
                          "formatterParams": {
                            "precision": 0
                          },
                          "hozAlign": "center"
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "type": "dataview",
              "title": "Nearest competitors",
              "class": "_report",
              "target_id": "xyz_sites_nearestcomp",
              "layout": "fitColumns",
              "query": "Nearest competitors Sites",
              "columns": [
                {
                  "title": "Distance",
                  "field": "dist",
                  "hozAlign": "center",
                  "formatter": "money",
                  "formatterParams": {
                    "symbol": " km",
                    "symbolAfter": true
                  }
                },
                {
                  "title": "Competitor name",
                  "field": "fascia"
                },
                {
                  "title": "Postcode",
                  "field": "postcode"
                }
              ]
            }
          ]
        }
      }
    }
  }
}