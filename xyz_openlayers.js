require([],function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=170)}([function(t,e,n){(function(t){t.exports=function(){"use strict";var e,i;function o(){return e.apply(null,arguments)}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function u(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function d(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,n,i){return Re(t,e,n,i,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function m(t){if(null==t._isValid){var e=f(t),n=i.call(e.parsedDateParts,function(t){return null!=t}),o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function g(t){var e=p(NaN);return null!=t?h(f(e),t):f(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var _=o.momentProperties=[];function y(t,e){var n,i,o;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=f(e)),s(e._locale)||(t._locale=e._locale),_.length>0)for(n=0;n<_.length;n++)s(o=e[i=_[n]])||(t[i]=o);return t}var v=!1;function b(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,o.updateOffset(this),v=!1)}function w(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function M(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function x(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=M(e)),n}function L(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(i=0;i<o;i++)(n&&t[i]!==e[i]||!n&&x(t[i])!==x(e[i]))&&a++;return a+r}function k(t){!1===o.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function T(t,e){var n=!0;return h(function(){if(null!=o.deprecationHandler&&o.deprecationHandler(null,t),n){for(var i,r=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var s in i+="\n["+a+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];r.push(i)}k(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}var E,C={};function D(t,e){null!=o.deprecationHandler&&o.deprecationHandler(t,e),C[t]||(k(e),C[t]=!0)}function S(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function Y(t,e){var n,i=h({},t);for(n in e)c(e,n)&&(a(t[n])&&a(e[n])?(i[n]={},h(i[n],t[n]),h(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)c(t,n)&&!c(e,n)&&a(t[n])&&(i[n]=h({},i[n]));return i}function R(t){null!=t&&this.set(t)}o.suppressDeprecationWarnings=!1,o.deprecationHandler=null,E=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var O={};function P(t,e){var n=t.toLowerCase();O[n]=O[n+"s"]=O[e]=t}function F(t){return"string"==typeof t?O[t]||O[t.toLowerCase()]:void 0}function I(t){var e,n,i={};for(n in t)c(t,n)&&(e=F(n))&&(i[e]=t[n]);return i}var A={};function j(t,e){A[t]=e}function H(t,e,n){var i=""+Math.abs(t),o=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,z=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,G={},W={};function B(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(W[t]=o),e&&(W[e[0]]=function(){return H(o.apply(this,arguments),e[1],e[2])}),n&&(W[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function V(t,e){return t.isValid()?(e=q(e,t.localeData()),G[e]=G[e]||function(t){var e,n,i,o=t.match(N);for(e=0,n=o.length;e<n;e++)W[o[e]]?o[e]=W[o[e]]:o[e]=(i=o[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(e){var i,r="";for(i=0;i<n;i++)r+=S(o[i])?o[i].call(e,t):o[i];return r}}(e),G[e](t)):t.localeData().invalidDate()}function q(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(z.lastIndex=0;n>=0&&z.test(t);)t=t.replace(z,i),z.lastIndex=0,n-=1;return t}var U=/\d/,X=/\d\d/,K=/\d{3}/,J=/\d{4}/,Z=/[+-]?\d{6}/,$=/\d\d?/,Q=/\d\d\d\d?/,tt=/\d\d\d\d\d\d?/,et=/\d{1,3}/,nt=/\d{1,4}/,it=/[+-]?\d{1,6}/,ot=/\d+/,rt=/[+-]?\d+/,at=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,lt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ut={};function dt(t,e,n){ut[t]=S(e)?e:function(t,i){return t&&n?n:e}}function ct(t,e){return c(ut,t)?ut[t](e._strict,e._locale):new RegExp(ht(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o})))}function ht(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pt={};function ft(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),l(e)&&(i=function(t,n){n[e]=x(t)}),n=0;n<t.length;n++)pt[t[n]]=i}function mt(t,e){ft(t,function(t,n,i,o){i._w=i._w||{},e(t,i._w,i,o)})}function gt(t,e,n){null!=e&&c(pt,t)&&pt[t](e,n._a,n,t)}var _t=0,yt=1,vt=2,bt=3,wt=4,Mt=5,xt=6,Lt=7,kt=8;function Tt(t){return Et(t)?366:365}function Et(t){return t%4==0&&t%100!=0||t%400==0}B("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),P("year","y"),j("year",1),dt("Y",rt),dt("YY",$,X),dt("YYYY",nt,J),dt("YYYYY",it,Z),dt("YYYYYY",it,Z),ft(["YYYYY","YYYYYY"],_t),ft("YYYY",function(t,e){e[_t]=2===t.length?o.parseTwoDigitYear(t):x(t)}),ft("YY",function(t,e){e[_t]=o.parseTwoDigitYear(t)}),ft("Y",function(t,e){e[_t]=parseInt(t,10)}),o.parseTwoDigitYear=function(t){return x(t)+(x(t)>68?1900:2e3)};var Ct,Dt=St("FullYear",!0);function St(t,e){return function(n){return null!=n?(Rt(this,t,n),o.updateOffset(this,e),this):Yt(this,t)}}function Yt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Rt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&Et(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Ot(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Ot(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,i=(e%(n=12)+n)%n;return t+=(e-i)/12,1===i?Et(t)?29:28:31-i%7%2}Ct=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),B("MMMM",0,0,function(t){return this.localeData().months(this,t)}),P("month","M"),j("month",8),dt("M",$),dt("MM",$,X),dt("MMM",function(t,e){return e.monthsShortRegex(t)}),dt("MMMM",function(t,e){return e.monthsRegex(t)}),ft(["M","MM"],function(t,e){e[yt]=x(t)-1}),ft(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[yt]=o:f(n).invalidMonth=t});var Pt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ft="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),It="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function At(t,e,n){var i,o,r,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=p([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(o=Ct.call(this._shortMonthsParse,a))?o:null:-1!==(o=Ct.call(this._longMonthsParse,a))?o:null:"MMM"===e?-1!==(o=Ct.call(this._shortMonthsParse,a))?o:-1!==(o=Ct.call(this._longMonthsParse,a))?o:null:-1!==(o=Ct.call(this._longMonthsParse,a))?o:-1!==(o=Ct.call(this._shortMonthsParse,a))?o:null}function jt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=x(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Ot(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Ht(t){return null!=t?(jt(this,t),o.updateOffset(this,!0),this):Yt(this,"Month")}var Nt=lt,zt=lt;function Gt(){function t(t,e){return e.length-t.length}var e,n,i=[],o=[],r=[];for(e=0;e<12;e++)n=p([2e3,e]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)i[e]=ht(i[e]),o[e]=ht(o[e]);for(e=0;e<24;e++)r[e]=ht(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Wt(t,e,n,i,o,r,a){var s=new Date(t,e,n,i,o,r,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function Bt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Vt(t,e,n){var i=7+e-n;return-(7+Bt(t,0,i).getUTCDay()-e)%7+i-1}function qt(t,e,n,i,o){var r,a,s=1+7*(e-1)+(7+n-i)%7+Vt(t,i,o);return s<=0?a=Tt(r=t-1)+s:s>Tt(t)?(r=t+1,a=s-Tt(t)):(r=t,a=s),{year:r,dayOfYear:a}}function Ut(t,e,n){var i,o,r=Vt(t.year(),e,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1;return a<1?i=a+Xt(o=t.year()-1,e,n):a>Xt(t.year(),e,n)?(i=a-Xt(t.year(),e,n),o=t.year()+1):(o=t.year(),i=a),{week:i,year:o}}function Xt(t,e,n){var i=Vt(t,e,n),o=Vt(t+1,e,n);return(Tt(t)-i+o)/7}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),j("week",5),j("isoWeek",5),dt("w",$),dt("ww",$,X),dt("W",$),dt("WW",$,X),mt(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=x(t)}),B("d",0,"do","day"),B("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),B("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),B("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),dt("d",$),dt("e",$),dt("E",$),dt("dd",function(t,e){return e.weekdaysMinRegex(t)}),dt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),dt("dddd",function(t,e){return e.weekdaysRegex(t)}),mt(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);null!=o?e.d=o:f(n).invalidWeekday=t}),mt(["d","e","E"],function(t,e,n,i){e[i]=x(t)});var Kt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Jt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function $t(t,e,n){var i,o,r,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=p([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(o=Ct.call(this._weekdaysParse,a))?o:null:"ddd"===e?-1!==(o=Ct.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=Ct.call(this._minWeekdaysParse,a))?o:null:"dddd"===e?-1!==(o=Ct.call(this._weekdaysParse,a))?o:-1!==(o=Ct.call(this._shortWeekdaysParse,a))?o:-1!==(o=Ct.call(this._minWeekdaysParse,a))?o:null:"ddd"===e?-1!==(o=Ct.call(this._shortWeekdaysParse,a))?o:-1!==(o=Ct.call(this._weekdaysParse,a))?o:-1!==(o=Ct.call(this._minWeekdaysParse,a))?o:null:-1!==(o=Ct.call(this._minWeekdaysParse,a))?o:-1!==(o=Ct.call(this._weekdaysParse,a))?o:-1!==(o=Ct.call(this._shortWeekdaysParse,a))?o:null}var Qt=lt,te=lt,ee=lt;function ne(){function t(t,e){return e.length-t.length}var e,n,i,o,r,a=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=p([2e3,1]).day(e),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(i),s.push(o),l.push(r),u.push(i),u.push(o),u.push(r);for(a.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=ht(s[e]),l[e]=ht(l[e]),u[e]=ht(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ie(){return this.hours()%12||12}function oe(t,e){B(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function re(t,e){return e._meridiemParse}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,ie),B("k",["kk",2],0,function(){return this.hours()||24}),B("hmm",0,0,function(){return""+ie.apply(this)+H(this.minutes(),2)}),B("hmmss",0,0,function(){return""+ie.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),oe("a",!0),oe("A",!1),P("hour","h"),j("hour",13),dt("a",re),dt("A",re),dt("H",$),dt("h",$),dt("k",$),dt("HH",$,X),dt("hh",$,X),dt("kk",$,X),dt("hmm",Q),dt("hmmss",tt),dt("Hmm",Q),dt("Hmmss",tt),ft(["H","HH"],bt),ft(["k","kk"],function(t,e,n){var i=x(t);e[bt]=24===i?0:i}),ft(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),ft(["h","hh"],function(t,e,n){e[bt]=x(t),f(n).bigHour=!0}),ft("hmm",function(t,e,n){var i=t.length-2;e[bt]=x(t.substr(0,i)),e[wt]=x(t.substr(i)),f(n).bigHour=!0}),ft("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[bt]=x(t.substr(0,i)),e[wt]=x(t.substr(i,2)),e[Mt]=x(t.substr(o)),f(n).bigHour=!0}),ft("Hmm",function(t,e,n){var i=t.length-2;e[bt]=x(t.substr(0,i)),e[wt]=x(t.substr(i))}),ft("Hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[bt]=x(t.substr(0,i)),e[wt]=x(t.substr(i,2)),e[Mt]=x(t.substr(o))});var ae,se=St("Hours",!0),le={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ft,monthsShort:It,week:{dow:0,doy:6},weekdays:Kt,weekdaysMin:Zt,weekdaysShort:Jt,meridiemParse:/[ap]\.?m?\.?/i},ue={},de={};function ce(t){return t?t.toLowerCase().replace("_","-"):t}function he(e){var i=null;if(!ue[e]&&void 0!==t&&t&&t.exports)try{i=ae._abbr,n(195)("./"+e),pe(i)}catch(t){}return ue[e]}function pe(t,e){var n;return t&&((n=s(e)?me(t):fe(t,e))?ae=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ae._abbr}function fe(t,e){if(null!==e){var n,i=le;if(e.abbr=t,null!=ue[t])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=ue[t]._config;else if(null!=e.parentLocale)if(null!=ue[e.parentLocale])i=ue[e.parentLocale]._config;else{if(null==(n=he(e.parentLocale)))return de[e.parentLocale]||(de[e.parentLocale]=[]),de[e.parentLocale].push({name:t,config:e}),null;i=n._config}return ue[t]=new R(Y(i,e)),de[t]&&de[t].forEach(function(t){fe(t.name,t.config)}),pe(t),ue[t]}return delete ue[t],null}function me(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ae;if(!r(t)){if(e=he(t))return e;t=[t]}return function(t){for(var e,n,i,o,r=0;r<t.length;){for(e=(o=ce(t[r]).split("-")).length,n=(n=ce(t[r+1]))?n.split("-"):null;e>0;){if(i=he(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&L(o,n,!0)>=e-1)break;e--}r++}return ae}(t)}function ge(t){var e,n=t._a;return n&&-2===f(t).overflow&&(e=n[yt]<0||n[yt]>11?yt:n[vt]<1||n[vt]>Ot(n[_t],n[yt])?vt:n[bt]<0||n[bt]>24||24===n[bt]&&(0!==n[wt]||0!==n[Mt]||0!==n[xt])?bt:n[wt]<0||n[wt]>59?wt:n[Mt]<0||n[Mt]>59?Mt:n[xt]<0||n[xt]>999?xt:-1,f(t)._overflowDayOfYear&&(e<_t||e>vt)&&(e=vt),f(t)._overflowWeeks&&-1===e&&(e=Lt),f(t)._overflowWeekday&&-1===e&&(e=kt),f(t).overflow=e),t}function _e(t,e,n){return null!=t?t:null!=e?e:n}function ye(t){var e,n,i,r,a,s=[];if(!t._d){for(i=function(t){var e=new Date(o.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[vt]&&null==t._a[yt]&&function(t){var e,n,i,o,r,a,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)r=1,a=4,n=_e(e.GG,t._a[_t],Ut(Oe(),1,4).year),i=_e(e.W,1),((o=_e(e.E,1))<1||o>7)&&(l=!0);else{r=t._locale._week.dow,a=t._locale._week.doy;var u=Ut(Oe(),r,a);n=_e(e.gg,t._a[_t],u.year),i=_e(e.w,u.week),null!=e.d?((o=e.d)<0||o>6)&&(l=!0):null!=e.e?(o=e.e+r,(e.e<0||e.e>6)&&(l=!0)):o=r}i<1||i>Xt(n,r,a)?f(t)._overflowWeeks=!0:null!=l?f(t)._overflowWeekday=!0:(s=qt(n,i,o,r,a),t._a[_t]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=_e(t._a[_t],i[_t]),(t._dayOfYear>Tt(a)||0===t._dayOfYear)&&(f(t)._overflowDayOfYear=!0),n=Bt(a,0,t._dayOfYear),t._a[yt]=n.getUTCMonth(),t._a[vt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[bt]&&0===t._a[wt]&&0===t._a[Mt]&&0===t._a[xt]&&(t._nextDay=!0,t._a[bt]=0),t._d=(t._useUTC?Bt:Wt).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[bt]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(f(t).weekdayMismatch=!0)}}var ve=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,be=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,we=/Z|[+-]\d\d(?::?\d\d)?/,Me=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],xe=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Le=/^\/?Date\((\-?\d+)/i;function ke(t){var e,n,i,o,r,a,s=t._i,l=ve.exec(s)||be.exec(s);if(l){for(f(t).iso=!0,e=0,n=Me.length;e<n;e++)if(Me[e][1].exec(l[1])){o=Me[e][0],i=!1!==Me[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=xe.length;e<n;e++)if(xe[e][1].exec(l[3])){r=(l[2]||" ")+xe[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(l[4]){if(!we.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=o+(r||"")+(a||""),Se(t)}else t._isValid=!1}var Te=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Ee(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var Ce={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function De(t){var e,n,i,o,r,a,s,l=Te.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var u=(e=l[4],n=l[3],i=l[2],o=l[5],r=l[6],a=l[7],s=[Ee(e),It.indexOf(n),parseInt(i,10),parseInt(o,10),parseInt(r,10)],a&&s.push(parseInt(a,10)),s);if(!function(t,e,n){return!t||Jt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],u,t))return;t._a=u,t._tzm=function(t,e,n){if(t)return Ce[t];if(e)return 0;var i=parseInt(n,10),o=i%100;return(i-o)/100*60+o}(l[8],l[9],l[10]),t._d=Bt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),f(t).rfc2822=!0}else t._isValid=!1}function Se(t){if(t._f!==o.ISO_8601)if(t._f!==o.RFC_2822){t._a=[],f(t).empty=!0;var e,n,i,r,a,s=""+t._i,l=s.length,u=0;for(i=q(t._f,t._locale).match(N)||[],e=0;e<i.length;e++)r=i[e],(n=(s.match(ct(r,t))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&f(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),u+=n.length),W[r]?(n?f(t).empty=!1:f(t).unusedTokens.push(r),gt(r,n,t)):t._strict&&!n&&f(t).unusedTokens.push(r);f(t).charsLeftOver=l-u,s.length>0&&f(t).unusedInput.push(s),t._a[bt]<=12&&!0===f(t).bigHour&&t._a[bt]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[bt]=function(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0),e):e}(t._locale,t._a[bt],t._meridiem),ye(t),ge(t)}else De(t);else ke(t)}function Ye(t){var e=t._i,n=t._f;return t._locale=t._locale||me(t._l),null===e||void 0===n&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new b(ge(e)):(u(e)?t._d=e:r(n)?function(t){var e,n,i,o,r;if(0===t._f.length)return f(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)r=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Se(e),m(e)&&(r+=f(e).charsLeftOver,r+=10*f(e).unusedTokens.length,f(e).score=r,(null==i||r<i)&&(i=r,n=e));h(t,n||e)}(t):n?Se(t):function(t){var e=t._i;s(e)?t._d=new Date(o.now()):u(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=Le.exec(t._i);null===e?(ke(t),!1===t._isValid&&(delete t._isValid,De(t),!1===t._isValid&&(delete t._isValid,o.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):r(e)?(t._a=d(e.slice(0),function(t){return parseInt(t,10)}),ye(t)):a(e)?function(t){if(!t._d){var e=I(t._i);t._a=d([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),ye(t)}}(t):l(e)?t._d=new Date(e):o.createFromInputFallback(t)}(t),m(t)||(t._d=null),t))}function Re(t,e,n,i,o){var s,l={};return!0!==n&&!1!==n||(i=n,n=void 0),(a(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||r(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=n,l._i=t,l._f=e,l._strict=i,(s=new b(ge(Ye(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Oe(t,e,n,i){return Re(t,e,n,i,!1)}o.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),o.ISO_8601=function(){},o.RFC_2822=function(){};var Pe=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Oe.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Fe=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Oe.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:g()});function Ie(t,e){var n,i;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return Oe();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}var Ae=["year","quarter","month","week","day","hour","minute","second","millisecond"];function je(t){var e=I(t),n=e.year||0,i=e.quarter||0,o=e.month||0,r=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,d=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===Ct.call(Ae,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Ae.length;++i)if(t[Ae[i]]){if(n)return!1;parseFloat(t[Ae[i]])!==x(t[Ae[i]])&&(n=!0)}return!0}(e),this._milliseconds=+d+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=me(),this._bubble()}function He(t){return t instanceof je}function Ne(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ze(t,e){B(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+H(~~(t/60),2)+e+H(~~t%60,2)})}ze("Z",":"),ze("ZZ",""),dt("Z",st),dt("ZZ",st),ft(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=We(st,t)});var Ge=/([\+\-]|\d\d)/gi;function We(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Ge)||["-",0,0],o=60*i[1]+x(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Be(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(w(t)||u(t)?t.valueOf():Oe(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),o.updateOffset(n,!1),n):Oe(t).local()}function Ve(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function qe(){return!!this.isValid()&&this._isUTC&&0===this._offset}o.updateOffset=function(){};var Ue=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Xe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ke(t,e){var n,i,o,r,a,s,u=t,d=null;return He(t)?u={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(u={},e?u[e]=t:u.milliseconds=t):(d=Ue.exec(t))?(n="-"===d[1]?-1:1,u={y:0,d:x(d[vt])*n,h:x(d[bt])*n,m:x(d[wt])*n,s:x(d[Mt])*n,ms:x(Ne(1e3*d[xt]))*n}):(d=Xe.exec(t))?(n="-"===d[1]?-1:(d[1],1),u={y:Je(d[2],n),M:Je(d[3],n),w:Je(d[4],n),d:Je(d[5],n),h:Je(d[6],n),m:Je(d[7],n),s:Je(d[8],n)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(r=Oe(u.from),a=Oe(u.to),o=r.isValid()&&a.isValid()?(a=Be(a,r),r.isBefore(a)?s=Ze(r,a):((s=Ze(a,r)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(u={}).ms=o.milliseconds,u.M=o.months),i=new je(u),He(t)&&c(t,"_locale")&&(i._locale=t._locale),i}function Je(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ze(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function $e(t,e){return function(n,i){var o;return null===i||isNaN(+i)||(D(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),Qe(this,Ke(n="string"==typeof n?+n:n,i),t),this}}function Qe(t,e,n,i){var r=e._milliseconds,a=Ne(e._days),s=Ne(e._months);t.isValid()&&(i=null==i||i,s&&jt(t,Yt(t,"Month")+s*n),a&&Rt(t,"Date",Yt(t,"Date")+a*n),r&&t._d.setTime(t._d.valueOf()+r*n),i&&o.updateOffset(t,a||s))}Ke.fn=je.prototype,Ke.invalid=function(){return Ke(NaN)};var tn=$e(1,"add"),en=$e(-1,"subtract");function nn(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function on(t){var e;return void 0===t?this._locale._abbr:(null!=(e=me(t))&&(this._locale=e),this)}o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var rn=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function an(){return this._locale}function sn(t,e){B(0,[t,t.length],0,e)}function ln(t,e,n,i,o){var r;return null==t?Ut(this,i,o).year:(e>(r=Xt(t,i,o))&&(e=r),un.call(this,t,e,n,i,o))}function un(t,e,n,i,o){var r=qt(t,e,n,i,o),a=Bt(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),sn("gggg","weekYear"),sn("ggggg","weekYear"),sn("GGGG","isoWeekYear"),sn("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),dt("G",rt),dt("g",rt),dt("GG",$,X),dt("gg",$,X),dt("GGGG",nt,J),dt("gggg",nt,J),dt("GGGGG",it,Z),dt("ggggg",it,Z),mt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=x(t)}),mt(["gg","GG"],function(t,e,n,i){e[i]=o.parseTwoDigitYear(t)}),B("Q",0,"Qo","quarter"),P("quarter","Q"),j("quarter",7),dt("Q",U),ft("Q",function(t,e){e[yt]=3*(x(t)-1)}),B("D",["DD",2],"Do","date"),P("date","D"),j("date",9),dt("D",$),dt("DD",$,X),dt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),ft(["D","DD"],vt),ft("Do",function(t,e){e[vt]=x(t.match($)[0])});var dn=St("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),j("dayOfYear",4),dt("DDD",et),dt("DDDD",K),ft(["DDD","DDDD"],function(t,e,n){n._dayOfYear=x(t)}),B("m",["mm",2],0,"minute"),P("minute","m"),j("minute",14),dt("m",$),dt("mm",$,X),ft(["m","mm"],wt);var cn=St("Minutes",!1);B("s",["ss",2],0,"second"),P("second","s"),j("second",15),dt("s",$),dt("ss",$,X),ft(["s","ss"],Mt);var hn,pn=St("Seconds",!1);for(B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),j("millisecond",16),dt("S",et,U),dt("SS",et,X),dt("SSS",et,K),hn="SSSS";hn.length<=9;hn+="S")dt(hn,ot);function fn(t,e){e[xt]=x(1e3*("0."+t))}for(hn="S";hn.length<=9;hn+="S")ft(hn,fn);var mn=St("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var gn=b.prototype;function _n(t){return t}gn.add=tn,gn.calendar=function(t,e){var n=t||Oe(),i=Be(n,this).startOf("day"),r=o.calendarFormat(this,i)||"sameElse",a=e&&(S(e[r])?e[r].call(this,n):e[r]);return this.format(a||this.localeData().calendar(r,this,Oe(n)))},gn.clone=function(){return new b(this)},gn.diff=function(t,e,n){var i,o,r;if(!this.isValid())return NaN;if(!(i=Be(t,this)).isValid())return NaN;switch(o=6e4*(i.utcOffset()-this.utcOffset()),e=F(e)){case"year":r=nn(this,i)/12;break;case"month":r=nn(this,i);break;case"quarter":r=nn(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-o)/864e5;break;case"week":r=(this-i-o)/6048e5;break;default:r=this-i}return n?r:M(r)},gn.endOf=function(t){return void 0===(t=F(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},gn.format=function(t){t||(t=this.isUtc()?o.defaultFormatUtc:o.defaultFormat);var e=V(this,t);return this.localeData().postformat(e)},gn.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Oe(t).isValid())?Ke({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},gn.fromNow=function(t){return this.from(Oe(),t)},gn.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Oe(t).isValid())?Ke({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},gn.toNow=function(t){return this.to(Oe(),t)},gn.get=function(t){return S(this[t=F(t)])?this[t]():this},gn.invalidAt=function(){return f(this).overflow},gn.isAfter=function(t,e){var n=w(t)?t:Oe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(s(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},gn.isBefore=function(t,e){var n=w(t)?t:Oe(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=F(s(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},gn.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},gn.isSame=function(t,e){var n,i=w(t)?t:Oe(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=F(e||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},gn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},gn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},gn.isValid=function(){return m(this)},gn.lang=rn,gn.locale=on,gn.localeData=an,gn.max=Fe,gn.min=Pe,gn.parsingFlags=function(){return h({},f(this))},gn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:A[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=I(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(S(this[t=F(t)]))return this[t](e);return this},gn.startOf=function(t){switch(t=F(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},gn.subtract=en,gn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},gn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},gn.toDate=function(){return new Date(this.valueOf())},gn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?V(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(n,"Z")):V(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},gn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+o)},gn.toJSON=function(){return this.isValid()?this.toISOString():null},gn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},gn.unix=function(){return Math.floor(this.valueOf()/1e3)},gn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},gn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},gn.year=Dt,gn.isLeapYear=function(){return Et(this.year())},gn.weekYear=function(t){return ln.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},gn.isoWeekYear=function(t){return ln.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},gn.quarter=gn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},gn.month=Ht,gn.daysInMonth=function(){return Ot(this.year(),this.month())},gn.week=gn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},gn.isoWeek=gn.isoWeeks=function(t){var e=Ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},gn.weeksInYear=function(){var t=this.localeData()._week;return Xt(this.year(),t.dow,t.doy)},gn.isoWeeksInYear=function(){return Xt(this.year(),1,4)},gn.date=dn,gn.day=gn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},gn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},gn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},gn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},gn.hour=gn.hours=se,gn.minute=gn.minutes=cn,gn.second=gn.seconds=pn,gn.millisecond=gn.milliseconds=mn,gn.utcOffset=function(t,e,n){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=We(st,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(i=Ve(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!e||this._changeInProgress?Qe(this,Ke(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,o.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Ve(this)},gn.utc=function(t){return this.utcOffset(0,t)},gn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ve(this),"m")),this},gn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=We(at,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},gn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Oe(t).utcOffset():0,(this.utcOffset()-t)%60==0)},gn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},gn.isLocal=function(){return!!this.isValid()&&!this._isUTC},gn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},gn.isUtc=qe,gn.isUTC=qe,gn.zoneAbbr=function(){return this._isUTC?"UTC":""},gn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},gn.dates=T("dates accessor is deprecated. Use date instead.",dn),gn.months=T("months accessor is deprecated. Use month instead",Ht),gn.years=T("years accessor is deprecated. Use year instead",Dt),gn.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),gn.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),(t=Ye(t))._a){var e=t._isUTC?p(t._a):Oe(t._a);this._isDSTShifted=this.isValid()&&L(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var yn=R.prototype;function vn(t,e,n,i){var o=me(),r=p().set(i,e);return o[n](r,t)}function bn(t,e,n){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return vn(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=vn(t,i,n,"month");return o}function wn(t,e,n,i){"boolean"==typeof t?(l(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,l(e)&&(n=e,e=void 0),e=e||"");var o,r=me(),a=t?r._week.dow:0;if(null!=n)return vn(e,(n+a)%7,i,"day");var s=[];for(o=0;o<7;o++)s[o]=vn(e,(o+a)%7,i,"day");return s}yn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return S(i)?i.call(e,n):i},yn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},yn.invalidDate=function(){return this._invalidDate},yn.ordinal=function(t){return this._ordinal.replace("%d",t)},yn.preparse=_n,yn.postformat=_n,yn.relativeTime=function(t,e,n,i){var o=this._relativeTime[n];return S(o)?o(t,e,n,i):o.replace(/%d/i,t)},yn.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return S(n)?n(e):n.replace(/%s/i,e)},yn.set=function(t){var e,n;for(n in t)S(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},yn.months=function(t,e){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Pt).test(e)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months.standalone},yn.monthsShort=function(t,e){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Pt.test(e)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},yn.monthsParse=function(t,e,n){var i,o,r;if(this._monthsParseExact)return At.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=p([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},yn.monthsRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Gt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=zt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},yn.monthsShortRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Gt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Nt),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},yn.week=function(t){return Ut(t,this._week.dow,this._week.doy).week},yn.firstDayOfYear=function(){return this._week.doy},yn.firstDayOfWeek=function(){return this._week.dow},yn.weekdays=function(t,e){return t?r(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone},yn.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},yn.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},yn.weekdaysParse=function(t,e,n){var i,o,r;if(this._weekdaysParseExact)return $t.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=p([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},yn.weekdaysRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||ne.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Qt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},yn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||ne.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=te),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},yn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||ne.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ee),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},yn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},yn.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},pe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===x(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),o.lang=T("moment.lang is deprecated. Use moment.locale instead.",pe),o.langData=T("moment.langData is deprecated. Use moment.localeData instead.",me);var Mn=Math.abs;function xn(t,e,n,i){var o=Ke(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function Ln(t){return t<0?Math.floor(t):Math.ceil(t)}function kn(t){return 4800*t/146097}function Tn(t){return 146097*t/4800}function En(t){return function(){return this.as(t)}}var Cn=En("ms"),Dn=En("s"),Sn=En("m"),Yn=En("h"),Rn=En("d"),On=En("w"),Pn=En("M"),Fn=En("y");function In(t){return function(){return this.isValid()?this._data[t]:NaN}}var An=In("milliseconds"),jn=In("seconds"),Hn=In("minutes"),Nn=In("hours"),zn=In("days"),Gn=In("months"),Wn=In("years"),Bn=Math.round,Vn={ss:44,s:45,m:45,h:22,d:26,M:11};function qn(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}var Un=Math.abs;function Xn(t){return(t>0)-(t<0)||+t}function Kn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Un(this._milliseconds)/1e3,i=Un(this._days),o=Un(this._months);t=M(n/60),e=M(t/60),n%=60,t%=60;var r=M(o/12),a=o%=12,s=i,l=e,u=t,d=n?n.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var h=c<0?"-":"",p=Xn(this._months)!==Xn(c)?"-":"",f=Xn(this._days)!==Xn(c)?"-":"",m=Xn(this._milliseconds)!==Xn(c)?"-":"";return h+"P"+(r?p+r+"Y":"")+(a?p+a+"M":"")+(s?f+s+"D":"")+(l||u||d?"T":"")+(l?m+l+"H":"")+(u?m+u+"M":"")+(d?m+d+"S":"")}var Jn=je.prototype;return Jn.isValid=function(){return this._isValid},Jn.abs=function(){var t=this._data;return this._milliseconds=Mn(this._milliseconds),this._days=Mn(this._days),this._months=Mn(this._months),t.milliseconds=Mn(t.milliseconds),t.seconds=Mn(t.seconds),t.minutes=Mn(t.minutes),t.hours=Mn(t.hours),t.months=Mn(t.months),t.years=Mn(t.years),this},Jn.add=function(t,e){return xn(this,t,e,1)},Jn.subtract=function(t,e){return xn(this,t,e,-1)},Jn.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=F(t))||"year"===t)return e=this._days+i/864e5,n=this._months+kn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(Tn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Jn.asMilliseconds=Cn,Jn.asSeconds=Dn,Jn.asMinutes=Sn,Jn.asHours=Yn,Jn.asDays=Rn,Jn.asWeeks=On,Jn.asMonths=Pn,Jn.asYears=Fn,Jn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},Jn._bubble=function(){var t,e,n,i,o,r=this._milliseconds,a=this._days,s=this._months,l=this._data;return r>=0&&a>=0&&s>=0||r<=0&&a<=0&&s<=0||(r+=864e5*Ln(Tn(s)+a),a=0,s=0),l.milliseconds=r%1e3,t=M(r/1e3),l.seconds=t%60,e=M(t/60),l.minutes=e%60,n=M(e/60),l.hours=n%24,a+=M(n/24),o=M(kn(a)),s+=o,a-=Ln(Tn(o)),i=M(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Jn.clone=function(){return Ke(this)},Jn.get=function(t){return t=F(t),this.isValid()?this[t+"s"]():NaN},Jn.milliseconds=An,Jn.seconds=jn,Jn.minutes=Hn,Jn.hours=Nn,Jn.days=zn,Jn.weeks=function(){return M(this.days()/7)},Jn.months=Gn,Jn.years=Wn,Jn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=function(t,e,n){var i=Ke(t).abs(),o=Bn(i.as("s")),r=Bn(i.as("m")),a=Bn(i.as("h")),s=Bn(i.as("d")),l=Bn(i.as("M")),u=Bn(i.as("y")),d=o<=Vn.ss&&["s",o]||o<Vn.s&&["ss",o]||r<=1&&["m"]||r<Vn.m&&["mm",r]||a<=1&&["h"]||a<Vn.h&&["hh",a]||s<=1&&["d"]||s<Vn.d&&["dd",s]||l<=1&&["M"]||l<Vn.M&&["MM",l]||u<=1&&["y"]||["yy",u];return d[2]=e,d[3]=+t>0,d[4]=n,qn.apply(null,d)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},Jn.toISOString=Kn,Jn.toString=Kn,Jn.toJSON=Kn,Jn.locale=on,Jn.localeData=an,Jn.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Kn),Jn.lang=rn,B("X",0,0,"unix"),B("x",0,0,"valueOf"),dt("x",rt),dt("X",/[+-]?\d+(\.\d{1,3})?/),ft("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),ft("x",function(t,e,n){n._d=new Date(x(t))}),o.version="2.22.2",e=Oe,o.fn=gn,o.min=function(){return Ie("isBefore",[].slice.call(arguments,0))},o.max=function(){return Ie("isAfter",[].slice.call(arguments,0))},o.now=function(){return Date.now?Date.now():+new Date},o.utc=p,o.unix=function(t){return Oe(1e3*t)},o.months=function(t,e){return bn(t,e,"months")},o.isDate=u,o.locale=pe,o.invalid=g,o.duration=Ke,o.isMoment=w,o.weekdays=function(t,e,n){return wn(t,e,n,"weekdays")},o.parseZone=function(){return Oe.apply(null,arguments).parseZone()},o.localeData=me,o.isDuration=He,o.monthsShort=function(t,e){return bn(t,e,"monthsShort")},o.weekdaysMin=function(t,e,n){return wn(t,e,n,"weekdaysMin")},o.defineLocale=fe,o.updateLocale=function(t,e){if(null!=e){var n,i,o=le;null!=(i=he(t))&&(o=i._config),e=Y(o,e),(n=new R(e)).parentLocale=ue[t],ue[t]=n,pe(t)}else null!=ue[t]&&(null!=ue[t].parentLocale?ue[t]=ue[t].parentLocale:null!=ue[t]&&delete ue[t]);return ue[t]},o.locales=function(){return E(ue)},o.weekdaysShort=function(t,e,n){return wn(t,e,n,"weekdaysShort")},o.normalizeUnits=F,o.relativeTimeRounding=function(t){return void 0===t?Bn:"function"==typeof t&&(Bn=t,!0)},o.relativeTimeThreshold=function(t,e){return void 0!==Vn[t]&&(void 0===e?Vn[t]:(Vn[t]=e,"s"===t&&(Vn.ss=e-1),!0))},o.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},o.prototype=gn,o.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},o}()}).call(this,n(194)(t))},function(t,e,n){"use strict";t.exports=n(12),t.exports.easing=n(172),t.exports.canvas=n(173),t.exports.options=n(174)},function(t,e,n){"use strict";n.r(e),n.d(e,"earthRadius",function(){return i}),n.d(e,"factors",function(){return o}),n.d(e,"unitsFactors",function(){return r}),n.d(e,"areaFactors",function(){return a}),n.d(e,"feature",function(){return s}),n.d(e,"geometry",function(){return l}),n.d(e,"point",function(){return u}),n.d(e,"points",function(){return d}),n.d(e,"polygon",function(){return c}),n.d(e,"polygons",function(){return h}),n.d(e,"lineString",function(){return p}),n.d(e,"lineStrings",function(){return f}),n.d(e,"featureCollection",function(){return m}),n.d(e,"multiLineString",function(){return g}),n.d(e,"multiPoint",function(){return _}),n.d(e,"multiPolygon",function(){return y}),n.d(e,"geometryCollection",function(){return v}),n.d(e,"round",function(){return b}),n.d(e,"radiansToLength",function(){return w}),n.d(e,"lengthToRadians",function(){return M}),n.d(e,"lengthToDegrees",function(){return x}),n.d(e,"bearingToAzimuth",function(){return L}),n.d(e,"radiansToDegrees",function(){return k}),n.d(e,"degreesToRadians",function(){return T}),n.d(e,"convertLength",function(){return E}),n.d(e,"convertArea",function(){return C}),n.d(e,"isNumber",function(){return D}),n.d(e,"isObject",function(){return S}),n.d(e,"validateBBox",function(){return Y}),n.d(e,"validateId",function(){return R}),n.d(e,"radians2degrees",function(){return O}),n.d(e,"degrees2radians",function(){return P}),n.d(e,"distanceToDegrees",function(){return F}),n.d(e,"distanceToRadians",function(){return I}),n.d(e,"radiansToDistance",function(){return A}),n.d(e,"bearingToAngle",function(){return j}),n.d(e,"convertDistance",function(){return H});var i=6371008.8,o={meters:i,metres:i,millimeters:1e3*i,millimetres:1e3*i,centimeters:100*i,centimetres:100*i,kilometers:i/1e3,kilometres:i/1e3,miles:i/1609.344,nauticalmiles:i/1852,inches:39.37*i,yards:i/1.0936,feet:3.28084*i,radians:1,degrees:i/111325},r={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/i,degrees:1/111325},a={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006};function s(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var i=n.bbox,o=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");i&&Y(i),o&&R(o);var r={type:"Feature"};return o&&(r.id=o),i&&(r.bbox=i),r.properties=e||{},r.geometry=t,r}function l(t,e,n){if(!S(n=n||{}))throw new Error("options is invalid");var i,o=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(o&&Y(o),t){case"Point":i=u(e).geometry;break;case"LineString":i=p(e).geometry;break;case"Polygon":i=c(e).geometry;break;case"MultiPoint":i=_(e).geometry;break;case"MultiLineString":i=g(e).geometry;break;case"MultiPolygon":i=y(e).geometry;break;default:throw new Error(t+" is invalid")}return o&&(i.bbox=o),i}function u(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!D(t[0])||!D(t[1]))throw new Error("coordinates must contain numbers");return s({type:"Point",coordinates:t},e,n)}function d(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return m(t.map(function(t){return u(t,e)}),n)}function c(t,e,n){if(!t)throw new Error("coordinates is required");for(var i=0;i<t.length;i++){var o=t[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var r=0;r<o[o.length-1].length;r++){if(0===i&&0===r&&!D(o[0][0])||!D(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][r]!==o[0][r])throw new Error("First and last Position are not equivalent.")}}return s({type:"Polygon",coordinates:t},e,n)}function h(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return m(t.map(function(t){return c(t,e)}),n)}function p(t,e,n){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!D(t[0][1])||!D(t[0][1]))throw new Error("coordinates must contain numbers");return s({type:"LineString",coordinates:t},e,n)}function f(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return m(t.map(function(t){return p(t,e)}),n)}function m(t,e){if(!S(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&Y(n),i&&R(i);var o={type:"FeatureCollection"};return i&&(o.id=i),n&&(o.bbox=n),o.features=t,o}function g(t,e,n){if(!t)throw new Error("coordinates is required");return s({type:"MultiLineString",coordinates:t},e,n)}function _(t,e,n){if(!t)throw new Error("coordinates is required");return s({type:"MultiPoint",coordinates:t},e,n)}function y(t,e,n){if(!t)throw new Error("coordinates is required");return s({type:"MultiPolygon",coordinates:t},e,n)}function v(t,e,n){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return s({type:"GeometryCollection",geometries:t},e,n)}function b(t,e){if(null==t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function w(t,e){if(null==t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=o[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function M(t,e){if(null==t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=o[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function x(t,e){return k(M(t,e))}function L(t){if(null==t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function k(t){if(null==t)throw new Error("radians is required");return 180*(t%(2*Math.PI))/Math.PI}function T(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180}function E(t,e,n){if(null==t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return w(M(t,e),n||"kilometers")}function C(t,e,n){if(null==t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var i=a[e||"meters"];if(!i)throw new Error("invalid original units");var o=a[n||"kilometers"];if(!o)throw new Error("invalid final units");return t/i*o}function D(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function S(t){return!!t&&t.constructor===Object}function Y(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!D(t))throw new Error("bbox must only contain numbers")})}function R(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function O(){throw new Error("method has been renamed to `radiansToDegrees`")}function P(){throw new Error("method has been renamed to `degreesToRadians`")}function F(){throw new Error("method has been renamed to `lengthToDegrees`")}function I(){throw new Error("method has been renamed to `lengthToRadians`")}function A(){throw new Error("method has been renamed to `radiansToLength`")}function j(){throw new Error("method has been renamed to `bearingToAzimuth`")}function H(){throw new Error("method has been renamed to `convertLength`")}},function(t,e,n){"use strict";var i=n(1);t.exports={_set:function(t,e){return i.merge(this[t]||(this[t]={}),e)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"coordEach",function(){return o}),n.d(e,"coordReduce",function(){return r}),n.d(e,"propEach",function(){return a}),n.d(e,"propReduce",function(){return s}),n.d(e,"featureEach",function(){return l}),n.d(e,"featureReduce",function(){return u}),n.d(e,"coordAll",function(){return d}),n.d(e,"geomEach",function(){return c}),n.d(e,"geomReduce",function(){return h}),n.d(e,"flattenEach",function(){return p}),n.d(e,"flattenReduce",function(){return f}),n.d(e,"segmentEach",function(){return m}),n.d(e,"segmentReduce",function(){return g}),n.d(e,"lineEach",function(){return _}),n.d(e,"lineReduce",function(){return y});var i=n(2);function o(t,e,n){if(null!==t)for(var i,r,a,s,l,u,d,c,h=0,p=0,f=t.type,m="FeatureCollection"===f,g="Feature"===f,_=m?t.features.length:1,y=0;y<_;y++){l=(c=!!(d=m?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===d.type)?d.geometries.length:1;for(var v=0;v<l;v++){var b=0,w=0;if(null!==(s=c?d.geometries[v]:d)){u=s.coordinates;var M=s.type;switch(h=!n||"Polygon"!==M&&"MultiPolygon"!==M?0:1,M){case null:break;case"Point":e(u,p,y,b,w),p++,b++;break;case"LineString":case"MultiPoint":for(i=0;i<u.length;i++)e(u[i],p,y,b,w),p++,"MultiPoint"===M&&b++;"LineString"===M&&b++;break;case"Polygon":case"MultiLineString":for(i=0;i<u.length;i++){for(r=0;r<u[i].length-h;r++)e(u[i][r],p,y,b,w),p++;"MultiLineString"===M&&b++,"Polygon"===M&&w++}"Polygon"===M&&b++;break;case"MultiPolygon":for(i=0;i<u.length;i++){for("MultiPolygon"===M&&(w=0),r=0;r<u[i].length;r++){for(a=0;a<u[i][r].length-h;a++)e(u[i][r][a],p,y,b,w),p++;w++}b++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)o(s.geometries[i],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function r(t,e,n,i){var r=n;return o(t,function(t,i,o,a,s){r=0===i&&void 0===n?t:e(r,t,i,o,a,s)},i),r}function a(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function s(t,e,n){var i=n;return a(t,function(t,o){i=0===o&&void 0===n?t:e(i,t,o)}),i}function l(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function u(t,e,n){var i=n;return l(t,function(t,o){i=0===o&&void 0===n?t:e(i,t,o)}),i}function d(t){var e=[];return o(t,function(t){e.push(t)}),e}function c(t,e){var n,i,o,r,a,s,l,u,d,c,h=0,p="FeatureCollection"===t.type,f="Feature"===t.type,m=p?t.features.length:1;for(n=0;n<m;n++){for(s=p?t.features[n].geometry:f?t.geometry:t,u=p?t.features[n].properties:f?t.properties:{},d=p?t.features[n].bbox:f?t.bbox:void 0,c=p?t.features[n].id:f?t.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(r=l?s.geometries[o]:s))switch(r.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(r,h,u,d,c);break;case"GeometryCollection":for(i=0;i<r.geometries.length;i++)e(r.geometries[i],h,u,d,c);break;default:throw new Error("Unknown Geometry Type")}else e(null,h,u,d,c);h++}}function h(t,e,n){var i=n;return c(t,function(t,o,r,a,s){i=0===o&&void 0===n?t:e(i,t,o,r,a,s)}),i}function p(t,e){c(t,function(t,n,o,r,a){var s,l=null===t?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return void e(Object(i.feature)(t,o,{bbox:r,id:a}),n,0)}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}t.coordinates.forEach(function(t,r){var a={type:s,coordinates:t};e(Object(i.feature)(a,o),n,r)})})}function f(t,e,n){var i=n;return p(t,function(t,o,r){i=0===o&&0===r&&void 0===n?t:e(i,t,o,r)}),i}function m(t,e){p(t,function(t,n,o){var a=0;if(t.geometry){var s=t.geometry.type;"Point"!==s&&"MultiPoint"!==s&&r(t,function(r,s,l,u,d,c){var h=Object(i.lineString)([r,s],t.properties);return e(h,n,o,c,a),a++,s})}})}function g(t,e,n){var i=n,o=!1;return m(t,function(t,r,a,s,l){i=!1===o&&void 0===n?t:e(i,t,r,a,s,l),o=!0}),i}function _(t,e){if(!t)throw new Error("geojson is required");p(t,function(t,n,o){if(null!==t.geometry){var r=t.geometry.type,a=t.geometry.coordinates;switch(r){case"LineString":e(t,n,o,0,0);break;case"Polygon":for(var s=0;s<a.length;s++)e(Object(i.lineString)(a[s],t.properties),n,o,s)}}})}function y(t,e,n){var i=n;return _(t,function(t,o,r,a){i=0===o&&void 0===n?t:e(i,t,o,r,a)}),i}},function(t,e,n){"use strict";var i=n(16),o=n(1);var r=function(t){o.extend(this,t),this.initialize.apply(this,arguments)};o.extend(r.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=o.clone(t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,o=e._start,r=e._view;return n&&1!==t?(r||(r=e._view={}),o||(o=e._start={}),function(t,e,n,o){var r,a,s,l,u,d,c,h,p,f=Object.keys(n);for(r=0,a=f.length;r<a;++r)if(d=n[s=f[r]],e.hasOwnProperty(s)||(e[s]=d),(l=e[s])!==d&&"_"!==s[0]){if(t.hasOwnProperty(s)||(t[s]=l),(c=typeof d)===typeof(u=t[s]))if("string"===c){if((h=i(u)).valid&&(p=i(d)).valid){e[s]=p.mix(h,o).rgbString();continue}}else if("number"===c&&isFinite(u)&&isFinite(d)){e[s]=u+(d-u)*o;continue}e[s]=d}}(o,r,n,t),e):(e._view=n,e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return o.isNumber(this._model.x)&&o.isNumber(this._model.y)}}),r.extend=o.inherits,t.exports=r},function(t,e,n){"use strict";var i=n(3),o=n(1),r=n(9);t.exports={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=o.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?o.merge({},[i.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=o.extend(this.defaults[t],e))},addScalesToLayout:function(t){o.each(t.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,r.addBox(t,e)})}}},function(t,e,n){"use strict";t.exports={},t.exports.Arc=n(180),t.exports.Line=n(181),t.exports.Point=n(182),t.exports.Rectangle=n(183)},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var i=n(2);function o(t){if(!t)throw new Error("obj is required");var e=r(t);if(e.length>1&&Object(i.isNumber)(e[0])&&Object(i.isNumber)(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function r(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return function t(e){if(e.length>1&&Object(i.isNumber)(e[0])&&Object(i.isNumber)(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")}(e),e;throw new Error("No valid coordinates")}},function(t,e,n){"use strict";var i=n(1);function o(t,e){return i.where(t,function(t){return t.position===e})}function r(t,e){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,n){var i=e?n:t,o=e?t:n;return i.weight===o.weight?i._tmpIndex_-o._tmpIndex_:i.weight-o.weight}),t.forEach(function(t){delete t._tmpIndex_})}t.exports={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,o=["fullWidth","position","weight"],r=o.length,a=0;a<r;++a)i=o[a],n.hasOwnProperty(i)&&(e[i]=n[i])},update:function(t,e,n){if(t){var a=t.options.layout||{},s=i.options.toPadding(a.padding),l=s.left,u=s.right,d=s.top,c=s.bottom,h=o(t.boxes,"left"),p=o(t.boxes,"right"),f=o(t.boxes,"top"),m=o(t.boxes,"bottom"),g=o(t.boxes,"chartArea");r(h,!0),r(p,!1),r(f,!0),r(m,!1);var _=e-l-u,y=n-d-c,v=y/2,b=(e-_/2)/(h.length+p.length),w=(n-v)/(f.length+m.length),M=_,x=y,L=[];i.each(h.concat(p,f,m),function(t){var e,n=t.isHorizontal();n?(e=t.update(t.fullWidth?_:M,w),x-=e.height):(e=t.update(b,x),M-=e.width),L.push({horizontal:n,minSize:e,box:t})});var k=0,T=0,E=0,C=0;i.each(f.concat(m),function(t){if(t.getPadding){var e=t.getPadding();k=Math.max(k,e.left),T=Math.max(T,e.right)}}),i.each(h.concat(p),function(t){if(t.getPadding){var e=t.getPadding();E=Math.max(E,e.top),C=Math.max(C,e.bottom)}});var D=l,S=u,Y=d,R=c;i.each(h.concat(p),H),i.each(h,function(t){D+=t.width}),i.each(p,function(t){S+=t.width}),i.each(f.concat(m),H),i.each(f,function(t){Y+=t.height}),i.each(m,function(t){R+=t.height}),i.each(h.concat(p),function(t){var e=i.findNextWhere(L,function(e){return e.box===t}),n={left:0,right:0,top:Y,bottom:R};e&&t.update(e.minSize.width,x,n)}),D=l,S=u,Y=d,R=c,i.each(h,function(t){D+=t.width}),i.each(p,function(t){S+=t.width}),i.each(f,function(t){Y+=t.height}),i.each(m,function(t){R+=t.height});var O=Math.max(k-D,0);D+=O,S+=Math.max(T-S,0);var P=Math.max(E-Y,0);Y+=P,R+=Math.max(C-R,0);var F=n-Y-R,I=e-D-S;I===M&&F===x||(i.each(h,function(t){t.height=F}),i.each(p,function(t){t.height=F}),i.each(f,function(t){t.fullWidth||(t.width=I)}),i.each(m,function(t){t.fullWidth||(t.width=I)}),x=F,M=I);var A=l+O,j=d+P;i.each(h.concat(f),N),A+=M,j+=x,i.each(p,N),i.each(m,N),t.chartArea={left:D,top:Y,right:D+M,bottom:Y+x},i.each(g,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(M,x)})}function H(t){var e=i.findNextWhere(L,function(e){return e.box===t});if(e)if(t.isHorizontal()){var n={left:Math.max(D,k),right:Math.max(S,T),top:0,bottom:0};t.update(t.fullWidth?_:M,y/2,n)}else t.update(e.minSize.width,x)}function N(t){t.isHorizontal()?(t.left=t.fullWidth?l:D,t.right=t.fullWidth?e-u:D+M,t.top=j,t.bottom=j+t.height,j=t.bottom):(t.left=A,t.right=A+t.width,t.top=Y,t.bottom=Y+x,A=t.right)}}}},function(t,e,n){"use strict";var i=n(3),o=n(5),r=n(1),a=n(11);function s(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(t[e].label);return i}function l(t,e,n){var i=t.getPixelForTick(e);return n&&(i-=0===e?(t.getPixelForTick(1)-i)/2:(i-t.getPixelForTick(e-1))/2),i}function u(t,e,n){return r.isArray(e)?r.longestText(t,n,e):t.measureText(e).width}function d(t){var e=r.valueOrDefault,n=i.global,o=e(t.fontSize,n.defaultFontSize),a=e(t.fontStyle,n.defaultFontStyle),s=e(t.fontFamily,n.defaultFontFamily);return{size:o,style:a,family:s,font:r.fontString(o,a,s)}}function c(t){return r.options.toLineHeight(r.valueOrDefault(t.lineHeight,1.2),r.valueOrDefault(t.fontSize,i.global.defaultFontSize))}i._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:a.formatters.values,minor:{},major:{}}}),t.exports=o.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;for(var e in!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1}),t)"major"!==e&&"minor"!==e&&(void 0===t.minor[e]&&(t.minor[e]=t[e]),void 0===t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){r.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i,o,a,s,l,u,d=this;for(d.beforeUpdate(),d.maxWidth=t,d.maxHeight=e,d.margins=r.extend({left:0,right:0,top:0,bottom:0},n),d.longestTextCache=d.longestTextCache||{},d.beforeSetDimensions(),d.setDimensions(),d.afterSetDimensions(),d.beforeDataLimits(),d.determineDataLimits(),d.afterDataLimits(),d.beforeBuildTicks(),l=d.buildTicks()||[],d.afterBuildTicks(),d.beforeTickToLabelConversion(),a=d.convertTicksToLabels(l)||d.ticks,d.afterTickToLabelConversion(),d.ticks=a,i=0,o=a.length;i<o;++i)s=a[i],(u=l[i])?u.label=s:l.push(u={label:s,major:!1});return d._ticks=l,d.beforeCalculateTickRotation(),d.calculateTickRotation(),d.afterCalculateTickRotation(),d.beforeFit(),d.fit(),d.afterFit(),d.afterUpdate(),d.minSize},afterUpdate:function(){r.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){r.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){r.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){r.callback(this.options.beforeDataLimits,[this])},determineDataLimits:r.noop,afterDataLimits:function(){r.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){r.callback(this.options.beforeBuildTicks,[this])},buildTicks:r.noop,afterBuildTicks:function(){r.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){r.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){r.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){r.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,n=t.options.ticks,i=s(t._ticks),o=d(n);e.font=o.font;var a=n.minRotation||0;if(i.length&&t.options.display&&t.isHorizontal())for(var l,u=r.longestText(e,o.font,i,t.longestTextCache),c=u,h=t.getPixelForTick(1)-t.getPixelForTick(0)-6;c>h&&a<n.maxRotation;){var p=r.toRadians(a);if(l=Math.cos(p),Math.sin(p)*u>t.maxHeight){a--;break}a++,c=l*u}t.labelRotation=a},afterCalculateTickRotation:function(){r.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){r.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=s(t._ticks),i=t.options,o=i.ticks,a=i.scaleLabel,l=i.gridLines,h=i.display,p=t.isHorizontal(),f=d(o),m=i.gridLines.tickMarkLength;if(e.width=p?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:h&&l.drawTicks?m:0,e.height=p?h&&l.drawTicks?m:0:t.maxHeight,a.display&&h){var g=c(a)+r.options.toPadding(a.padding).height;p?e.height+=g:e.width+=g}if(o.display&&h){var _=r.longestText(t.ctx,f.font,n,t.longestTextCache),y=r.numberOfLabelLines(n),v=.5*f.size,b=t.options.ticks.padding;if(p){t.longestLabelWidth=_;var w=r.toRadians(t.labelRotation),M=Math.cos(w),x=Math.sin(w)*_+f.size*y+v*(y-1)+v;e.height=Math.min(t.maxHeight,e.height+x+b),t.ctx.font=f.font;var L=u(t.ctx,n[0],f.font),k=u(t.ctx,n[n.length-1],f.font);0!==t.labelRotation?(t.paddingLeft="bottom"===i.position?M*L+3:M*v+3,t.paddingRight="bottom"===i.position?M*v+3:M*k+3):(t.paddingLeft=L/2+3,t.paddingRight=k/2+3)}else o.mirror?_=0:_+=b+v,e.width=Math.min(t.maxWidth,e.width+_),t.paddingTop=f.size/2,t.paddingBottom=f.size/2}t.handleMargins(),t.width=e.width,t.height=e.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){r.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(r.isNullOrUndef(t))return NaN;if("number"==typeof t&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:r.noop,getPixelForValue:r.noop,getValueForPixel:r.noop,getPixelForTick:function(t){var e=this,n=e.options.offset;if(e.isHorizontal()){var i=(e.width-(e.paddingLeft+e.paddingRight))/Math.max(e._ticks.length-(n?0:1),1),o=i*t+e.paddingLeft;n&&(o+=i/2);var r=e.left+Math.round(o);return r+=e.isFullWidth()?e.margins.left:0}var a=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(a/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var n=(e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft,i=e.left+Math.round(n);return i+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0},_autoSkip:function(t){var e,n,i,o,a=this,s=a.isHorizontal(),l=a.options.ticks.minor,u=t.length,d=r.toRadians(a.labelRotation),c=Math.cos(d),h=a.longestLabelWidth*c,p=[];for(l.maxTicksLimit&&(o=l.maxTicksLimit),s&&(e=!1,(h+l.autoSkipPadding)*u>a.width-(a.paddingLeft+a.paddingRight)&&(e=1+Math.floor((h+l.autoSkipPadding)*u/(a.width-(a.paddingLeft+a.paddingRight)))),o&&u>o&&(e=Math.max(e,Math.floor(u/o)))),n=0;n<u;n++)i=t[n],(e>1&&n%e>0||n%e==0&&n+e>=u)&&n!==u-1&&delete i.label,p.push(i);return p},draw:function(t){var e=this,n=e.options;if(n.display){var o=e.ctx,a=i.global,s=n.ticks.minor,u=n.ticks.major||s,h=n.gridLines,p=n.scaleLabel,f=0!==e.labelRotation,m=e.isHorizontal(),g=s.autoSkip?e._autoSkip(e.getTicks()):e.getTicks(),_=r.valueOrDefault(s.fontColor,a.defaultFontColor),y=d(s),v=r.valueOrDefault(u.fontColor,a.defaultFontColor),b=d(u),w=h.drawTicks?h.tickMarkLength:0,M=r.valueOrDefault(p.fontColor,a.defaultFontColor),x=d(p),L=r.options.toPadding(p.padding),k=r.toRadians(e.labelRotation),T=[],E=e.options.gridLines.lineWidth,C="right"===n.position?e.left:e.right-E-w,D="right"===n.position?e.left+w:e.right,S="bottom"===n.position?e.top+E:e.bottom-w-E,Y="bottom"===n.position?e.top+E+w:e.bottom+E;if(r.each(g,function(i,o){if(!r.isNullOrUndef(i.label)){var u,d,c,p,_,y,v,b,M,x,L,R,O,P,F=i.label;o===e.zeroLineIndex&&n.offset===h.offsetGridLines?(u=h.zeroLineWidth,d=h.zeroLineColor,c=h.zeroLineBorderDash,p=h.zeroLineBorderDashOffset):(u=r.valueAtIndexOrDefault(h.lineWidth,o),d=r.valueAtIndexOrDefault(h.color,o),c=r.valueOrDefault(h.borderDash,a.borderDash),p=r.valueOrDefault(h.borderDashOffset,a.borderDashOffset));var I="middle",A="middle",j=s.padding;if(m){var H=w+j;"bottom"===n.position?(A=f?"middle":"top",I=f?"right":"center",P=e.top+H):(A=f?"middle":"bottom",I=f?"left":"center",P=e.bottom-H);var N=l(e,o,h.offsetGridLines&&g.length>1);N<e.left&&(d="rgba(0,0,0,0)"),N+=r.aliasPixel(u),O=e.getPixelForTick(o)+s.labelOffset,_=v=M=L=N,y=S,b=Y,x=t.top,R=t.bottom+E}else{var z,G="left"===n.position;s.mirror?(I=G?"left":"right",z=j):(I=G?"right":"left",z=w+j),O=G?e.right-z:e.left+z;var W=l(e,o,h.offsetGridLines&&g.length>1);W<e.top&&(d="rgba(0,0,0,0)"),W+=r.aliasPixel(u),P=e.getPixelForTick(o)+s.labelOffset,_=C,v=D,M=t.left,L=t.right+E,y=b=x=R=W}T.push({tx1:_,ty1:y,tx2:v,ty2:b,x1:M,y1:x,x2:L,y2:R,labelX:O,labelY:P,glWidth:u,glColor:d,glBorderDash:c,glBorderDashOffset:p,rotation:-1*k,label:F,major:i.major,textBaseline:A,textAlign:I})}}),r.each(T,function(t){if(h.display&&(o.save(),o.lineWidth=t.glWidth,o.strokeStyle=t.glColor,o.setLineDash&&(o.setLineDash(t.glBorderDash),o.lineDashOffset=t.glBorderDashOffset),o.beginPath(),h.drawTicks&&(o.moveTo(t.tx1,t.ty1),o.lineTo(t.tx2,t.ty2)),h.drawOnChartArea&&(o.moveTo(t.x1,t.y1),o.lineTo(t.x2,t.y2)),o.stroke(),o.restore()),s.display){o.save(),o.translate(t.labelX,t.labelY),o.rotate(t.rotation),o.font=t.major?b.font:y.font,o.fillStyle=t.major?v:_,o.textBaseline=t.textBaseline,o.textAlign=t.textAlign;var n=t.label;if(r.isArray(n))for(var i=n.length,a=1.5*y.size,l=e.isHorizontal()?0:-a*(i-1)/2,u=0;u<i;++u)o.fillText(""+n[u],0,l),l+=a;else o.fillText(n,0,0);o.restore()}}),p.display){var R,O,P=0,F=c(p)/2;if(m)R=e.left+(e.right-e.left)/2,O="bottom"===n.position?e.bottom-F-L.bottom:e.top+F+L.top;else{var I="left"===n.position;R=I?e.left+F+L.top:e.right-F-L.top,O=e.top+(e.bottom-e.top)/2,P=I?-.5*Math.PI:.5*Math.PI}o.save(),o.translate(R,O),o.rotate(P),o.textAlign="center",o.textBaseline="middle",o.fillStyle=M,o.font=x.font,o.fillText(p.labelString,0,0),o.restore()}if(h.drawBorder){o.lineWidth=r.valueAtIndexOrDefault(h.lineWidth,0),o.strokeStyle=r.valueAtIndexOrDefault(h.color,0);var A=e.left,j=e.right+E,H=e.top,N=e.bottom+E,z=r.aliasPixel(o.lineWidth);m?(H=N="top"===n.position?e.bottom:e.top,H+=z,N+=z):(A=j="left"===n.position?e.right:e.left,A+=z,j+=z),o.beginPath(),o.moveTo(A,H),o.lineTo(j,N),o.stroke()}}}})},function(t,e,n){"use strict";var i=n(1);t.exports={formatters:{values:function(t){return i.isArray(t)?t:""+t},linear:function(t,e,n){var o=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(o)>1&&t!==Math.floor(t)&&(o=t-Math.floor(t));var r=i.log10(Math.abs(o)),a="";if(0!==t)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var s=i.log10(Math.abs(t));a=t.toExponential(Math.floor(s)-Math.floor(r))}else{var l=-1*Math.floor(r);l=Math.max(Math.min(l,20),0),a=t.toFixed(l)}else a="0";return a},logarithmic:function(t,e,n){var o=t/Math.pow(10,Math.floor(i.log10(t)));return 0===t?"0":1===o||2===o||5===o||0===e||e===n.length-1?t.toExponential():""}}}},function(t,e,n){"use strict";var i,o={noop:function(){},uid:(i=0,function(){return i++}),isNullOrUndef:function(t){return null==t},isArray:Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return o.valueOrDefault(o.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,i){var r,a,s;if(o.isArray(t))if(a=t.length,i)for(r=a-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<a;r++)e.call(n,t[r],r);else if(o.isObject(t))for(a=(s=Object.keys(t)).length,r=0;r<a;r++)e.call(n,t[s[r]],s[r])},arrayEquals:function(t,e){var n,i,r,a;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],a=e[n],r instanceof Array&&a instanceof Array){if(!o.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},clone:function(t){if(o.isArray(t))return t.map(o.clone);if(o.isObject(t)){for(var e={},n=Object.keys(t),i=n.length,r=0;r<i;++r)e[n[r]]=o.clone(t[n[r]]);return e}return t},_merger:function(t,e,n,i){var r=e[t],a=n[t];o.isObject(r)&&o.isObject(a)?o.merge(r,a,i):e[t]=o.clone(a)},_mergerIf:function(t,e,n){var i=e[t],r=n[t];o.isObject(i)&&o.isObject(r)?o.mergeIf(i,r):e.hasOwnProperty(t)||(e[t]=o.clone(r))},merge:function(t,e,n){var i,r,a,s,l,u=o.isArray(e)?e:[e],d=u.length;if(!o.isObject(t))return t;for(i=(n=n||{}).merger||o._merger,r=0;r<d;++r)if(e=u[r],o.isObject(e))for(l=0,s=(a=Object.keys(e)).length;l<s;++l)i(a[l],t,e,n);return t},mergeIf:function(t,e){return o.merge(t,e,{merger:o._mergerIf})},extend:function(t){for(var e=function(e,n){t[n]=e},n=1,i=arguments.length;n<i;++n)o.each(arguments[n],e);return t},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=o.inherits,t&&o.extend(n.prototype,t),n.__super__=e.prototype,n}};t.exports=o,o.callCallback=o.callback,o.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},o.getValueOrDefault=o.valueOrDefault,o.getValueAtIndexOrDefault=o.valueAtIndexOrDefault},function(t,e,n){
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
t.exports=function(){"use strict";for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e={},n=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];n<i.length;n+=1){var o=i[n];e["[object "+o+"]"]=o.toLowerCase()}var r=function(t){return e[Object.prototype.toString.call(t)]||"object"},a=Math.PI,s={clip_rgb:function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},limit:t,type:r,unpack:function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==r(t[0])&&e?e.split("").filter(function(e){return void 0!==t[0][e]}).map(function(e){return t[0][e]}):t[0]},last:function(t){if(t.length<2)return null;var e=t.length-1;return"string"==r(t[e])?t[e].toLowerCase():null},PI:a,TWOPI:2*a,PITHIRD:a/3,DEG2RAD:a/180,RAD2DEG:180/a},l={format:{},autodetect:[]},u=s.last,d=s.clip_rgb,c=s.type,h=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if("object"===c(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var i=u(t),o=!1;if(!i){o=!0,l.sorted||(l.autodetect=l.autodetect.sort(function(t,e){return e.p-t.p}),l.sorted=!0);for(var r=0,a=l.autodetect;r<a.length;r+=1){var s=a[r];if(i=s.test.apply(s,t))break}}if(!l.format[i])throw new Error("unknown format: "+t);var h=l.format[i].apply(null,o?t:t.slice(0,-1));n._rgb=d(h),3===n._rgb.length&&n._rgb.push(1)};h.prototype.toString=function(){return"function"==c(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var p=h,f=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(f.Color,[null].concat(t)))};f.Color=p,f.version="2.0.4";var m=f,g=s.unpack,_=Math.max,y=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=g(t,"rgb"),i=n[0],o=n[1],r=n[2],a=1-_(i/=255,_(o/=255,r/=255)),s=a<1?1/(1-a):0,l=(1-i-a)*s,u=(1-o-a)*s,d=(1-r-a)*s;return[l,u,d,a]},v=s.unpack,b=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=v(t,"cmyk"))[0],i=t[1],o=t[2],r=t[3],a=t.length>4?t[4]:1;return 1===r?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-r),i>=1?0:255*(1-i)*(1-r),o>=1?0:255*(1-o)*(1-r),a]},w=s.unpack,M=s.type;p.prototype.cmyk=function(){return y(this._rgb)},m.cmyk=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["cmyk"])))},l.format.cmyk=b,l.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=w(t,"cmyk"),"array"===M(t)&&4===t.length)return"cmyk"}});var x=s.unpack,L=s.last,k=function(t){return Math.round(100*t)/100},T=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=x(t,"hsla"),i=L(t)||"lsa";return n[0]=k(n[0]||0),n[1]=k(100*n[1])+"%",n[2]=k(100*n[2])+"%","hsla"===i||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,i="hsla"):n.length=3,i+"("+n.join(",")+")"},E=s.unpack,C=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=E(t,"rgba"))[0],i=t[1],o=t[2];n/=255,i/=255,o/=255;var r,a,s=Math.min(n,i,o),l=Math.max(n,i,o),u=(l+s)/2;return l===s?(r=0,a=Number.NaN):r=u<.5?(l-s)/(l+s):(l-s)/(2-l-s),n==l?a=(i-o)/(l-s):i==l?a=2+(o-n)/(l-s):o==l&&(a=4+(n-i)/(l-s)),(a*=60)<0&&(a+=360),t.length>3&&void 0!==t[3]?[a,r,u,t[3]]:[a,r,u]},D=s.unpack,S=s.last,Y=Math.round,R=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=D(t,"rgba"),i=S(t)||"rgb";return"hsl"==i.substr(0,3)?T(C(n),i):(n[0]=Y(n[0]),n[1]=Y(n[1]),n[2]=Y(n[2]),("rgba"===i||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,i="rgba"),i+"("+n.slice(0,"rgb"===i?3:4).join(",")+")")},O=s.unpack,P=Math.round,F=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];var i,o,r,a=(e=O(e,"hsl"))[0],s=e[1],l=e[2];if(0===s)i=o=r=255*l;else{var u=[0,0,0],d=[0,0,0],c=l<.5?l*(1+s):l+s-l*s,h=2*l-c,p=a/360;u[0]=p+1/3,u[1]=p,u[2]=p-1/3;for(var f=0;f<3;f++)u[f]<0&&(u[f]+=1),u[f]>1&&(u[f]-=1),6*u[f]<1?d[f]=h+6*(c-h)*u[f]:2*u[f]<1?d[f]=c:3*u[f]<2?d[f]=h+(c-h)*(2/3-u[f])*6:d[f]=h;i=(t=[P(255*d[0]),P(255*d[1]),P(255*d[2])])[0],o=t[1],r=t[2]}return e.length>3?[i,o,r,e[3]]:[i,o,r,1]},I=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,A=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,j=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,H=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,N=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,z=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,G=Math.round,W=function(t){var e;if(t=t.toLowerCase().trim(),l.format.named)try{return l.format.named(t)}catch(t){}if(e=t.match(I)){for(var n=e.slice(1,4),i=0;i<3;i++)n[i]=+n[i];return n[3]=1,n}if(e=t.match(A)){for(var o=e.slice(1,5),r=0;r<4;r++)o[r]=+o[r];return o}if(e=t.match(j)){for(var a=e.slice(1,4),s=0;s<3;s++)a[s]=G(2.55*a[s]);return a[3]=1,a}if(e=t.match(H)){for(var u=e.slice(1,5),d=0;d<3;d++)u[d]=G(2.55*u[d]);return u[3]=+u[3],u}if(e=t.match(N)){var c=e.slice(1,4);c[1]*=.01,c[2]*=.01;var h=F(c);return h[3]=1,h}if(e=t.match(z)){var p=e.slice(1,4);p[1]*=.01,p[2]*=.01;var f=F(p);return f[3]=+e[4],f}};W.test=function(t){return I.test(t)||A.test(t)||j.test(t)||H.test(t)||N.test(t)||z.test(t)};var B=W,V=s.type;p.prototype.css=function(t){return R(this._rgb,t)},m.css=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["css"])))},l.format.css=B,l.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===V(t)&&B.test(t))return"css"}});var q=s.unpack;l.format.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=q(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},m.gl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["gl"])))},p.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var U=s.unpack,X=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,i=U(t,"rgb"),o=i[0],r=i[1],a=i[2],s=Math.min(o,r,a),l=Math.max(o,r,a),u=l-s,d=100*u/255,c=s/(255-u)*100;return 0===u?n=Number.NaN:(o===l&&(n=(r-a)/u),r===l&&(n=2+(a-o)/u),a===l&&(n=4+(o-r)/u),(n*=60)<0&&(n+=360)),[n,d,c]},K=s.unpack,J=Math.floor,Z=function(){for(var t,e,n,i,o,r,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,u,d,c=(a=K(a,"hcg"))[0],h=a[1],p=a[2];p*=255;var f=255*h;if(0===h)l=u=d=p;else{360===c&&(c=0),c>360&&(c-=360),c<0&&(c+=360);var m=J(c/=60),g=c-m,_=p*(1-h),y=_+f*(1-g),v=_+f*g,b=_+f;switch(m){case 0:l=(t=[b,v,_])[0],u=t[1],d=t[2];break;case 1:l=(e=[y,b,_])[0],u=e[1],d=e[2];break;case 2:l=(n=[_,b,v])[0],u=n[1],d=n[2];break;case 3:l=(i=[_,y,b])[0],u=i[1],d=i[2];break;case 4:l=(o=[v,_,b])[0],u=o[1],d=o[2];break;case 5:l=(r=[b,_,y])[0],u=r[1],d=r[2]}}return[l,u,d,a.length>3?a[3]:1]},$=s.unpack,Q=s.type;p.prototype.hcg=function(){return X(this._rgb)},m.hcg=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["hcg"])))},l.format.hcg=Z,l.autodetect.push({p:1,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=$(t,"hcg"),"array"===Q(t)&&3===t.length)return"hcg"}});var tt=s.unpack,et=s.last,nt=Math.round,it=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=tt(t,"rgba"),i=n[0],o=n[1],r=n[2],a=n[3],s=et(t)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb");var l=(i=nt(i))<<16|(o=nt(o))<<8|(r=nt(r)),u="000000"+l.toString(16);u=u.substr(u.length-6);var d="0"+nt(255*a).toString(16);switch(d=d.substr(d.length-2),s.toLowerCase()){case"rgba":return"#"+u+d;case"argb":return"#"+d+u;default:return"#"+u}},ot=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,rt=/^#?([A-Fa-f0-9]{8})$/,at=function(t){if(t.match(ot)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16);return[e>>16,e>>8&255,255&e,1]}if(t.match(rt)){9===t.length&&(t=t.substr(1));var n=parseInt(t,16);return[n>>24&255,n>>16&255,n>>8&255,Math.round((255&n)/255*100)/100]}throw new Error("unknown hex color: "+t)},st=s.type;p.prototype.hex=function(t){return it(this._rgb,t)},m.hex=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["hex"])))},l.format.hex=at,l.autodetect.push({p:4,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===st(t)&&[3,4,6,7,8,9].includes(t.length))return"hex"}});var lt=s.unpack,ut=s.TWOPI,dt=Math.min,ct=Math.sqrt,ht=Math.acos,pt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,i=lt(t,"rgb"),o=i[0],r=i[1],a=i[2],s=dt(o/=255,r/=255,a/=255),l=(o+r+a)/3,u=l>0?1-s/l:0;return 0===u?n=NaN:(n=(o-r+(o-a))/2,n/=ct((o-r)*(o-r)+(o-a)*(r-a)),n=ht(n),a>r&&(n=ut-n),n/=ut),[360*n,u,l]},ft=s.unpack,mt=s.limit,gt=s.TWOPI,_t=s.PITHIRD,yt=Math.cos,vt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,i,o,r=(t=ft(t,"hsi"))[0],a=t[1],s=t[2];return isNaN(r)&&(r=0),isNaN(a)&&(a=0),r>360&&(r-=360),r<0&&(r+=360),(r/=360)<1/3?i=1-((o=(1-a)/3)+(n=(1+a*yt(gt*r)/yt(_t-gt*r))/3)):r<2/3?o=1-((n=(1-a)/3)+(i=(1+a*yt(gt*(r-=1/3))/yt(_t-gt*r))/3)):n=1-((i=(1-a)/3)+(o=(1+a*yt(gt*(r-=2/3))/yt(_t-gt*r))/3)),[255*(n=mt(s*n*3)),255*(i=mt(s*i*3)),255*(o=mt(s*o*3)),t.length>3?t[3]:1]},bt=s.unpack,wt=s.type;p.prototype.hsi=function(){return pt(this._rgb)},m.hsi=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["hsi"])))},l.format.hsi=vt,l.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=bt(t,"hsi"),"array"===wt(t)&&3===t.length)return"hsi"}});var Mt=s.unpack,xt=s.type;p.prototype.hsl=function(){return C(this._rgb)},m.hsl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["hsl"])))},l.format.hsl=F,l.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Mt(t,"hsl"),"array"===xt(t)&&3===t.length)return"hsl"}});var Lt=s.unpack,kt=Math.min,Tt=Math.max,Et=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,i,o,r=(t=Lt(t,"rgb"))[0],a=t[1],s=t[2],l=kt(r,a,s),u=Tt(r,a,s),d=u-l;return o=u/255,0===u?(n=Number.NaN,i=0):(i=d/u,r===u&&(n=(a-s)/d),a===u&&(n=2+(s-r)/d),s===u&&(n=4+(r-a)/d),(n*=60)<0&&(n+=360)),[n,i,o]},Ct=s.unpack,Dt=Math.floor,St=function(){for(var t,e,n,i,o,r,a=[],s=arguments.length;s--;)a[s]=arguments[s];var l,u,d,c=(a=Ct(a,"hsv"))[0],h=a[1],p=a[2];if(p*=255,0===h)l=u=d=p;else{360===c&&(c=0),c>360&&(c-=360),c<0&&(c+=360);var f=Dt(c/=60),m=c-f,g=p*(1-h),_=p*(1-h*m),y=p*(1-h*(1-m));switch(f){case 0:l=(t=[p,y,g])[0],u=t[1],d=t[2];break;case 1:l=(e=[_,p,g])[0],u=e[1],d=e[2];break;case 2:l=(n=[g,p,y])[0],u=n[1],d=n[2];break;case 3:l=(i=[g,_,p])[0],u=i[1],d=i[2];break;case 4:l=(o=[y,g,p])[0],u=o[1],d=o[2];break;case 5:l=(r=[p,g,_])[0],u=r[1],d=r[2]}}return[l,u,d,a.length>3?a[3]:1]},Yt=s.unpack,Rt=s.type;p.prototype.hsv=function(){return Et(this._rgb)},m.hsv=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["hsv"])))},l.format.hsv=St,l.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Yt(t,"hsv"),"array"===Rt(t)&&3===t.length)return"hsv"}});var Ot=18,Pt=.95047,Ft=1,It=1.08883,At=.137931034,jt=.206896552,Ht=.12841855,Nt=.008856452,zt=s.unpack,Gt=Math.pow,Wt=function(t){return(t/=255)<=.04045?t/12.92:Gt((t+.055)/1.055,2.4)},Bt=function(t){return t>Nt?Gt(t,1/3):t/Ht+At},Vt=function(t,e,n){return t=Wt(t),e=Wt(e),n=Wt(n),[Bt((.4124564*t+.3575761*e+.1804375*n)/Pt),Bt((.2126729*t+.7151522*e+.072175*n)/Ft),Bt((.0193339*t+.119192*e+.9503041*n)/It)]},qt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=zt(t,"rgb"),i=n[0],o=n[1],r=n[2],a=Vt(i,o,r),s=a[0],l=a[1],u=a[2],d=116*l-16;return[d<0?0:d,500*(s-l),200*(l-u)]},Ut=s.unpack,Xt=Math.pow,Kt=function(t){return 255*(t<=.00304?12.92*t:1.055*Xt(t,1/2.4)-.055)},Jt=function(t){return t>jt?t*t*t:Ht*(t-At)},Zt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,i,o,r=(t=Ut(t,"lab"))[0],a=t[1],s=t[2];return i=(r+16)/116,n=isNaN(a)?i:i+a/500,o=isNaN(s)?i:i-s/200,i=Ft*Jt(i),n=Pt*Jt(n),o=It*Jt(o),[Kt(3.2404542*n-1.5371385*i-.4985314*o),Kt(-.969266*n+1.8760108*i+.041556*o),Kt(.0556434*n-.2040259*i+1.0572252*o),t.length>3?t[3]:1]},$t=s.unpack,Qt=s.type;p.prototype.lab=function(){return qt(this._rgb)},m.lab=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["lab"])))},l.format.lab=Zt,l.autodetect.push({p:2,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=$t(t,"lab"),"array"===Qt(t)&&3===t.length)return"lab"}});var te=s.unpack,ee=s.RAD2DEG,ne=Math.sqrt,ie=Math.atan2,oe=Math.round,re=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=te(t,"lab"),i=n[0],o=n[1],r=n[2],a=ne(o*o+r*r),s=(ie(r,o)*ee+360)%360;return 0===oe(1e4*a)&&(s=Number.NaN),[i,a,s]},ae=s.unpack,se=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=ae(t,"rgb"),i=n[0],o=n[1],r=n[2],a=qt(i,o,r),s=a[0],l=a[1],u=a[2];return re(s,l,u)},le=s.unpack,ue=s.DEG2RAD,de=Math.sin,ce=Math.cos,he=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=le(t,"lch"),i=n[0],o=n[1],r=n[2];return isNaN(r)&&(r=0),[i,ce(r*=ue)*o,de(r)*o]},pe=s.unpack,fe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(t=pe(t,"lch"))[0],i=t[1],o=t[2],r=he(n,i,o),a=r[0],s=r[1],l=r[2],u=Zt(a,s,l),d=u[0],c=u[1],h=u[2];return[d,c,h,t.length>3?t[3]:1]},me=s.unpack,ge=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=me(t,"hcl").reverse();return fe.apply(void 0,n)},_e=s.unpack,ye=s.type;p.prototype.lch=function(){return se(this._rgb)},p.prototype.hcl=function(){return se(this._rgb).reverse()},m.lch=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["lch"])))},m.hcl=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["hcl"])))},l.format.lch=fe,l.format.hcl=ge,["lch","hcl"].forEach(function(t){return l.autodetect.push({p:2,test:function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(e=_e(e,t),"array"===ye(e)&&3===e.length)return t}})});var ve={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},be=s.type;p.prototype.name=function(){for(var t=it(this._rgb,"rgb"),e=0,n=Object.keys(ve);e<n.length;e+=1){var i=n[e];if(ve[i]===t)return i.toLowerCase()}return t},l.format.named=function(t){if(t=t.toLowerCase(),ve[t])return at(ve[t]);throw new Error("unknown color name: "+t)},l.autodetect.push({p:5,test:function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(!e.length&&"string"===be(t)&&ve[t.toLowerCase()])return"named"}});var we=s.unpack,Me=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=we(t,"rgb"),i=n[0],o=n[1],r=n[2];return(i<<16)+(o<<8)+r},xe=s.type,Le=function(t){if("number"==xe(t)&&t>=0&&t<=16777215)return[t>>16,t>>8&255,255&t,1];throw new Error("unknown num color: "+t)},ke=s.type;p.prototype.num=function(){return Me(this._rgb)},m.num=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["num"])))},l.format.num=Le,l.autodetect.push({p:5,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(1===t.length&&"number"===ke(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var Te=s.unpack,Ee=s.type,Ce=Math.round;p.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ce)},p.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map(function(e,n){return n<3?!1===t?e:Ce(e):e})},m.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["rgb"])))},l.format.rgb=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=Te(t,"rgba");return void 0===n[3]&&(n[3]=1),n},l.autodetect.push({p:3,test:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(t=Te(t,"rgba"),"array"===Ee(t)&&(3===t.length||4===t.length&&"number"==Ee(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var De=Math.log,Se=function(t){var e,n,i,o=t/100;return o<66?(e=255,n=-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*De(n),i=o<20?0:.8274096064007395*(i=o-10)-254.76935184120902+115.67994401066147*De(i)):(e=351.97690566805693+.114206453784165*(e=o-55)-40.25366309332127*De(e),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*De(n),i=255),[e,n,i,1]},Ye=s.unpack,Re=Math.round,Oe=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n,i=Ye(t,"rgb"),o=i[0],r=i[2],a=1e3,s=4e4,l=.4;s-a>l;){var u=Se(n=.5*(s+a));u[2]/u[0]>=r/o?s=n:a=n}return Re(n)};p.prototype.temp=p.prototype.kelvin=p.prototype.temperature=function(){return Oe(this._rgb)},m.temp=m.kelvin=m.temperature=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return new(Function.prototype.bind.apply(p,[null].concat(t,["temp"])))},l.format.temp=l.format.kelvin=l.format.temperature=Se;var Pe=s.type;p.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===Pe(t)?e?(this._rgb[3]=t,this):new p([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},p.prototype.clipped=function(){return this._rgb._clipped||!1},p.prototype.darken=function(t){void 0===t&&(t=1);var e=this.lab();return e[0]-=Ot*t,new p(e,"lab").alpha(this.alpha(),!0)},p.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},p.prototype.darker=p.prototype.darken,p.prototype.brighter=p.prototype.brighten,p.prototype.get=function(t){var e=t.split("."),n=e[0],i=e[1],o=this[n]();if(i){var r=n.indexOf(i);if(r>-1)return o[r];throw new Error("unknown channel "+i+" in mode "+n)}return o};var Fe=s.type,Ie=Math.pow;p.prototype.luminance=function(t){if(void 0!==t&&"number"===Fe(t)){if(0===t)return new p([0,0,0,this._rgb[3]],"rgb");if(1===t)return new p([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n=20,i=function(e,o){var r=e.interpolate(o,.5,"rgb"),a=r.luminance();return Math.abs(t-a)<1e-7||!n--?r:a>t?i(e,r):i(r,o)},o=(e>t?i(new p([0,0,0]),this):i(this,new p([255,255,255]))).rgb();return new p(o.concat([this._rgb[3]]))}return Ae.apply(void 0,this._rgb.slice(0,3))};var Ae=function(t,e,n){return.2126*(t=je(t))+.7152*(e=je(e))+.0722*(n=je(n))},je=function(t){return(t/=255)<=.03928?t/12.92:Ie((t+.055)/1.055,2.4)},He={},Ne=s.type,ze=function(t,e,n){void 0===n&&(n=.5);for(var i=[],o=arguments.length-3;o-- >0;)i[o]=arguments[o+3];var r=i[0]||"lrgb";if(He[r]||i.length||(r=Object.keys(He)[0]),!He[r])throw new Error("interpolation mode "+r+" is not defined");return"object"!==Ne(t)&&(t=new p(t)),"object"!==Ne(e)&&(e=new p(e)),He[r](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))};p.prototype.mix=p.prototype.interpolate=function(t,e){void 0===e&&(e=.5);for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];return ze.apply(void 0,[this,t,e].concat(n))},p.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new p([e[0]*n,e[1]*n,e[2]*n,n],"rgb")},p.prototype.saturate=function(t){void 0===t&&(t=1);var e=this.lch();return e[1]+=Ot*t,e[1]<0&&(e[1]=0),new p(e,"lch").alpha(this.alpha(),!0)},p.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var Ge=s.type;p.prototype.set=function(t,e,n){void 0===n&&(n=!1);var i=t.split("."),o=i[0],r=i[1],a=this[o]();if(r){var s=o.indexOf(r);if(s>-1){if("string"==Ge(e))switch(e.charAt(0)){case"+":case"-":a[s]+=+e;break;case"*":a[s]*=+e.substr(1);break;case"/":a[s]/=+e.substr(1);break;default:a[s]=+e}else{if("number"!==Ge(e))throw new Error("unsupported value for Color.set");a[s]=e}var l=new p(a,o);return n?(this._rgb=l._rgb,this):l}throw new Error("unknown channel "+r+" in mode "+o)}return a},He.rgb=function(t,e,n){var i=t._rgb,o=e._rgb;return new p(i[0]+n*(o[0]-i[0]),i[1]+n*(o[1]-i[1]),i[2]+n*(o[2]-i[2]),"rgb")};var We=Math.sqrt,Be=Math.pow;He.lrgb=function(t,e,n){var i=t._rgb,o=i[0],r=i[1],a=i[2],s=e._rgb,l=s[0],u=s[1],d=s[2];return new p(We(Be(o,2)*(1-n)+Be(l,2)*n),We(Be(r,2)*(1-n)+Be(u,2)*n),We(Be(a,2)*(1-n)+Be(d,2)*n),"rgb")},He.lab=function(t,e,n){var i=t.lab(),o=e.lab();return new p(i[0]+n*(o[0]-i[0]),i[1]+n*(o[1]-i[1]),i[2]+n*(o[2]-i[2]),"lab")};var Ve=function(t,e,n,i){var o,r,a,s,l,u,d,c,h,f,m,g;return"hsl"===i?(a=t.hsl(),s=e.hsl()):"hsv"===i?(a=t.hsv(),s=e.hsv()):"hcg"===i?(a=t.hcg(),s=e.hcg()):"hsi"===i?(a=t.hsi(),s=e.hsi()):"lch"!==i&&"hcl"!==i||(i="hcl",a=t.hcl(),s=e.hcl()),"h"===i.substr(0,1)&&(l=(o=a)[0],d=o[1],h=o[2],u=(r=s)[0],c=r[1],f=r[2]),isNaN(l)||isNaN(u)?isNaN(l)?isNaN(u)?g=Number.NaN:(g=u,1!=h&&0!=h||"hsv"==i||(m=c)):(g=l,1!=f&&0!=f||"hsv"==i||(m=d)):g=l+n*(u>l&&u-l>180?u-(l+360):u<l&&l-u>180?u+360-l:u-l),void 0===m&&(m=d+n*(c-d)),new p([g,m,h+n*(f-h)],i)},qe=function(t,e,n){return Ve(t,e,n,"lch")};He.lch=qe,He.hcl=qe,He.num=function(t,e,n){var i=t.num(),o=e.num();return new p(i+n*(o-i),"num")},He.hcg=function(t,e,n){return Ve(t,e,n,"hcg")},He.hsi=function(t,e,n){return Ve(t,e,n,"hsi")},He.hsl=function(t,e,n){return Ve(t,e,n,"hsl")},He.hsv=function(t,e,n){return Ve(t,e,n,"hsv")};var Ue=s.clip_rgb,Xe=Math.pow,Ke=Math.sqrt,Je=Math.PI,Ze=Math.cos,$e=Math.sin,Qe=Math.atan2,tn=function(t){for(var e=1/t.length,n=[0,0,0,0],i=0,o=t;i<o.length;i+=1){var r=o[i]._rgb;n[0]+=Xe(r[0],2)*e,n[1]+=Xe(r[1],2)*e,n[2]+=Xe(r[2],2)*e,n[3]+=r[3]*e}return n[0]=Ke(n[0]),n[1]=Ke(n[1]),n[2]=Ke(n[2]),n[3]>.9999999&&(n[3]=1),new p(Ue(n))},en=s.type,nn=Math.pow,on=function(t){var e="rgb",n=m("#ccc"),i=0,o=[0,1],r=[],a=[0,0],s=!1,l=[],u=!1,d=0,c=1,h=!1,p={},f=!0,g=1,_=function(t){if((t=t||["#fff","#000"])&&"string"===en(t)&&m.brewer&&m.brewer[t.toLowerCase()]&&(t=m.brewer[t.toLowerCase()]),"array"===en(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=m(t[e]);r.length=0;for(var n=0;n<t.length;n++)r.push(n/(t.length-1))}return b(),l=t},y=function(t){return t},v=function(t,i){var o,u;if(null==i&&(i=!1),isNaN(t)||null===t)return n;u=i?t:s&&s.length>2?function(t){if(null!=s){for(var e=s.length-1,n=0;n<e&&t>=s[n];)n++;return n-1}return 0}(t)/(s.length-2):c!==d?(t-d)/(c-d):1,i||(u=y(u)),1!==g&&(u=nn(u,g)),u=a[0]+u*(1-a[0]-a[1]),u=Math.min(1,Math.max(0,u));var h=Math.floor(1e4*u);if(f&&p[h])o=p[h];else{if("array"===en(l))for(var _=0;_<r.length;_++){var v=r[_];if(u<=v){o=l[_];break}if(u>=v&&_===r.length-1){o=l[_];break}if(u>v&&u<r[_+1]){u=(u-v)/(r[_+1]-v),o=m.interpolate(l[_],l[_+1],u,e);break}}else"function"===en(l)&&(o=l(u));f&&(p[h]=o)}return o},b=function(){return p={}};_(t);var w=function(t){var e=m(v(t));return u&&e[u]?e[u]():e};return w.classes=function(t){if(null!=t){if("array"===en(t))s=t,o=[t[0],t[t.length-1]];else{var e=m.analyze(o);s=0===t?[e.min,e.max]:m.limits(e,"e",t)}return w}return s},w.domain=function(t){if(!arguments.length)return o;d=t[0],c=t[t.length-1],r=[];var e=l.length;if(t.length===e&&d!==c)for(var n=0,i=Array.from(t);n<i.length;n+=1){var a=i[n];r.push((a-d)/(c-d))}else for(var s=0;s<e;s++)r.push(s/(e-1));return o=[d,c],w},w.mode=function(t){return arguments.length?(e=t,b(),w):e},w.range=function(t,e){return _(t),w},w.out=function(t){return u=t,w},w.spread=function(t){return arguments.length?(i=t,w):i},w.correctLightness=function(t){return null==t&&(t=!0),h=t,b(),y=h?function(t){for(var e=v(0,!0).lab()[0],n=v(1,!0).lab()[0],i=e>n,o=v(t,!0).lab()[0],r=e+(n-e)*t,a=o-r,s=0,l=1,u=20;Math.abs(a)>.01&&u-- >0;)i&&(a*=-1),a<0?(s=t,t+=.5*(l-t)):(l=t,t+=.5*(s-t)),o=v(t,!0).lab()[0],a=o-r;return t}:function(t){return t},w},w.padding=function(t){return null!=t?("number"===en(t)&&(t=[t,t]),a=t,w):a},w.colors=function(e,n){arguments.length<2&&(n="hex");var i=[];if(0===arguments.length)i=l.slice(0);else if(1===e)i=[w(.5)];else if(e>1){var r=o[0],a=o[1]-r;i=rn(0,e,!1).map(function(t){return w(r+t/(e-1)*a)})}else{t=[];var u=[];if(s&&s.length>2)for(var d=1,c=s.length,h=1<=c;h?d<c:d>c;h?d++:d--)u.push(.5*(s[d-1]+s[d]));else u=o;i=u.map(function(t){return w(t)})}return m[n]&&(i=i.map(function(t){return t[n]()})),i},w.cache=function(t){return null!=t?(f=t,w):f},w.gamma=function(t){return null!=t?(g=t,w):g},w.nodata=function(t){return null!=t?(n=m(t),w):n},w};function rn(t,e,n){for(var i=[],o=t<e,r=n?o?e+1:e-1:e,a=t;o?a<r:a>r;o?a++:a--)i.push(a);return i}var an=function(t){var e,n,i,o,r,a,s;if(2===(t=t.map(function(t){return new p(t)})).length)e=t.map(function(t){return t.lab()}),r=e[0],a=e[1],o=function(t){var e=[0,1,2].map(function(e){return r[e]+t*(a[e]-r[e])});return new p(e,"lab")};else if(3===t.length)n=t.map(function(t){return t.lab()}),r=n[0],a=n[1],s=n[2],o=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*r[e]+2*(1-t)*t*a[e]+t*t*s[e]});return new p(e,"lab")};else if(4===t.length){var l;i=t.map(function(t){return t.lab()}),r=i[0],a=i[1],s=i[2],l=i[3],o=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*(1-t)*r[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*l[e]});return new p(e,"lab")}}else if(5===t.length){var u=an(t.slice(0,3)),d=an(t.slice(2,5));o=function(t){return t<.5?u(2*t):d(2*(t-.5))}}return o},sn=function(t,e,n){if(!sn[n])throw new Error("unknown blend mode "+n);return sn[n](t,e)},ln=function(t){return function(e,n){var i=m(n).rgb(),o=m(e).rgb();return m.rgb(t(i,o))}},un=function(t){return function(e,n){var i=[];return i[0]=t(e[0],n[0]),i[1]=t(e[1],n[1]),i[2]=t(e[2],n[2]),i}};sn.normal=ln(un(function(t){return t})),sn.multiply=ln(un(function(t,e){return t*e/255})),sn.screen=ln(un(function(t,e){return 255*(1-(1-t/255)*(1-e/255))})),sn.overlay=ln(un(function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))})),sn.darken=ln(un(function(t,e){return t>e?e:t})),sn.lighten=ln(un(function(t,e){return t>e?t:e})),sn.dodge=ln(un(function(t,e){return 255===t?255:(t=e/255*255/(1-t/255))>255?255:t})),sn.burn=ln(un(function(t,e){return 255*(1-(1-e/255)/(t/255))}));for(var dn=sn,cn=s.type,hn=s.clip_rgb,pn=s.TWOPI,fn=Math.pow,mn=Math.sin,gn=Math.cos,_n=Math.floor,yn=Math.random,vn=Math.log,bn=Math.pow,wn=Math.floor,Mn=Math.abs,xn=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===r(t)&&(t=Object.values(t)),t.forEach(function(t){e&&"object"===r(t)&&(t=t[e]),null==t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(t,e){return Ln(n,t,e)},n},Ln=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==r(t)&&(t=xn(t));var i=t.min,o=t.max,a=t.values.sort(function(t,e){return t-e});if(1===n)return[i,o];var s=[];if("c"===e.substr(0,1)&&(s.push(i),s.push(o)),"e"===e.substr(0,1)){s.push(i);for(var l=1;l<n;l++)s.push(i+l/n*(o-i));s.push(o)}else if("l"===e.substr(0,1)){if(i<=0)throw new Error("Logarithmic scales are only possible for values > 0");var u=Math.LOG10E*vn(i),d=Math.LOG10E*vn(o);s.push(i);for(var c=1;c<n;c++)s.push(bn(10,u+c/n*(d-u)));s.push(o)}else if("q"===e.substr(0,1)){s.push(i);for(var h=1;h<n;h++){var p=(a.length-1)*h/n,f=wn(p);if(f===p)s.push(a[f]);else{var m=p-f;s.push(a[f]*(1-m)+a[f+1]*m)}}s.push(o)}else if("k"===e.substr(0,1)){var g,_=a.length,y=new Array(_),v=new Array(n),b=!0,w=0,M=null;(M=[]).push(i);for(var x=1;x<n;x++)M.push(i+x/n*(o-i));for(M.push(o);b;){for(var L=0;L<n;L++)v[L]=0;for(var k=0;k<_;k++)for(var T=a[k],E=Number.MAX_VALUE,C=void 0,D=0;D<n;D++){var S=Mn(M[D]-T);S<E&&(E=S,C=D),v[C]++,y[k]=C}for(var Y=new Array(n),R=0;R<n;R++)Y[R]=null;for(var O=0;O<_;O++)null===Y[g=y[O]]?Y[g]=a[O]:Y[g]+=a[O];for(var P=0;P<n;P++)Y[P]*=1/v[P];b=!1;for(var F=0;F<n;F++)if(Y[F]!==M[F]){b=!0;break}M=Y,++w>200&&(b=!1)}for(var I={},A=0;A<n;A++)I[A]=[];for(var j=0;j<_;j++)I[g=y[j]].push(a[j]);for(var H=[],N=0;N<n;N++)H.push(I[N][0]),H.push(I[N][I[N].length-1]);H=H.sort(function(t,e){return t-e}),s.push(H[0]);for(var z=1;z<H.length;z+=2){var G=H[z];isNaN(G)||-1!==s.indexOf(G)||s.push(G)}}return s},kn={analyze:xn,limits:Ln},Tn=Math.sqrt,En=Math.atan2,Cn=Math.abs,Dn=Math.cos,Sn=Math.PI,Yn={cool:function(){return on([m.hsl(180,1,.9),m.hsl(250,.7,.4)])},hot:function(){return on(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Rn={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},On=0,Pn=Object.keys(Rn);On<Pn.length;On+=1){var Fn=Pn[On];Rn[Fn.toLowerCase()]=Rn[Fn]}var In=Rn;return m.average=function(t,e){void 0===e&&(e="lrgb");var n=t.length;if(t=t.map(function(t){return new p(t)}),"lrgb"===e)return tn(t);for(var i=t.shift(),o=i.get(e),r=[],a=0,s=0,l=0;l<o.length;l++)if(o[l]=o[l]||0,r.push(isNaN(o[l])?0:1),"h"===e.charAt(l)&&!isNaN(o[l])){var u=o[l]/180*Je;a+=Ze(u),s+=$e(u)}var d=i.alpha();t.forEach(function(t){var n=t.get(e);d+=t.alpha();for(var i=0;i<o.length;i++)if(!isNaN(n[i]))if(r[i]++,"h"===e.charAt(i)){var l=n[i]/180*Je;a+=Ze(l),s+=$e(l)}else o[i]+=n[i]});for(var c=0;c<o.length;c++)if("h"===e.charAt(c)){for(var h=Qe(s/r[c],a/r[c])/Je*180;h<0;)h+=360;for(;h>=360;)h-=360;o[c]=h}else o[c]=o[c]/r[c];return d/=n,new p(o,e).alpha(d>.99999?1:d,!0)},m.bezier=function(t){var e=an(t);return e.scale=function(){return on(e)},e},m.blend=dn,m.cubehelix=function(t,e,n,i,o){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===i&&(i=1),void 0===o&&(o=[0,1]);var r,a=0;"array"===cn(o)?r=o[1]-o[0]:(r=0,o=[o,o]);var s=function(s){var l=pn*((t+120)/360+e*s),u=fn(o[0]+r*s,i),d=(0!==a?n[0]+s*a:n)*u*(1-u)/2,c=gn(l),h=mn(l);return m(hn([255*(u+d*(-.14861*c+1.78277*h)),255*(u+d*(-.29227*c-.90649*h)),255*(u+d*(1.97294*c)),1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?i:(i=t,s)},s.hue=function(t){return null==t?n:("array"===cn(n=t)?0==(a=n[1]-n[0])&&(n=n[1]):a=0,s)},s.lightness=function(t){return null==t?o:("array"===cn(t)?(o=t,r=t[1]-t[0]):(o=[t,t],r=0),s)},s.scale=function(){return m.scale(s)},s.hue(n),s},m.mix=m.interpolate=ze,m.random=function(){for(var t="#",e=0;e<6;e++)t+="0123456789abcdef".charAt(_n(16*yn()));return new p(t,"hex")},m.scale=on,m.analyze=kn.analyze,m.contrast=function(t,e){t=new p(t),e=new p(e);var n=t.luminance(),i=e.luminance();return n>i?(n+.05)/(i+.05):(i+.05)/(n+.05)},m.deltaE=function(t,e,n,i){void 0===n&&(n=1),void 0===i&&(i=1),t=new p(t),e=new p(e);for(var o=Array.from(t.lab()),r=o[0],a=o[1],s=o[2],l=Array.from(e.lab()),u=l[0],d=l[1],c=l[2],h=Tn(a*a+s*s),f=Tn(d*d+c*c),m=r<16?.511:.040975*r/(1+.01765*r),g=.0638*h/(1+.0131*h)+.638,_=h<1e-6?0:180*En(s,a)/Sn;_<0;)_+=360;for(;_>=360;)_-=360;var y=_>=164&&_<=345?.56+Cn(.2*Dn(Sn*(_+168)/180)):.36+Cn(.4*Dn(Sn*(_+35)/180)),v=h*h*h*h,b=Tn(v/(v+1900)),w=g*(b*y+1-b),M=h-f,x=a-d,L=s-c,k=(r-u)/(n*m),T=M/(i*g);return Tn(k*k+T*T+(x*x+L*L-M*M)/(w*w))},m.distance=function(t,e,n){void 0===n&&(n="lab"),t=new p(t),e=new p(e);var i=t.get(n),o=e.get(n),r=0;for(var a in i){var s=(i[a]||0)-(o[a]||0);r+=s*s}return Math.sqrt(r)},m.limits=kn.limits,m.valid=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(p,[null].concat(t))),!0}catch(t){return!1}},m.scales=Yn,m.colors=ve,m.brewer=In,m}()},function(t,e,n){t.exports=function(){"use strict";function t(t,i,o,r,a){!function t(n,i,o,r,a){for(;r>o;){if(r-o>600){var s=r-o+1,l=i-o+1,u=Math.log(s),d=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*d*(s-d)/s)*(l-s/2<0?-1:1);t(n,i,Math.max(o,Math.floor(i-l*d/s+c)),Math.min(r,Math.floor(i+(s-l)*d/s+c)),a)}var h=n[i],p=o,f=r;for(e(n,o,i),a(n[r],h)>0&&e(n,o,r);p<f;){for(e(n,p,f),p++,f--;a(n[p],h)<0;)p++;for(;a(n[f],h)>0;)f--}0===a(n[o],h)?e(n,o,f):e(n,++f,r),f<=i&&(o=f+1),i<=f&&(r=f-1)}}(t,i,o||0,r||t.length-1,a||n)}function e(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function n(t,e){return t<e?-1:t>e?1:0}var i=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function r(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,o){o||(o=f(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var r=e;r<n;r++){var a=t.children[r];s(o,t.leaf?i(a):a)}return o}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function u(t,e){return t.minY-e.minY}function d(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function c(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function f(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(e,n,i,o,r){for(var a=[n,i];a.length;)if(!((i=a.pop())-(n=a.pop())<=o)){var s=n+Math.ceil((i-n)/o/2)*o;t(e,s,n,i,r),a.push(n,s,s,i)}}return i.prototype.all=function(){return this._all(this.data,[])},i.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var i=this.toBBox,o=[];e;){for(var r=0;r<e.children.length;r++){var a=e.children[r],s=e.leaf?i(a):a;p(t,s)&&(e.leaf?n.push(a):h(t,s)?this._all(a,n):o.push(a))}e=o.pop()}return n},i.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var i=0;i<e.children.length;i++){var o=e.children[i],r=e.leaf?this.toBBox(o):o;if(p(t,r)){if(e.leaf||h(t,r))return!0;n.push(o)}}e=n.pop()}return!1},i.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},i.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},i.prototype.clear=function(){return this.data=f([]),this},i.prototype.remove=function(t,e){if(!t)return this;for(var n,i,r,a=this.data,s=this.toBBox(t),l=[],u=[];a||l.length;){if(a||(a=l.pop(),i=l[l.length-1],n=u.pop(),r=!0),a.leaf){var d=o(t,a.children,e);if(-1!==d)return a.children.splice(d,1),l.push(a),this._condense(l),this}r||a.leaf||!h(a,s)?i?(n++,a=i.children[n],r=!1):a=null:(l.push(a),u.push(n),n=0,i=a,a=a.children[0])}return this},i.prototype.toBBox=function(t){return t},i.prototype.compareMinX=function(t,e){return t.minX-e.minX},i.prototype.compareMinY=function(t,e){return t.minY-e.minY},i.prototype.toJSON=function(){return this.data},i.prototype.fromJSON=function(t){return this.data=t,this},i.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},i.prototype._build=function(t,e,n,i){var o,a=n-e+1,s=this._maxEntries;if(a<=s)return r(o=f(t.slice(e,n+1)),this.toBBox),o;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),(o=f([])).leaf=!1,o.height=i;var l=Math.ceil(a/s),u=l*Math.ceil(Math.sqrt(s));m(t,e,n,u,this.compareMinX);for(var d=e;d<=n;d+=u){var c=Math.min(d+u-1,n);m(t,d,c,l,this.compareMinY);for(var h=d;h<=c;h+=l){var p=Math.min(h+l-1,c);o.children.push(this._build(t,h,p,i-1))}}return r(o,this.toBBox),o},i.prototype._chooseSubtree=function(t,e,n,i){for(;i.push(e),!e.leaf&&i.length-1!==n;){for(var o=1/0,r=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],u=d(l),c=(h=t,p=l,(Math.max(p.maxX,h.maxX)-Math.min(p.minX,h.minX))*(Math.max(p.maxY,h.maxY)-Math.min(p.minY,h.minY))-u);c<r?(r=c,o=u<o?u:o,a=l):c===r&&u<o&&(o=u,a=l)}e=a||e.children[0]}var h,p;return e},i.prototype._insert=function(t,e,n){var i=n?t:this.toBBox(t),o=[],r=this._chooseSubtree(i,this.data,e,o);for(r.children.push(t),s(r,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},i.prototype._split=function(t,e){var n=t[e],i=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,i);var a=this._chooseSplitIndex(n,o,i),s=f(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,r(n,this.toBBox),r(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},i.prototype._splitRoot=function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.leaf=!1,r(this.data,this.toBBox)},i.prototype._chooseSplitIndex=function(t,e,n){for(var i,o,r,s,l,u,c,h=1/0,p=1/0,f=e;f<=n-e;f++){var m=a(t,0,f,this.toBBox),g=a(t,f,n,this.toBBox),_=(o=m,r=g,s=Math.max(o.minX,r.minX),l=Math.max(o.minY,r.minY),u=Math.min(o.maxX,r.maxX),c=Math.min(o.maxY,r.maxY),Math.max(0,u-s)*Math.max(0,c-l)),y=d(m)+d(g);_<h?(h=_,i=f,p=y<p?y:p):_===h&&y<p&&(p=y,i=f)}return i||n-e},i.prototype._chooseSplitAxis=function(t,e,n){var i=t.leaf?this.compareMinX:l,o=t.leaf?this.compareMinY:u;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,o)&&t.children.sort(i)},i.prototype._allDistMargin=function(t,e,n,i){t.children.sort(i);for(var o=this.toBBox,r=a(t,0,e,o),l=a(t,n-e,n,o),u=c(r)+c(l),d=e;d<n-e;d++){var h=t.children[d];s(r,t.leaf?o(h):h),u+=c(r)}for(var p=n-e-1;p>=e;p--){var f=t.children[p];s(l,t.leaf?o(f):f),u+=c(l)}return u},i.prototype._adjustParentBBoxes=function(t,e,n){for(var i=n;i>=0;i--)s(e[i],t)},i.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():r(t[e],this.toBBox)},i}()},function(t,e,n){"use strict";n.r(e);var i=n(8),o=n(2);e.default=function(t,e,n){if(n=n||{},!Object(o.isObject)(n))throw new Error("options is invalid");var r=n.units,a=Object(i.a)(t),s=Object(i.a)(e),l=Object(o.degreesToRadians)(s[1]-a[1]),u=Object(o.degreesToRadians)(s[0]-a[0]),d=Object(o.degreesToRadians)(a[1]),c=Object(o.degreesToRadians)(s[1]),h=Math.pow(Math.sin(l/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(d)*Math.cos(c);return Object(o.radiansToLength)(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),r)}},function(t,e,n){var i=n(176),o=n(178),r=function(t){return t instanceof r?t:this instanceof r?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=o.getRgba(t))?this.setValues("rgb",e):(e=o.getHsla(t))?this.setValues("hsl",e):(e=o.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new r(t);var e};r.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return o.hexString(this.values.rgb)},rgbString:function(){return o.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return o.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return o.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return o.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return o.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return o.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return o.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=t,i=void 0===e?.5:e,o=2*i-1,r=this.alpha()-n.alpha(),a=((o*r==-1?o:(o+r)/(1+o*r))+1)/2,s=1-a;return this.rgb(a*this.red()+s*n.red(),a*this.green()+s*n.green(),a*this.blue()+s*n.blue()).alpha(this.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new r,i=this.values,o=n.values;for(var a in i)i.hasOwnProperty(a)&&(t=i[a],"[object Array]"===(e={}.toString.call(t))?o[a]=t.slice(0):"[object Number]"===e?o[a]=t:console.error("unexpected color value:",t));return n}},r.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},r.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},r.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},r.prototype.setValues=function(t,e){var n,o,r=this.values,a=this.spaces,s=this.maxes,l=1;if(this.valid=!0,"alpha"===t)l=e;else if(e.length)r[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)r[t][n]=e[t.charAt(n)];l=e.a}else if(void 0!==e[a[t][0]]){var u=a[t];for(n=0;n<t.length;n++)r[t][n]=e[u[n]];l=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===l?r.alpha:l)),"alpha"===t)return!1;for(n=0;n<t.length;n++)o=Math.max(0,Math.min(s[t][n],r[t][n])),r[t][n]=Math.round(o);for(var d in a)d!==t&&(r[d]=i[t][d](r[t]));return!0},r.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},r.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:n===i[e]?this:(i[e]=n,this.setValues(t,i),this)},"undefined"!=typeof window&&(window.Color=r),t.exports=r},function(t,e,n){"use strict";var i=n(5);e=t.exports=i.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null});Object.defineProperty(e.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(e.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}})},function(t,e,n){"use strict";var i=n(3),o=n(1);i._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:o.noop,onComplete:o.noop}}),t.exports={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,e,n,i){var o,r,a=this.animations;for(e.chart=t,i||(t.animating=!0),o=0,r=a.length;o<r;++o)if(a[o].chart===t)return void(a[o]=e);a.push(e),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=o.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=o.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this,e=Date.now(),n=0;t.dropFrames>1&&(n=Math.floor(t.dropFrames),t.dropFrames=t.dropFrames%1),t.advance(1+n);var i=Date.now();t.dropFrames+=(i-e)/t.frameDuration,t.animations.length>0&&t.requestAnimationFrame()},advance:function(t){for(var e,n,i=this.animations,r=0;r<i.length;)n=(e=i[r]).chart,e.currentStep=(e.currentStep||0)+t,e.currentStep=Math.min(e.currentStep,e.numSteps),o.callback(e.render,[n,e],n),o.callback(e.onAnimationProgress,[e],n),e.currentStep>=e.numSteps?(o.callback(e.onAnimationComplete,[e],n),n.animating=!1,i.splice(r,1)):++r}}},function(t,e,n){"use strict";var i=n(1);function o(t,e){return t.native?{x:t.x,y:t.y}:i.getRelativePosition(t,e)}function r(t,e){var n,i,o,r,a;for(i=0,r=t.data.datasets.length;i<r;++i)if(t.isDatasetVisible(i))for(o=0,a=(n=t.getDatasetMeta(i)).data.length;o<a;++o){var s=n.data[o];s._view.skip||e(s)}}function a(t,e){var n=[];return r(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function s(t,e,n,i){var o=Number.POSITIVE_INFINITY,a=[];return r(t,function(t){if(!n||t.inRange(e.x,e.y)){var r=t.getCenterPoint(),s=i(e,r);s<o?(a=[t],o=s):s===o&&a.push(t)}}),a}function l(t){var e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){var o=e?Math.abs(t.x-i.x):0,r=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function u(t,e,n){var i=o(e,t);n.axis=n.axis||"x";var r=l(n.axis),u=n.intersect?a(t,i):s(t,i,!1,r),d=[];return u.length?(t.data.datasets.forEach(function(e,n){if(t.isDatasetVisible(n)){var i=t.getDatasetMeta(n).data[u[0]._index];i&&!i._view.skip&&d.push(i)}}),d):[]}t.exports={modes:{single:function(t,e){var n=o(e,t),i=[];return r(t,function(t){if(t.inRange(n.x,n.y))return i.push(t),i}),i.slice(0,1)},label:u,index:u,dataset:function(t,e,n){var i=o(e,t);n.axis=n.axis||"xy";var r=l(n.axis),u=n.intersect?a(t,i):s(t,i,!1,r);return u.length>0&&(u=t.getDatasetMeta(u[0]._datasetIndex).data),u},"x-axis":function(t,e){return u(t,e,{intersect:!1})},point:function(t,e){return a(t,o(e,t))},nearest:function(t,e,n){var i=o(e,t);n.axis=n.axis||"xy";var r=l(n.axis),a=s(t,i,n.intersect,r);return a.length>1&&a.sort(function(t,e){var n=t.getArea()-e.getArea();return 0===n&&(n=t._datasetIndex-e._datasetIndex),n}),a.slice(0,1)},x:function(t,e,n){var i=o(e,t),a=[],s=!1;return r(t,function(t){t.inXRange(i.x)&&a.push(t),t.inRange(i.x,i.y)&&(s=!0)}),n.intersect&&!s&&(a=[]),a},y:function(t,e,n){var i=o(e,t),a=[],s=!1;return r(t,function(t){t.inYRange(i.y)&&a.push(t),t.inRange(i.x,i.y)&&(s=!0)}),n.intersect&&!s&&(a=[]),a}}}},function(t,e,n){"use strict";var i=n(1),o=n(184),r=n(185),a=r._enabled?r:o;t.exports=i.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},a)},function(t,e,n){"use strict";var i=n(3),o=n(1);i._set("global",{plugins:{}}),t.exports={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,o,r,a,s,l=this.descriptors(t),u=l.length;for(i=0;i<u;++i)if("function"==typeof(s=(r=(o=l[i]).plugin)[e])&&((a=[t].concat(n||[])).push(o.options),!1===s.apply(r,a)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],r=[],a=t&&t.config||{},s=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(t){if(-1===n.indexOf(t)){var e=t.id,a=s[e];!1!==a&&(!0===a&&(a=o.clone(i.global.plugins[e])),n.push(t),r.push({plugin:t,options:a||{}}))}}),e.descriptors=r,e.id=this._cacheId,r},_invalidate:function(t){delete t.$plugins}}},function(t,e,n){"use strict";var i=n(3),o=n(5),r=n(1);i._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:r.noop,title:function(t,e){var n="",i=e.labels,o=i?i.length:0;if(t.length>0){var r=t[0];r.xLabel?n=r.xLabel:o>0&&r.index<o&&(n=i[r.index])}return n},afterTitle:r.noop,beforeBody:r.noop,beforeLabel:r.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),n+=t.yLabel},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:r.noop,afterBody:r.noop,beforeFooter:r.noop,footer:r.noop,afterFooter:r.noop}}});var a={average:function(t){if(!t.length)return!1;var e,n,i=0,o=0,r=0;for(e=0,n=t.length;e<n;++e){var a=t[e];if(a&&a.hasValue()){var s=a.tooltipPosition();i+=s.x,o+=s.y,++r}}return{x:Math.round(i/r),y:Math.round(o/r)}},nearest:function(t,e){var n,i,o,a=e.x,s=e.y,l=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){var u=t[n];if(u&&u.hasValue()){var d=u.getCenterPoint(),c=r.distanceBetweenPoints(e,d);c<l&&(l=c,o=u)}}if(o){var h=o.tooltipPosition();a=h.x,s=h.y}return{x:a,y:s}}};function s(t,e){var n=r.color(t);return n.alpha(e*n.alpha()).rgbaString()}function l(t,e){return e&&(r.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function u(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function d(t){var e=i.global,n=r.valueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:n(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:n(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:n(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:n(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:n(t.titleFontStyle,e.defaultFontStyle),titleFontSize:n(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:n(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:n(t.footerFontStyle,e.defaultFontStyle),footerFontSize:n(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function c(t){return l([],u(t))}(t.exports=o.extend({initialize:function(){this._model=d(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,n=e.callbacks,i=n.beforeTitle.apply(t,arguments),o=n.title.apply(t,arguments),r=n.afterTitle.apply(t,arguments),a=[];return a=l(a,u(i)),a=l(a,u(o)),a=l(a,u(r))},getBeforeBody:function(){return c(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var n=this,i=n._options.callbacks,o=[];return r.each(t,function(t){var r={before:[],lines:[],after:[]};l(r.before,u(i.beforeLabel.call(n,t,e))),l(r.lines,i.label.call(n,t,e)),l(r.after,u(i.afterLabel.call(n,t,e))),o.push(r)}),o},getAfterBody:function(){return c(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,n=e.beforeFooter.apply(t,arguments),i=e.footer.apply(t,arguments),o=e.afterFooter.apply(t,arguments),r=[];return r=l(r,u(n)),r=l(r,u(i)),r=l(r,u(o))},update:function(t){var e,n,i,o,s,l,u,c=this,h=c._options,p=c._model,f=c._model=d(h),m=c._active,g=c._data,_={xAlign:p.xAlign,yAlign:p.yAlign},y={x:p.x,y:p.y},v={width:p.width,height:p.height},b={x:p.caretX,y:p.caretY};if(m.length){f.opacity=1;var w=[],M=[];b=a[h.position].call(c,m,c._eventPosition);var x=[];for(e=0,n=m.length;e<n;++e)x.push((i=m[e],o=void 0,s=void 0,l=void 0,u=void 0,o=i._xScale,s=i._yScale||i._scale,l=i._index,u=i._datasetIndex,{xLabel:o?o.getLabelForIndex(l,u):"",yLabel:s?s.getLabelForIndex(l,u):"",index:l,datasetIndex:u,x:i._model.x,y:i._model.y}));h.filter&&(x=x.filter(function(t){return h.filter(t,g)})),h.itemSort&&(x=x.sort(function(t,e){return h.itemSort(t,e,g)})),r.each(x,function(t){w.push(h.callbacks.labelColor.call(c,t,c._chart)),M.push(h.callbacks.labelTextColor.call(c,t,c._chart))}),f.title=c.getTitle(x,g),f.beforeBody=c.getBeforeBody(x,g),f.body=c.getBody(x,g),f.afterBody=c.getAfterBody(x,g),f.footer=c.getFooter(x,g),f.x=Math.round(b.x),f.y=Math.round(b.y),f.caretPadding=h.caretPadding,f.labelColors=w,f.labelTextColors=M,f.dataPoints=x,v=function(t,e){var n=t._chart.ctx,i=2*e.yPadding,o=0,a=e.body,s=a.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);s+=e.beforeBody.length+e.afterBody.length;var l=e.title.length,u=e.footer.length,d=e.titleFontSize,c=e.bodyFontSize,h=e.footerFontSize;i+=l*d,i+=l?(l-1)*e.titleSpacing:0,i+=l?e.titleMarginBottom:0,i+=s*c,i+=s?(s-1)*e.bodySpacing:0,i+=u?e.footerMarginTop:0,i+=u*h,i+=u?(u-1)*e.footerSpacing:0;var p=0,f=function(t){o=Math.max(o,n.measureText(t).width+p)};return n.font=r.fontString(d,e._titleFontStyle,e._titleFontFamily),r.each(e.title,f),n.font=r.fontString(c,e._bodyFontStyle,e._bodyFontFamily),r.each(e.beforeBody.concat(e.afterBody),f),p=e.displayColors?c+2:0,r.each(a,function(t){r.each(t.before,f),r.each(t.lines,f),r.each(t.after,f)}),p=0,n.font=r.fontString(h,e._footerFontStyle,e._footerFontFamily),r.each(e.footer,f),{width:o+=2*e.xPadding,height:i}}(this,f),y=function(t,e,n,i){var o=t.x,r=t.y,a=t.caretSize,s=t.caretPadding,l=t.cornerRadius,u=n.xAlign,d=n.yAlign,c=a+s,h=l+s;return"right"===u?o-=e.width:"center"===u&&((o-=e.width/2)+e.width>i.width&&(o=i.width-e.width),o<0&&(o=0)),"top"===d?r+=c:r-="bottom"===d?e.height+c:e.height/2,"center"===d?"left"===u?o+=c:"right"===u&&(o-=c):"left"===u?o-=h:"right"===u&&(o+=h),{x:o,y:r}}(f,v,_=function(t,e){var n,i,o,r,a,s=t._model,l=t._chart,u=t._chart.chartArea,d="center",c="center";s.y<e.height?c="top":s.y>l.height-e.height&&(c="bottom");var h=(u.left+u.right)/2,p=(u.top+u.bottom)/2;"center"===c?(n=function(t){return t<=h},i=function(t){return t>h}):(n=function(t){return t<=e.width/2},i=function(t){return t>=l.width-e.width/2}),o=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},r=function(t){return t-e.width-s.caretSize-s.caretPadding<0},a=function(t){return t<=p?"top":"bottom"},n(s.x)?(d="left",o(s.x)&&(d="center",c=a(s.y))):i(s.x)&&(d="right",r(s.x)&&(d="center",c=a(s.y)));var f=t._options;return{xAlign:f.xAlign?f.xAlign:d,yAlign:f.yAlign?f.yAlign:c}}(this,v),c._chart)}else f.opacity=0;return f.xAlign=_.xAlign,f.yAlign=_.yAlign,f.x=y.x,f.y=y.y,f.width=v.width,f.height=v.height,f.caretX=b.x,f.caretY=b.y,c._model=f,t&&h.custom&&h.custom.call(c,f),c},drawCaret:function(t,e){var n=this._chart.ctx,i=this._view,o=this.getCaretPosition(t,e,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)},getCaretPosition:function(t,e,n){var i,o,r,a,s,l,u=n.caretSize,d=n.cornerRadius,c=n.xAlign,h=n.yAlign,p=t.x,f=t.y,m=e.width,g=e.height;if("center"===h)s=f+g/2,"left"===c?(o=(i=p)-u,r=i,a=s+u,l=s-u):(o=(i=p+m)+u,r=i,a=s-u,l=s+u);else if("left"===c?(i=(o=p+d+u)-u,r=o+u):"right"===c?(i=(o=p+m-d-u)-u,r=o+u):(i=(o=n.caretX)-u,r=o+u),"top"===h)s=(a=f)-u,l=a;else{s=(a=f+g)+u,l=a;var _=r;r=i,i=_}return{x1:i,x2:o,x3:r,y1:a,y2:s,y3:l}},drawTitle:function(t,e,n,i){var o=e.title;if(o.length){n.textAlign=e._titleAlign,n.textBaseline="top";var a,l,u=e.titleFontSize,d=e.titleSpacing;for(n.fillStyle=s(e.titleFontColor,i),n.font=r.fontString(u,e._titleFontStyle,e._titleFontFamily),a=0,l=o.length;a<l;++a)n.fillText(o[a],t.x,t.y),t.y+=u+d,a+1===o.length&&(t.y+=e.titleMarginBottom-d)}},drawBody:function(t,e,n,i){var o=e.bodyFontSize,a=e.bodySpacing,l=e.body;n.textAlign=e._bodyAlign,n.textBaseline="top",n.font=r.fontString(o,e._bodyFontStyle,e._bodyFontFamily);var u=0,d=function(e){n.fillText(e,t.x+u,t.y),t.y+=o+a};n.fillStyle=s(e.bodyFontColor,i),r.each(e.beforeBody,d);var c=e.displayColors;u=c?o+2:0,r.each(l,function(a,l){var u=s(e.labelTextColors[l],i);n.fillStyle=u,r.each(a.before,d),r.each(a.lines,function(r){c&&(n.fillStyle=s(e.legendColorBackground,i),n.fillRect(t.x,t.y,o,o),n.lineWidth=1,n.strokeStyle=s(e.labelColors[l].borderColor,i),n.strokeRect(t.x,t.y,o,o),n.fillStyle=s(e.labelColors[l].backgroundColor,i),n.fillRect(t.x+1,t.y+1,o-2,o-2),n.fillStyle=u),d(r)}),r.each(a.after,d)}),u=0,r.each(e.afterBody,d),t.y-=a},drawFooter:function(t,e,n,i){var o=e.footer;o.length&&(t.y+=e.footerMarginTop,n.textAlign=e._footerAlign,n.textBaseline="top",n.fillStyle=s(e.footerFontColor,i),n.font=r.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),r.each(o,function(i){n.fillText(i,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing}))},drawBackground:function(t,e,n,i,o){n.fillStyle=s(e.backgroundColor,o),n.strokeStyle=s(e.borderColor,o),n.lineWidth=e.borderWidth;var r=e.xAlign,a=e.yAlign,l=t.x,u=t.y,d=i.width,c=i.height,h=e.cornerRadius;n.beginPath(),n.moveTo(l+h,u),"top"===a&&this.drawCaret(t,i),n.lineTo(l+d-h,u),n.quadraticCurveTo(l+d,u,l+d,u+h),"center"===a&&"right"===r&&this.drawCaret(t,i),n.lineTo(l+d,u+c-h),n.quadraticCurveTo(l+d,u+c,l+d-h,u+c),"bottom"===a&&this.drawCaret(t,i),n.lineTo(l+h,u+c),n.quadraticCurveTo(l,u+c,l,u+c-h),"center"===a&&"left"===r&&this.drawCaret(t,i),n.lineTo(l,u+h),n.quadraticCurveTo(l,u,l+h,u),n.closePath(),n.fill(),e.borderWidth>0&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},o=Math.abs(e.opacity<.001)?0:e.opacity,r=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&r&&(this.drawBackground(i,e,t,n,o),i.x+=e.xPadding,i.y+=e.yPadding,this.drawTitle(i,e,t,o),this.drawBody(i,e,t,o),this.drawFooter(i,e,t,o))}},handleEvent:function(t){var e,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===t.type?n._active=[]:n._active=n._chart.getElementsAtEventForMode(t,i.mode,i),(e=!r.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:t.x,y:t.y},n.update(!0),n.pivot())),e}})).positioners=a},function(t,e,n){!function(t){"use strict";t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},i=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},o={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(t){return function(e,n,r,a){var s=i(e),l=o[t][i(e)];return 2===s&&(l=l[n?0:1]),l.replace(/%d/i,e)}},a=["","","","","","","","","","","",""];t.defineLocale("ar",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]}).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},o=function(t){return function(e,o,r,a){var s=n(e),l=i[t][n(e)];return 2===s&&(l=l[o?0:1]),l.replace(/%d/i,e)}},r=["","","","","","","","","","","",""];t.defineLocale("ar-ly",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:o("s"),ss:o("s"),m:o("m"),mm:o("m"),h:o("h"),hh:o("h"),d:o("d"),dd:o("d"),M:o("M"),MM:o("M"),y:o("y"),yy:o("y")},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]}).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"")},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(t){return/^(gndz|axam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec":t<12?"shr":t<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(t){if(0===t)return t+"-nc";var n=t%10;return t+(e[n]||e[t%100-n]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var i,o;return"m"===n?e?"":"":"h"===n?e?"":"":t+" "+(i=+t,o={ss:e?"__":"__",mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),i%10==1&&i%100!=11?o[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?o[1]:o[2])}t.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:e,mm:e,h:e,hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-":t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){return t+" "+function(t,e){return 2===e?function(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}(t):t}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],t)}t.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:function(t){switch(function t(e){return e>9?t(e%10):e}(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(t){return t+(1===t?"a":"vet")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var i=t+" ";switch(n){case"ss":return i+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return i+=1===t?"dan":"dana";case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return i+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");function i(t){return t>1&&t<5&&1!=~~(t/10)}function o(t,e,n,o){var r=t+" ";switch(n){case"s":return e||o?"pr sekund":"pr sekundami";case"ss":return e||o?r+(i(t)?"sekundy":"sekund"):r+"sekundami";case"m":return e?"minuta":o?"minutu":"minutou";case"mm":return e||o?r+(i(t)?"minuty":"minut"):r+"minutami";case"h":return e?"hodina":o?"hodinu":"hodinou";case"hh":return e||o?r+(i(t)?"hodiny":"hodin"):r+"hodinami";case"d":return e||o?"den":"dnem";case"dd":return e||o?r+(i(t)?"dny":"dn"):r+"dny";case"M":return e||o?"msc":"mscem";case"MM":return e||o?r+(i(t)?"msce":"msc"):r+"msci";case"y":return e||o?"rok":"rokem";case"yy":return e||o?r+(i(t)?"roky":"let"):r+"lety"}}t.defineLocale("cs",{months:e,monthsShort:n,monthsParse:function(t,e){var n,i=[];for(n=0;n<12;n++)i[n]=new RegExp("^"+t[n]+"$|^"+e[n]+"$","i");return i}(e,n),shortMonthsParse:function(t){var e,n=[];for(e=0;e<12;e++)n[e]=new RegExp("^"+t[e]+"$","i");return n}(n),longMonthsParse:function(t){var e,n=[];for(e=0;e<12;e++)n[e]=new RegExp("^"+t[e]+"$","i");return n}(e),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(t){return t+(/$/i.exec(t)?"":/$/i.exec(t)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return t>20?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?o[n][0]:o[n][1]}t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?o[n][0]:o[n][1]}t.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var o={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?o[n][0]:o[n][1]}t.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("dv",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:7,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(t,e,n){return t>11?n?"":"":n?"":""},isPM:function(t){return""===(t+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,e){var n,i=this._calendarEl[t],o=e&&e.hours();return((n=i)instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(i=i.apply(e)),i.replace("{}",o%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return t>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),i=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],o=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var o={s:["mne sekundi","mni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["he minuti","ks minut"],mm:[t+" minuti",t+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[t+" tunni",t+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[t+" kuu",t+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[t+" aasta",t+" aastat"]};return e?o[n][2]?o[n][2]:o[n][1]:i?o[n][0]:o[n][1]}t.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d peva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(t){return/  /.test(t)},meridiem:function(t,e,n){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[-]/g,function(t){return n[t]}).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",e[7],e[8],e[9]];function i(t,i,o,r){var a="";switch(o){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":return r?"sekunnin":"sekuntia";case"m":return r?"minuutin":"minuutti";case"mm":a=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":a=r?"tunnin":"tuntia";break;case"d":return r?"pivn":"piv";case"dd":a=r?"pivn":"piv";break;case"M":return r?"kuukauden":"kuukausi";case"MM":a=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":a=r?"vuoden":"vuotta"}return a=function(t,i){return t<10?i?n[t]:e[t]:t}(t,r)+" "+a}t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var o={s:["thodde secondanim","thodde second"],ss:[t+" secondanim",t+" second"],m:["eka mintan","ek minute"],mm:[t+" mintanim",t+" mintam"],h:["eka horan","ek hor"],hh:[t+" horanim",t+" horam"],d:["eka disan","ek dis"],dd:[t+" disanim",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineanim",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsanim",t+" vorsam"]};return e?o[n][0]:o[n][1]}t.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokalli"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"rati":t<12?"sokalli":t<16?"donparam":t<20?"sanje":"rati"}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(t){return 2===t?"":t+" "},d:"",dd:function(t){return 2===t?"":t+" "},M:"",MM:function(t){return 2===t?"":t+" "},y:"",yy:function(t){return 2===t?"":t%10==0&&10!==t?t+" ":t+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(t){return/^("| |)$/.test(t)},meridiem:function(t,e,n){return t<5?" ":t<10?"":t<12?n?'"':" ":t<18?n?'"':" ":""}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var i=t+" ";switch(n){case"ss":return i+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return i+=1===t?"dan":"dana";case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return i+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}t.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(t,e,n,i){var o=t;switch(n){case"s":return i||e?"nhny msodperc":"nhny msodperce";case"ss":return o+(i||e)?" msodperc":" msodperce";case"m":return"egy"+(i||e?" perc":" perce");case"mm":return o+(i||e?" perc":" perce");case"h":return"egy"+(i||e?" ra":" rja");case"hh":return o+(i||e?" ra":" rja");case"d":return"egy"+(i||e?" nap":" napja");case"dd":return o+(i||e?" nap":" napja");case"M":return"egy"+(i||e?" hnap":" hnapja");case"MM":return o+(i||e?" hnap":" hnapja");case"y":return"egy"+(i||e?" v":" ve");case"yy":return o+(i||e?" v":" ve")}return""}function i(t){return(t?"":"[mlt] ")+"["+e[this.day()]+"] LT[-kor]"}t.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return i.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return i.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-":t+"-";default:return t}},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t){return t%100==11||t%10!=1}function n(t,n,i,o){var r=t+" ";switch(i){case"s":return n||o?"nokkrar sekndur":"nokkrum sekndum";case"ss":return e(t)?r+(n||o?"sekndur":"sekndum"):r+"seknda";case"m":return n?"mnta":"mntu";case"mm":return e(t)?r+(n||o?"mntur":"mntum"):n?r+"mnta":r+"mntu";case"hh":return e(t)?r+(n||o?"klukkustundir":"klukkustundum"):r+"klukkustund";case"d":return n?"dagur":o?"dag":"degi";case"dd":return e(t)?n?r+"dagar":r+(o?"daga":"dgum"):n?r+"dagur":r+(o?"dag":"degi");case"M":return n?"mnuur":o?"mnu":"mnui";case"MM":return e(t)?n?r+"mnuir":r+(o?"mnui":"mnuum"):n?r+"mnuur":r+(o?"mnu":"mnui");case"y":return n||o?"r":"ri";case"yy":return e(t)?r+(n||o?"r":"rum"):r+(n||o?"r":"ri")}}t.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(t){return t.week()<this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(t){return this.week()<t.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(t){return/(|||)/.test(t)?t.replace(/$/,""):t+""},past:function(t){return/(||||)/.test(t)?t.replace(/(|)$/," ")://.test(t)?t.replace(/$/," "):void 0},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(t){return 0===t?t:1===t?t+"-":t<20||t<=100&&t%20==0||t%100==0?"-"+t:t+"-"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t){return t+""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var o={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?o[n][0]:o[n][1]}function n(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return n(0===e?t/10:e)}if(t<1e4){for(;t>=10;)t/=10;return n(t)}return n(t/=1e3)}t.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(t){return n(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return n(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d Mint",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(t){return""+t}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(t,e,n,i){return e?o(n)[0]:i?o(n)[1]:o(n)[2]}function i(t){return t%10==0||t>10&&t<20}function o(t){return e[t].split("_")}function r(t,e,r,a){var s=t+" ";return 1===t?s+n(0,e,r[0],a):e?s+(i(t)?o(r)[1]:o(r)[0]):a?s+o(r)[1]:s+(i(t)?o(r)[1]:o(r)[2])}t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(t,e,n,i){return e?"kelios sekunds":i?"keli sekundi":"kelias sekundes"},ss:r,m:n,mm:r,h:n,hh:r,d:n,dd:r,M:n,MM:r,y:n,yy:r},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(t,e,n){return n?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function i(t,i,o){return t+" "+n(e[o],t,i)}function o(t,i,o){return n(e[o],t,i)}t.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(t,e){return e?"daas sekundes":"dam sekundm"},ss:i,m:o,mm:i,h:o,hh:i,d:o,dd:i,M:o,MM:i,y:o,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,i){var o=e.words[i];return 1===i.length?n?o[0]:o[1]:t+" "+e.correctGrammaticalCase(t,o)}};t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||" "===e||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?" ":t<20?"":""}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){switch(n){case"s":return e?" ":" ";case"ss":return t+(e?" ":" ");case"m":case"mm":return t+(e?" ":" ");case"h":case"hh":return t+(e?" ":" ");case"d":case"dd":return t+(e?" ":" ");case"M":case"MM":return t+(e?" ":" ");case"y":case"yy":return t+(e?" ":" ");default:return t}}t.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" ";default:return t}}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function i(t,e,n,i){var o="";if(e)switch(n){case"s":o=" ";break;case"ss":o="%d ";break;case"m":o=" ";break;case"mm":o="%d ";break;case"h":o=" ";break;case"hh":o="%d ";break;case"d":o=" ";break;case"dd":o="%d ";break;case"M":o=" ";break;case"MM":o="%d ";break;case"y":o=" ";break;case"yy":o="%d "}else switch(n){case"s":o=" ";break;case"ss":o="%d ";break;case"m":o=" ";break;case"mm":o="%d ";break;case"h":o=" ";break;case"hh":o="%d ";break;case"d":o=" ";break;case"dd":o="%d ";break;case"M":o=" ";break;case"MM":o="%d ";break;case"y":o=" ";break;case"yy":o="%d "}return o.replace(/%d/i,t)}t.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"":t<12?"":t<16?"":t<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],o=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),i=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],o=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,i){return t?/-MMM-/.test(i)?n[t.month()]:e[t.month()]:e},monthsRegex:o,monthsShortRegex:o,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:i,longMonthsParse:i,shortMonthsParse:i,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function i(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function o(t,e,n){var o=t+" ";switch(n){case"ss":return o+(i(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut";case"mm":return o+(i(t)?"minuty":"minut");case"h":return e?"godzina":"godzin";case"hh":return o+(i(t)?"godziny":"godzin");case"MM":return o+(i(t)?"miesice":"miesicy");case"yy":return o+(i(t)?"lata":"lat")}}t.defineLocale("pl",{months:function(t,i){return t?""===i?"("+n[t.month()]+"|"+e[t.month()]+")":/D MMMM/.test(i)?n[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:o,m:o,mm:o,h:o,hh:o,d:"1 dzie",dd:"%d dni",M:"miesic",MM:o,y:"rok",yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var i=" ";return(t%100>=20||t>=100&&t%100==0)&&(i=" de "),t+i+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:e,m:"un minut",mm:e,h:"o or",hh:e,d:"o zi",dd:e,M:"o lun",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var i,o;return"m"===n?e?"":"":t+" "+(i=+t,o={ss:e?"__":"__",mm:e?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),i%10==1&&i%100!=11?o[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?o[1]:o[2])}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:e,m:e,mm:e,h:"",hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("sd",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t){return t+" "},meridiemParse:/ | |.|../,isPM:function(t){return".."===t||" "===t},meridiem:function(t,e,n){return t>11?n?"..":" ":n?"..":" "}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function i(t){return t>1&&t<5}function o(t,e,n,o){var r=t+" ";switch(n){case"s":return e||o?"pr seknd":"pr sekundami";case"ss":return e||o?r+(i(t)?"sekundy":"seknd"):r+"sekundami";case"m":return e?"minta":o?"mintu":"mintou";case"mm":return e||o?r+(i(t)?"minty":"mint"):r+"mintami";case"h":return e?"hodina":o?"hodinu":"hodinou";case"hh":return e||o?r+(i(t)?"hodiny":"hodn"):r+"hodinami";case"d":return e||o?"de":"dom";case"dd":return e||o?r+(i(t)?"dni":"dn"):r+"dami";case"M":return e||o?"mesiac":"mesiacom";case"MM":return e||o?r+(i(t)?"mesiace":"mesiacov"):r+"mesiacmi";case"y":return e||o?"rok":"rokom";case"yy":return e||o?r+(i(t)?"roky":"rokov"):r+"rokmi"}}t.defineLocale("sk",{months:e,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var o=t+" ";switch(n){case"s":return e||i?"nekaj sekund":"nekaj sekundami";case"ss":return o+=1===t?e?"sekundo":"sekundi":2===t?e||i?"sekundi":"sekundah":t<5?e||i?"sekunde":"sekundah":"sekund";case"m":return e?"ena minuta":"eno minuto";case"mm":return o+=1===t?e?"minuta":"minuto":2===t?e||i?"minuti":"minutama":t<5?e||i?"minute":"minutami":e||i?"minut":"minutami";case"h":return e?"ena ura":"eno uro";case"hh":return o+=1===t?e?"ura":"uro":2===t?e||i?"uri":"urama":t<5?e||i?"ure":"urami":e||i?"ur":"urami";case"d":return e||i?"en dan":"enim dnem";case"dd":return o+=1===t?e||i?"dan":"dnem":2===t?e||i?"dni":"dnevoma":e||i?"dni":"dnevi";case"M":return e||i?"en mesec":"enim mesecem";case"MM":return o+=1===t?e||i?"mesec":"mesecem":2===t?e||i?"meseca":"mesecema":t<5?e||i?"mesece":"meseci":e||i?"mesecev":"meseci";case"y":return e||i?"eno leto":"enim letom";case"yy":return o+=1===t?e||i?"leto":"letom":2===t?e||i?"leti":"letoma":t<5?e||i?"leta":"leti":e||i?"let":"leti"}}t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,i){var o=e.words[i];return 1===i.length?n?o[0]:o[1]:t+" "+e.correctGrammaticalCase(t,o)}};t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,i){var o=e.words[i];return 1===i.length?n?o[0]:o[1]:t+" "+e.correctGrammaticalCase(t,o)}};t.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"",dd:e.translate,M:"",MM:e.translate,y:"",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,n){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"e":1===e?"a":2===e?"a":"e")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};t.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t+""},preparse:function(t){return t.replace(/[]/g,function(t){return n[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return e[t]})},meridiemParse:/|||||/,meridiem:function(t,e,n){return t<2?" ":t<6?" ":t<10?" ":t<14?" ":t<18?" ":t<22?" ":" "},meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<2?t:t+12:""===e||""===e?t:""===e&&t>=10?t:t+12},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};t.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=11?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<11?"":t<16?"":t<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(t,n,i,o){var r=function(t){var n=Math.floor(t%1e3/100),i=Math.floor(t%100/10),o=t%10,r="";return n>0&&(r+=e[n]+"vatlh"),i>0&&(r+=(""!==r?" ":"")+e[i]+"maH"),o>0&&(r+=(""!==r?" ":"")+e[o]),""===r?"pagh":r}(t);switch(i){case"ss":return r+" lup";case"mm":return r+" tup";case"hh":return r+" rep";case"dd":return r+" jaj";case"MM":return r+" jar";case"yy":return r+" DIS"}}t.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"},past:function(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"},s:"puS lup",ss:n,m:"wa tup",mm:n,h:"wa rep",hh:n,d:"wa jaj",dd:n,M:"wa jar",MM:n,y:"wa DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'nc";var i=t%10;return t+(e[i]||e[t%100-i]||e[t>=100?100:null])}},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n,i){var o={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n mut","'iens mut"],mm:[t+" muts",t+" muts"],h:["'n ora","'iensa ora"],hh:[t+" oras",t+" oras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return i?o[n][0]:e?o[n][0]:o[n][1]}t.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,n){return t>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(t,e){return 12===t&&(t=0)," "===e||""===e||" "===e?t:" "===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var i=100*t+e;return i<600?" ":i<900?"":i<1130?" ":i<1230?"":i<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-";case"w":case"W":return t+"-";default:return t}},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";function e(t,e,n){var i,o;return"m"===n?e?"":"":"h"===n?e?"":"":t+" "+(i=+t,o={ss:e?"__":"__",mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),i%10==1&&i%100!=11?o[0]:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?o[1]:o[2])}function n(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(t,e){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return t?n[/(\[[]\]) ?dddd/.test(e)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:n.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:n("[ "),nextDay:n("[ "),lastDay:n("[ "),nextWeek:n("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[] dddd [").call(this);case 1:case 2:case 4:return n("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:e,m:e,mm:e,h:"",hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];t.defineLocale("ur",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(0))},function(t,e,n){!function(t){"use strict";t.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var i=100*t+e;return i<600?"":i<900?"":i<1130?"":i<1230?"":i<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(n(0))},function(t,n,i){var o,r,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};a=function(){"use strict";Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],o=0;o<n;){var r=e[o];if(t.call(i,r,o,e))return o;o++}return-1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],o=0;o<n;){var r=e[o];if(t.call(i,r,o,e))return r;o++}}});var t=function(t){this.table=t,this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.rowManager=null,this.columns=[],this.columnsByIndex=[],this.columnsByField=[],this.scrollLeft=0,this.element.insertBefore(this.headersElement,this.element.firstChild)};t.prototype.createHeadersElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-headers"),t},t.prototype.createHeaderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-header"),t},t.prototype.setRowManager=function(t){this.rowManager=t},t.prototype.getElement=function(){return this.element},t.prototype.getHeadersElement=function(){return this.headersElement},t.prototype.scrollHorizontal=function(t){var e=0,n=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=t,t>n?(e=t-n,this.element.style.marginLeft=-e+"px"):this.element.style.marginLeft=0,this.scrollLeft=t,this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()},t.prototype.setColumns=function(t,e){for(var n=this;n.headersElement.firstChild;)n.headersElement.removeChild(n.headersElement.firstChild);n.columns=[],n.columnsByIndex=[],n.columnsByField=[],n.table.modExists("frozenColumns")&&n.table.modules.frozenColumns.reset(),t.forEach(function(t,e){n._addColumn(t)}),n._reIndexColumns(),n.table.options.responsiveLayout&&n.table.modExists("responsiveLayout",!0)&&n.table.modules.responsiveLayout.initialize(),n.redraw(!0)},t.prototype._addColumn=function(t,e,n){var o=new i(t,this),r=o.getElement(),a=n?this.findColumnIndex(n):n;if(n&&a>-1){var s=this.columns.indexOf(n.getTopColumn()),l=n.getElement();e?(this.columns.splice(s,0,o),l.parentNode.insertBefore(r,l)):(this.columns.splice(s+1,0,o),l.parentNode.insertBefore(r,l.nextSibling))}else e?(this.columns.unshift(o),this.headersElement.insertBefore(o.getElement(),this.headersElement.firstChild)):(this.columns.push(o),this.headersElement.appendChild(o.getElement()));return o},t.prototype.registerColumnField=function(t){t.definition.field&&(this.columnsByField[t.definition.field]=t)},t.prototype.registerColumnPosition=function(t){this.columnsByIndex.push(t)},t.prototype._reIndexColumns=function(){this.columnsByIndex=[],this.columns.forEach(function(t){t.reRegisterPosition()})},t.prototype._verticalAlignHeaders=function(){var t=this,e=0;t.columns.forEach(function(t){var n;t.clearVerticalAlign(),(n=t.getHeight())>e&&(e=n)}),t.columns.forEach(function(n){n.verticalAlign(t.table.options.columnVertAlign,e)}),t.rowManager.adjustTableSize()},t.prototype.findColumn=function(t){return"object"!=(void 0===t?"undefined":s(t))?this.columnsByField[t]||!1:t instanceof i?t:t instanceof n?t._getSelf()||!1:t instanceof HTMLElement&&this.columns.find(function(e){return e.element===t})||!1},t.prototype.getColumnByField=function(t){return this.columnsByField[t]},t.prototype.getColumnByIndex=function(t){return this.columnsByIndex[t]},t.prototype.getColumns=function(){return this.columns},t.prototype.findColumnIndex=function(t){return this.columnsByIndex.findIndex(function(e){return t===e})},t.prototype.getRealColumns=function(){return this.columnsByIndex},t.prototype.traverse=function(t){this.columnsByIndex.forEach(function(e,n){t(e,n)})},t.prototype.getDefinitions=function(t){var e=[];return this.columnsByIndex.forEach(function(n){(!t||t&&n.visible)&&e.push(n.getDefinition())}),e},t.prototype.getDefinitionTree=function(){var t=[];return this.columns.forEach(function(e){t.push(e.getDefinition(!0))}),t},t.prototype.getComponents=function(t){var e=[];return(t?this.columns:this.columnsByIndex).forEach(function(t){e.push(t.getComponent())}),e},t.prototype.getWidth=function(){var t=0;return this.columnsByIndex.forEach(function(e){e.visible&&(t+=e.getWidth())}),t},t.prototype.moveColumn=function(t,e,n){this._moveColumnInArray(this.columns,t,e,n),this._moveColumnInArray(this.columnsByIndex,t,e,n,!0),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.options.columnMoved&&this.table.options.columnMoved.call(this.table,t.getComponent(),this.table.columnManager.getComponents()),this.table.options.persistentLayout&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("columns")},t.prototype._moveColumnInArray=function(t,e,n,i,o){var r,a=t.indexOf(e);a>-1&&(t.splice(a,1),(r=t.indexOf(n))>-1?i&&(r+=1):r=a,t.splice(r,0,e),o&&this.table.rowManager.rows.forEach(function(t){if(t.cells.length){var e=t.cells.splice(a,1)[0];t.cells.splice(r,0,e)}}))},t.prototype.scrollToColumn=function(t,e,n){var i=this,o=0,r=0,a=0,s=t.getElement();return new Promise(function(l,u){if(void 0===e&&(e=i.table.options.scrollToColumnPosition),void 0===n&&(n=i.table.options.scrollToColumnIfVisible),t.visible){switch(e){case"middle":case"center":a=-i.element.clientWidth/2;break;case"right":a=s.clientWidth-i.headersElement.clientWidth}if(!n&&(r=s.offsetLeft)>0&&r+s.offsetWidth<i.element.clientWidth)return!1;o=s.offsetLeft+i.element.scrollLeft+a,o=Math.max(Math.min(o,i.table.rowManager.element.scrollWidth-i.table.rowManager.element.clientWidth),0),i.table.rowManager.scrollHorizontal(o),i.scrollHorizontal(o),l()}else console.warn("Scroll Error - Column not visible"),u("Scroll Error - Column not visible")})},t.prototype.generateCells=function(t){var e=[];return this.columnsByIndex.forEach(function(n){e.push(n.generateCell(t))}),e},t.prototype.getFlexBaseWidth=function(){var t=this,e=t.table.element.clientWidth,n=0;return t.rowManager.element.scrollHeight>t.rowManager.element.clientHeight&&(e-=t.rowManager.element.offsetWidth-t.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(i){var o,r,a;i.visible&&(o=i.definition.width||0,r=void 0===i.minWidth?t.table.options.columnMinWidth:parseInt(i.minWidth),a="string"==typeof o?o.indexOf("%")>-1?e/100*parseInt(o):parseInt(o):o,n+=a>r?a:r)}),n},t.prototype.addColumn=function(t,e,n){var i=this._addColumn(t,e,n);this._reIndexColumns(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),this.redraw(),"fitColumns"!=this.table.modules.layout.getMode()&&i.reinitializeWidth(),this._verticalAlignHeaders(),this.table.rowManager.reinitialize()},t.prototype.deregisterColumn=function(t){var e,n=t.getField();n&&delete this.columnsByField[n],(e=this.columnsByIndex.indexOf(t))>-1&&this.columnsByIndex.splice(e,1),(e=this.columns.indexOf(t))>-1&&this.columns.splice(e,1),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.initialize(),this.redraw()},t.prototype.redraw=function(t){t&&(c.prototype.helpers.elVisible(this.element)&&this._verticalAlignHeaders(),this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),"fitColumns"==this.table.modules.layout.getMode()?this.table.modules.layout.layout():t?this.table.modules.layout.layout():this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows),t&&(this.table.options.persistentLayout&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("columns"),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.redraw()),this.table.footerManager.redraw()};var n=function(t){this._column=t,this.type="ColumnComponent"};n.prototype.getElement=function(){return this._column.getElement()},n.prototype.getDefinition=function(){return this._column.getDefinition()},n.prototype.getField=function(){return this._column.getField()},n.prototype.getCells=function(){var t=[];return this._column.cells.forEach(function(e){t.push(e.getComponent())}),t},n.prototype.getVisibility=function(){return this._column.visible},n.prototype.show=function(){this._column.isGroup?this._column.columns.forEach(function(t){t.show()}):this._column.show()},n.prototype.hide=function(){this._column.isGroup?this._column.columns.forEach(function(t){t.hide()}):this._column.hide()},n.prototype.toggle=function(){this._column.visible?this.hide():this.show()},n.prototype.delete=function(){this._column.delete()},n.prototype.getSubColumns=function(){var t=[];return this._column.columns.length&&this._column.columns.forEach(function(e){t.push(e.getComponent())}),t},n.prototype.getParentColumn=function(){return this._column.parent instanceof i&&this._column.parent.getComponent()},n.prototype._getSelf=function(){return this._column},n.prototype.scrollTo=function(){return this._column.table.columnManager.scrollToColumn(this._column)},n.prototype.getTable=function(){return this._column.table},n.prototype.headerFilterFocus=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterFocus(this._column)},n.prototype.reloadHeaderFilter=function(){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.reloadHeaderFilter(this._column)},n.prototype.setHeaderFilterValue=function(t){this._column.table.modExists("filter",!0)&&this._column.table.modules.filter.setHeaderFilterValue(this._column,t)};var i=function t(e,n){var i=this;this.table=n.table,this.definition=e,this.parent=n,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.setField(this.definition.field),this.modules={},this.cellEvents={cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1},this.width=null,this.minWidth=null,this.widthFixed=!1,this.visible=!0,e.columns?(this.isGroup=!0,e.columns.forEach(function(e,n){var o=new t(e,i);i.attachColumn(o)}),i.checkColumnVisibility()):n.registerColumnField(this),e.rowHandle&&!1!==this.table.options.movableRows&&this.table.modExists("moveRow")&&this.table.modules.moveRow.setHandle(!0),this._buildHeader()};i.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col"),t.setAttribute("role","columnheader"),t.setAttribute("aria-sort","none"),t},i.prototype.createGroupElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col-group-cols"),t},i.prototype.setField=function(t){this.field=t,this.fieldStructure=t?this.table.options.nestedFieldSeparator?t.split(this.table.options.nestedFieldSeparator):[t]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNesteData:this._setFlatData},i.prototype.registerColumnPosition=function(t){this.parent.registerColumnPosition(t)},i.prototype.registerColumnField=function(t){this.parent.registerColumnField(t)},i.prototype.reRegisterPosition=function(){this.isGroup?this.columns.forEach(function(t){t.reRegisterPosition()}):this.registerColumnPosition(this)},i.prototype.setTooltip=function(){var t=this,e=t.definition,n=e.headerTooltip||!1===e.tooltip?e.headerTooltip:t.table.options.tooltipsHeader;n?!0===n?e.field?t.table.modules.localize.bind("columns|"+e.field,function(n){t.element.setAttribute("title",n||e.title)}):t.element.setAttribute("title",e.title):("function"==typeof n&&!1===(n=n(t.getComponent()))&&(n=""),t.element.setAttribute("title",n)):t.element.setAttribute("title","")},i.prototype._buildHeader=function(){for(var t=this,e=t.definition;t.element.firstChild;)t.element.removeChild(t.element.firstChild);e.headerVertical&&(t.element.classList.add("tabulator-col-vertical"),"flip"===e.headerVertical&&t.element.classList.add("tabulator-col-vertical-flip")),t.contentElement=t._bindEvents(),t.contentElement=t._buildColumnHeaderContent(),t.element.appendChild(t.contentElement),t.isGroup?t._buildGroupHeader():t._buildColumnHeader(),t.setTooltip(),t.table.options.resizableColumns&&t.table.modExists("resizeColumns")&&t.table.modules.resizeColumns.initializeColumn("header",t,t.element),e.headerFilter&&t.table.modExists("filter")&&t.table.modExists("edit")&&(void 0!==e.headerFilterPlaceholder&&e.field&&t.table.modules.localize.setHeaderFilterColumnPlaceholder(e.field,e.headerFilterPlaceholder),t.table.modules.filter.initializeColumn(t)),t.table.modExists("frozenColumns")&&t.table.modules.frozenColumns.initializeColumn(t),t.table.options.movableColumns&&!t.isGroup&&t.table.modExists("moveColumn")&&t.table.modules.moveColumn.initializeColumn(t),(e.topCalc||e.bottomCalc)&&t.table.modExists("columnCalcs")&&t.table.modules.columnCalcs.initializeColumn(t),t.element.addEventListener("mouseenter",function(e){t.setTooltip()})},i.prototype._bindEvents=function(){var t,e,n,i=this,o=i.definition;"function"==typeof o.headerClick&&i.element.addEventListener("click",function(t){o.headerClick(t,i.getComponent())}),"function"==typeof o.headerDblClick&&i.element.addEventListener("dblclick",function(t){o.headerDblClick(t,i.getComponent())}),"function"==typeof o.headerContext&&i.element.addEventListener("contextmenu",function(t){o.headerContext(t,i.getComponent())}),"function"==typeof o.headerTap&&(n=!1,i.element.addEventListener("touchstart",function(t){n=!0}),i.element.addEventListener("touchend",function(t){n&&o.headerTap(t,i.getComponent()),n=!1})),"function"==typeof o.headerDblTap&&(t=null,i.element.addEventListener("touchend",function(e){t?(clearTimeout(t),t=null,o.headerDblTap(e,i.getComponent())):t=setTimeout(function(){clearTimeout(t),t=null},300)})),"function"==typeof o.headerTapHold&&(e=null,i.element.addEventListener("touchstart",function(t){clearTimeout(e),e=setTimeout(function(){clearTimeout(e),e=null,n=!1,o.headerTapHold(t,i.getComponent())},1e3)}),i.element.addEventListener("touchend",function(t){clearTimeout(e),e=null})),"function"==typeof o.cellClick&&(i.cellEvents.cellClick=o.cellClick),"function"==typeof o.cellDblClick&&(i.cellEvents.cellDblClick=o.cellDblClick),"function"==typeof o.cellContext&&(i.cellEvents.cellContext=o.cellContext),"function"==typeof o.cellTap&&(i.cellEvents.cellTap=o.cellTap),"function"==typeof o.cellDblTap&&(i.cellEvents.cellDblTap=o.cellDblTap),"function"==typeof o.cellTapHold&&(i.cellEvents.cellTapHold=o.cellTapHold),"function"==typeof o.cellEdited&&(i.cellEvents.cellEdited=o.cellEdited),"function"==typeof o.cellEditing&&(i.cellEvents.cellEditing=o.cellEditing),"function"==typeof o.cellEditCancelled&&(i.cellEvents.cellEditCancelled=o.cellEditCancelled)},i.prototype._buildColumnHeader=function(){var t=this,e=t.definition,n=t.table;n.modExists("sort")&&n.modules.sort.initializeColumn(t,t.contentElement),n.modExists("format")&&n.modules.format.initializeColumn(t),void 0!==e.editor&&n.modExists("edit")&&n.modules.edit.initializeColumn(t),void 0!==e.validator&&n.modExists("validate")&&n.modules.validate.initializeColumn(t),n.modExists("mutator")&&n.modules.mutator.initializeColumn(t),n.modExists("accessor")&&n.modules.accessor.initializeColumn(t),s(n.options.responsiveLayout)&&n.modExists("responsiveLayout")&&n.modules.responsiveLayout.initializeColumn(t),void 0!==e.visible&&(e.visible?t.show(!0):t.hide(!0)),e.cssClass&&e.cssClass.split(" ").forEach(function(e){t.element.classList.add(e)}),e.field&&this.element.setAttribute("tabulator-field",e.field),t.setMinWidth(void 0===e.minWidth?t.table.options.columnMinWidth:e.minWidth),t.reinitializeWidth(),t.tooltip=t.definition.tooltip||!1===t.definition.tooltip?t.definition.tooltip:t.table.options.tooltips,t.hozAlign=void 0===t.definition.align?"":t.definition.align},i.prototype._buildColumnHeaderContent=function(){this.definition,this.table;var t=document.createElement("div");return t.classList.add("tabulator-col-content"),t.appendChild(this._buildColumnHeaderTitle()),t},i.prototype._buildColumnHeaderTitle=function(){var t=this,e=t.definition,n=t.table,i=document.createElement("div");if(i.classList.add("tabulator-col-title"),e.editableTitle){var o=document.createElement("input");o.classList.add("tabulator-title-editor"),o.addEventListener("click",function(t){t.stopPropagation(),o.focus()}),o.addEventListener("change",function(){e.title=o.value,n.options.columnTitleChanged.call(t.table,t.getComponent())}),i.appendChild(o),e.field?n.modules.localize.bind("columns|"+e.field,function(t){o.value=t||e.title||"&nbsp"}):o.value=e.title||"&nbsp"}else e.field?n.modules.localize.bind("columns|"+e.field,function(n){t._formatColumnHeaderTitle(i,n||e.title||"&nbsp")}):t._formatColumnHeaderTitle(i,e.title||"&nbsp");return i},i.prototype._formatColumnHeaderTitle=function(t,e){var n,i,o,r;if(this.definition.titleFormatter&&this.table.modExists("format"))switch(n=this.table.modules.format.getFormatter(this.definition.titleFormatter),r={getValue:function(){return e},getElement:function(){return t}},o="function"==typeof(o=this.definition.titleFormatterParams||{})?o():o,void 0===(i=n.call(this.table.modules.format,r,o))?"undefined":s(i)){case"object":i instanceof Node?this.element.appendChild(i):(this.element.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",i));break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=i}else t.innerHTML=e},i.prototype._buildGroupHeader=function(){this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.element.appendChild(this.groupElement)},i.prototype._getFlatData=function(t){return t[this.field]},i.prototype._getNestedData=function(t){for(var e,n=t,i=this.fieldStructure,o=i.length,r=0;r<o&&(e=n=n[i[r]],n);r++);return e},i.prototype._setFlatData=function(t,e){this.field&&(t[this.field]=e)},i.prototype._setNesteData=function(t,e){for(var n=t,i=this.fieldStructure,o=i.length,r=0;r<o;r++)r==o-1?n[i[r]]=e:(n[i[r]]||(n[i[r]]={}),n=n[i[r]])},i.prototype.attachColumn=function(t){this.groupElement?(this.columns.push(t),this.groupElement.appendChild(t.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")},i.prototype.verticalAlign=function(t,e){var n=this.parent.isGroup?this.parent.getGroupElement().clientHeight:e||this.parent.getHeadersElement().clientHeight;this.element.style.height=n+"px",this.isGroup&&(this.groupElement.style.minHeight=n-this.contentElement.offsetHeight+"px"),this.isGroup||"top"===t||(this.element.style.paddingTop="bottom"===t?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach(function(e){e.verticalAlign(t)})},i.prototype.clearVerticalAlign=function(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(t){t.clearVerticalAlign()})},i.prototype.getElement=function(){return this.element},i.prototype.getGroupElement=function(){return this.groupElement},i.prototype.getField=function(){return this.field},i.prototype.getFirstColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this},i.prototype.getLastColumn=function(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this},i.prototype.getColumns=function(){return this.columns},i.prototype.getCells=function(){return this.cells},i.prototype.getTopColumn=function(){return this.parent.isGroup?this.parent.getTopColumn():this},i.prototype.getDefinition=function(t){var e=[];return this.isGroup&&t&&(this.columns.forEach(function(t){e.push(t.getDefinition(!0))}),this.definition.columns=e),this.definition},i.prototype.checkColumnVisibility=function(){var t=!1;this.columns.forEach(function(e){e.visible&&(t=!0)}),t?(this.show(),this.parent.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1)):this.hide()},i.prototype.show=function(t,e){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(t){t.show()}),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager._verticalAlignHeaders(),this.table.options.persistentLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!0))},i.prototype.hide=function(t,e){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager._verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(t){t.hide()}),this.table.options.persistentLayout&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("columns"),!e&&this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.updateColumnVisibility(this,this.visible),t||this.table.options.columnVisibilityChanged.call(this.table,this.getComponent(),!1))},i.prototype.matchChildWidths=function(){var t=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(e){t+=e.getWidth()}),this.contentElement.style.maxWidth=t-1+"px")},i.prototype.setWidth=function(t){this.widthFixed=!0,this.setWidthActual(t)},i.prototype.setWidthActual=function(t){isNaN(t)&&(t=Math.floor(this.table.element.clientWidth/100*parseInt(t))),t=Math.max(this.minWidth,t),this.width=t,this.element.style.width=t?t+"px":"",this.isGroup||this.cells.forEach(function(e){e.setWidth(t)}),this.parent.isGroup&&this.parent.matchChildWidths(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()},i.prototype.checkCellHeights=function(){var t=[];this.cells.forEach(function(e){e.row.heightInitialized&&(null!==e.row.getElement().offsetParent?(t.push(e.row),e.row.clearCellHeight()):e.row.heightInitialized=!1)}),t.forEach(function(t){t.calcHeight()}),t.forEach(function(t){t.setCellHeight()})},i.prototype.getWidth=function(){return this.width},i.prototype.getHeight=function(){return this.element.offsetHeight},i.prototype.setMinWidth=function(t){this.minWidth=t,this.element.style.minWidth=t?t+"px":"",this.cells.forEach(function(e){e.setMinWidth(t)})},i.prototype.delete=function(){this.isGroup&&this.columns.forEach(function(t){t.delete()});for(var t=this.cells.length,e=0;e<t;e++)this.cells[0].delete();this.element.parentNode.removeChild(this.element),this.table.columnManager.deregisterColumn(this)},i.prototype.generateCell=function(t){var e=new u(this,t);return this.cells.push(e),e},i.prototype.reinitializeWidth=function(t){this.widthFixed=!1,void 0===this.definition.width||t||this.setWidth(this.definition.width),this.table.modExists("filter")&&this.table.modules.filter.hideHeaderFilterElements(),this.fitToData(),this.table.modExists("filter")&&this.table.modules.filter.showHeaderFilterElements()},i.prototype.fitToData=function(){this.widthFixed||(this.element.style.width="",this.cells.forEach(function(t){t.setWidth("")}));var t=this.element.offsetWidth;this.width&&this.widthFixed||(this.cells.forEach(function(e){var n=e.getWidth();n>t&&(t=n)}),t&&this.setWidthActual(t+1))},i.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)},i.prototype.getComponent=function(){return new n(this)};var o=function(t){this.table=t,this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.columnManager=null,this.height=0,this.firstRender=!1,this.renderMode="classic",this.rows=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]};o.prototype.createHolderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-tableHolder"),t.setAttribute("tabindex",0),t},o.prototype.createTableElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-table"),t},o.prototype.getElement=function(){return this.element},o.prototype.getTableElement=function(){return this.tableElement},o.prototype.getRowPosition=function(t,e){return e?this.activeRows.indexOf(t):this.rows.indexOf(t)},o.prototype.setColumnManager=function(t){this.columnManager=t},o.prototype.initialize=function(){var t=this;t.setRenderMode(),t.element.appendChild(t.tableElement),t.firstRender=!0,t.element.addEventListener("scroll",function(){var e=t.element.scrollLeft;t.scrollLeft!=e&&(t.columnManager.scrollHorizontal(e),t.table.options.groupBy&&t.table.modules.groupRows.scrollHeaders(e),t.table.modExists("columnCalcs")&&t.table.modules.columnCalcs.scrollHorizontal(e)),t.scrollLeft=e}),"virtual"===this.renderMode&&t.element.addEventListener("scroll",function(){var e=t.element.scrollTop,n=t.scrollTop>e;t.scrollTop!=e?(t.scrollTop=e,t.scrollVertical(n),"scroll"==t.table.options.ajaxProgressiveLoad&&t.table.modules.ajax.nextPage(t.element.scrollHeight-t.element.clientHeight-e)):t.scrollTop=e})},o.prototype.findRow=function(t){var e=this;return"object"!=(void 0===t?"undefined":s(t))?null!=t&&(e.rows.find(function(n){return n.data[e.table.options.index]==t})||!1):t instanceof a?t:t instanceof r?t._getSelf()||!1:t instanceof HTMLElement&&e.rows.find(function(e){return e.element===t})||!1},o.prototype.getRowFromPosition=function(t,e){return e?this.activeRows[t]:this.rows[t]},o.prototype.scrollToRow=function(t,e,n){var i,o=this,r=this.getDisplayRows().indexOf(t),a=t.getElement(),s=0;return new Promise(function(t,l){if(r>-1){if(void 0===e&&(e=o.table.options.scrollToRowPosition),void 0===n&&(n=o.table.options.scrollToRowIfVisible),"nearest"===e)switch(o.renderMode){case"classic":i=c.prototype.helpers.elOffset(a).top,e=Math.abs(o.element.scrollTop-i)>Math.abs(o.element.scrollTop+o.element.clientHeight-i)?"bottom":"top";break;case"virtual":e=Math.abs(o.vDomTop-r)>Math.abs(o.vDomBottom-r)?"bottom":"top"}if(!n&&c.prototype.helpers.elVisible(a)&&(s=c.prototype.helpers.elOffset(a).top-c.prototype.helpers.elOffset(o.element).top)>0&&s<o.element.clientHeight-a.offsetHeight)return!1;switch(o.renderMode){case"classic":o.element.scrollTop=c.prototype.helpers.elOffset(a).top-c.prototype.helpers.elOffset(o.element).top+o.element.scrollTop;break;case"virtual":o._virtualRenderFill(r,!0)}switch(e){case"middle":case"center":o.element.scrollTop=o.element.scrollTop-o.element.clientHeight/2;break;case"bottom":o.element.scrollTop=o.element.scrollTop-o.element.clientHeight+a.offsetHeight}t()}else console.warn("Scroll Error - Row not visible"),l("Scroll Error - Row not visible")})},o.prototype.setData=function(t,e){var n=this,i=this;return new Promise(function(o,r){e&&n.getDisplayRows().length?i.table.options.pagination?i._setDataActual(t,!0):n.reRenderInPosition(function(){i._setDataActual(t)}):(n.resetScroll(),n._setDataActual(t)),o()})},o.prototype._setDataActual=function(t,e){var n=this;n.table.options.dataLoading.call(this.table,t),n.rows.forEach(function(t){t.wipe()}),n.rows=[],this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.clear(),Array.isArray(t)?(this.table.modExists("selectRow")&&this.table.modules.selectRow.clearSelectionData(),t.forEach(function(t,e){if(t&&"object"===(void 0===t?"undefined":s(t))){var i=new a(t,n);n.rows.push(i)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",t)}),n.table.options.dataLoaded.call(this.table,t),n.refreshActiveData(!1,!1,e)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",void 0===t?"undefined":s(t),"\nData:     ",t)},o.prototype.deleteRow=function(t){var e=this.rows.indexOf(t),n=this.activeRows.indexOf(t);n>-1&&this.activeRows.splice(n,1),e>-1&&this.rows.splice(e,1),this.setActiveRows(this.activeRows),this.displayRowIterator(function(e){var n=e.indexOf(t);n>-1&&e.splice(n,1)}),this.reRenderInPosition(),this.table.options.rowDeleted.call(this.table,t.getComponent()),this.table.options.dataEdited.call(this.table,this.getData()),this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.updateGroupRows(!0):this.table.options.pagination&&this.table.modExists("page")?this.refreshActiveData(!1,!1,!0):this.table.options.pagination&&this.table.modExists("page")&&this.refreshActiveData("page")},o.prototype.addRow=function(t,e,n,i){var o=this.addRowActual(t,e,n,i);return this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowAdd",o,{data:t,pos:e,index:n}),o},o.prototype.addRows=function(t,e,n){var i=this,o=this,r=[];return new Promise(function(a,s){e=i.findAddRowPos(e),Array.isArray(t)||(t=[t]),t.length,(void 0===n&&e||void 0!==n&&!e)&&t.reverse(),t.forEach(function(t,i){var a=o.addRow(t,e,n,!0);r.push(a)}),i.table.options.groupBy&&i.table.modExists("groupRows")?i.table.modules.groupRows.updateGroupRows(!0):i.table.options.pagination&&i.table.modExists("page")?i.refreshActiveData(!1,!1,!0):i.reRenderInPosition(),i.table.modExists("columnCalcs")&&i.table.modules.columnCalcs.recalc(i.table.rowManager.activeRows),a(r)})},o.prototype.findAddRowPos=function(t){return void 0===t&&(t=this.table.options.addRowPos),"pos"===t&&(t=!0),"bottom"===t&&(t=!1),t},o.prototype.addRowActual=function(t,e,n,i){var o,r=t instanceof a?t:new a(t||{},this),s=this.findAddRowPos(e);if(!n&&this.table.options.pagination&&"page"==this.table.options.paginationAddRow&&(o=this.getDisplayRows(),s?o.length?n=o[0]:this.activeRows.length&&(n=this.activeRows[this.activeRows.length-1],s=!1):o.length&&(n=o[o.length-1],s=!(o.length<this.table.modules.page.getPageSize()))),n&&(n=this.findRow(n)),this.table.options.groupBy&&this.table.modExists("groupRows")){this.table.modules.groupRows.assignRowToGroup(r);var l=r.getGroup().rows;l.length>1&&(!n||n&&-1==l.indexOf(n)?s?l[0]!==r&&(n=l[0],this._moveRowInArray(r.getGroup().rows,r,n,s)):l[l.length-1]!==r&&(n=l[l.length-1],this._moveRowInArray(r.getGroup().rows,r,n,s)):this._moveRowInArray(r.getGroup().rows,r,n,s))}if(n){var u=this.rows.indexOf(n),d=this.activeRows.indexOf(n);this.displayRowIterator(function(t){var e=t.indexOf(n);e>-1&&t.splice(s?e:e+1,0,r)}),d>-1&&this.activeRows.splice(s?d:d+1,0,r),u>-1&&this.rows.splice(s?u:u+1,0,r)}else s?(this.displayRowIterator(function(t){t.unshift(r)}),this.activeRows.unshift(r),this.rows.unshift(r)):(this.displayRowIterator(function(t){t.push(r)}),this.activeRows.push(r),this.rows.push(r));return this.setActiveRows(this.activeRows),this.table.options.rowAdded.call(this.table,r.getComponent()),this.table.options.dataEdited.call(this.table,this.getData()),i||this.reRenderInPosition(),r},o.prototype.moveRow=function(t,e,n){this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("rowMove",t,{pos:this.getRowPosition(t),to:e,after:n}),this.moveRowActual(t,e,n),this.table.options.rowMoved.call(this.table,t.getComponent())},o.prototype.moveRowActual=function(t,e,n){var i=this;if(this._moveRowInArray(this.rows,t,e,n),this._moveRowInArray(this.activeRows,t,e,n),this.displayRowIterator(function(o){i._moveRowInArray(o,t,e,n)}),this.table.options.groupBy&&this.table.modExists("groupRows")){var o=e.getGroup(),r=t.getGroup();o===r?this._moveRowInArray(o.rows,t,e,n):(r&&r.removeRow(t),o.insertRow(t,e,n))}},o.prototype._moveRowInArray=function(t,e,n,i){var o,r,a;if(e!==n&&((o=t.indexOf(e))>-1&&(t.splice(o,1),(r=t.indexOf(n))>-1?i?t.splice(r+1,0,e):t.splice(r,0,e):t.splice(o,0,e)),t===this.getDisplayRows())){a=r>o?r:o+1;for(var s=o<r?o:r;s<=a;s++)t[s]&&this.styleRow(t[s],s)}},o.prototype.clearData=function(){this.setData([])},o.prototype.getRowIndex=function(t){return this.findRowIndex(t,this.rows)},o.prototype.getDisplayRowIndex=function(t){var e=this.getDisplayRows().indexOf(t);return e>-1&&e},o.prototype.nextDisplayRow=function(t,e){var n=this.getDisplayRowIndex(t),i=!1;return!1!==n&&n<this.displayRowsCount-1&&(i=this.getDisplayRows()[n+1]),!i||i instanceof a&&"row"==i.type?i:this.nextDisplayRow(i,e)},o.prototype.prevDisplayRow=function(t,e){var n=this.getDisplayRowIndex(t),i=!1;return n&&(i=this.getDisplayRows()[n-1]),!i||i instanceof a&&"row"==i.type?i:this.prevDisplayRow(i,e)},o.prototype.findRowIndex=function(t,e){var n;return!!((t=this.findRow(t))&&(n=e.indexOf(t))>-1)&&n},o.prototype.getData=function(t,e){var n=[];return(t?this.activeRows:this.rows).forEach(function(t){n.push(t.getData(e||"data"))}),n},o.prototype.getHtml=function(t){var e=this.getData(t),n=[],i="",o="";return this.table.columnManager.getColumns().forEach(function(t){var e=t.getDefinition();t.visible&&!e.hideInHtml&&(i+="<th>"+(e.title||"")+"</th>",n.push(t))}),e.forEach(function(t){var e="";n.forEach(function(n){var i=n.getFieldValue(t);null==i&&(i=":"),e+="<td>"+i+"</td>"}),o+="<tr>"+e+"</tr>"}),"<table>\n\n\t\t\t<thead>\n\n\t\t\t<tr>"+i+"</tr>\n\n\t\t\t</thead>\n\n\t\t\t<tbody>"+o+"</tbody>\n\n\t\t\t</table>"},o.prototype.getComponents=function(t){var e=[];return(t?this.activeRows:this.rows).forEach(function(t){e.push(t.getComponent())}),e},o.prototype.getDataCount=function(t){return t?this.rows.length:this.activeRows.length},o.prototype._genRemoteRequest=function(){var t=this,e=t.table,n=e.options,i={};if(e.modExists("page")){if(n.ajaxSorting){var o=t.table.modules.sort.getSort();o.forEach(function(t){delete t.column}),i[t.table.modules.page.paginationDataSentNames.sorters]=o}if(n.ajaxFiltering){var r=t.table.modules.filter.getFilters(!0,!0);i[t.table.modules.page.paginationDataSentNames.filters]=r}t.table.modules.ajax.setParams(i,!0)}e.modules.ajax.sendRequest().then(function(e){t.setData(e)}).catch(function(t){})},o.prototype.filterRefresh=function(){var t=this.table,e=t.options,n=this.scrollLeft;e.ajaxFiltering?"remote"==e.pagination&&t.modExists("page")?(t.modules.page.reset(!0),t.modules.page.setPage(1).then(function(){}).catch(function(){})):e.ajaxProgressiveLoad?t.modules.ajax.loadData().then(function(){}).catch(function(){}):this._genRemoteRequest():this.refreshActiveData("filter"),this.scrollHorizontal(n)},o.prototype.sorterRefresh=function(){var t=this.table,e=this.table.options,n=this.scrollLeft;e.ajaxSorting?("remote"==e.pagination||e.progressiveLoad)&&t.modExists("page")?(t.modules.page.reset(!0),t.modules.page.setPage(1).then(function(){}).catch(function(){})):e.ajaxProgressiveLoad?t.modules.ajax.loadData().then(function(){}).catch(function(){}):this._genRemoteRequest():this.refreshActiveData("sort"),this.scrollHorizontal(n)},o.prototype.scrollHorizontal=function(t){this.scrollLeft=t,this.element.scrollLeft=t,this.table.options.groupBy&&this.table.modules.groupRows.scrollHeaders(t),this.table.modExists("columnCalcs")&&this.table.modules.columnCalcs.scrollHorizontal(t)},o.prototype.refreshActiveData=function(t,e,n){var i,o=this.table;switch(t||(t="all"),o.options.selectable&&!o.options.selectablePersistence&&o.modExists("selectRow")&&o.modules.selectRow.deselectRows(),t){case"all":case"filter":e?e=!1:o.modExists("filter")?this.setActiveRows(o.modules.filter.filter(this.rows)):this.setActiveRows(this.rows.slice(0));case"sort":e?e=!1:o.modExists("sort")&&o.modules.sort.sort();case"display":this.resetDisplayRows();case"freeze":e?e=!1:this.table.modExists("frozenRows")&&o.modules.frozenRows.isFrozen()&&(o.modules.frozenRows.getDisplayIndex()||o.modules.frozenRows.setDisplayIndex(this.getNextDisplayIndex()),i=o.modules.frozenRows.getDisplayIndex(),!0!==(i=this.setDisplayRows(o.modules.frozenRows.getRows(this.getDisplayRows(i-1)),i))&&o.modules.frozenRows.setDisplayIndex(i));case"group":e?e=!1:o.options.groupBy&&o.modExists("groupRows")&&(o.modules.groupRows.getDisplayIndex()||o.modules.groupRows.setDisplayIndex(this.getNextDisplayIndex()),i=o.modules.groupRows.getDisplayIndex(),!0!==(i=this.setDisplayRows(o.modules.groupRows.getRows(this.getDisplayRows(i-1)),i))&&o.modules.groupRows.setDisplayIndex(i));case"tree":e?e=!1:o.options.dataTree&&o.modExists("dataTree")&&(o.modules.dataTree.getDisplayIndex()||o.modules.dataTree.setDisplayIndex(this.getNextDisplayIndex()),i=o.modules.dataTree.getDisplayIndex(),!0!==(i=this.setDisplayRows(o.modules.dataTree.getRows(this.getDisplayRows(i-1)),i))&&o.modules.dataTree.setDisplayIndex(i)),o.options.pagination&&o.modExists("page")&&!n&&"local"==o.modules.page.getMode()&&o.modules.page.reset();case"page":e?e=!1:o.options.pagination&&o.modExists("page")&&(o.modules.page.getDisplayIndex()||o.modules.page.setDisplayIndex(this.getNextDisplayIndex()),i=o.modules.page.getDisplayIndex(),"local"==o.modules.page.getMode()&&o.modules.page.setMaxRows(this.getDisplayRows(i-1).length),!0!==(i=this.setDisplayRows(o.modules.page.getRows(this.getDisplayRows(i-1)),i))&&o.modules.page.setDisplayIndex(i))}c.prototype.helpers.elVisible(this.element)&&(n?this.reRenderInPosition():(this.renderTable(),o.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0))),o.modExists("columnCalcs")&&o.modules.columnCalcs.recalc(this.activeRows)},o.prototype.setActiveRows=function(t){this.activeRows=t,this.activeRowsCount=this.activeRows.length},o.prototype.resetDisplayRows=function(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length,this.table.modExists("frozenRows")&&this.table.modules.frozenRows.setDisplayIndex(0),this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.setDisplayIndex(0),this.table.options.pagination&&this.table.modExists("page")&&this.table.modules.page.setDisplayIndex(0)},o.prototype.getNextDisplayIndex=function(){return this.displayRows.length},o.prototype.setDisplayRows=function(t,e){var n=!0;return e&&void 0!==this.displayRows[e]?(this.displayRows[e]=t,n=!0):(this.displayRows.push(t),n=e=this.displayRows.length-1),e==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),n},o.prototype.getDisplayRows=function(t){return void 0===t?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[t]||[]},o.prototype.displayRowIterator=function(t){this.displayRows.forEach(t),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length},o.prototype.getRows=function(){return this.rows},o.prototype.reRenderInPosition=function(t){if("virtual"==this.getRenderMode()){for(var e=this.element.scrollTop,n=!1,i=!1,o=this.scrollLeft,r=this.getDisplayRows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(r[a]){var s=e-r[a].getElement().offsetTop;if(!(!1===i||Math.abs(s)<i))break;i=s,n=a}t&&t(),this._virtualRenderFill(!1===n?this.displayRowsCount-1:n,!0,i||0),this.scrollHorizontal(o)}else this.renderTable()},o.prototype.setRenderMode=function(){(this.table.element.clientHeight||this.table.options.height)&&this.table.options.virtualDom?this.renderMode="virtual":this.renderMode="classic"},o.prototype.getRenderMode=function(){return this.renderMode},o.prototype.renderTable=function(){switch(this.table.options.renderStarted.call(this.table),this.element.scrollTop=0,this.renderMode){case"classic":this._simpleRender();break;case"virtual":this._virtualRenderFill()}this.firstRender&&(this.displayRowsCount?(this.firstRender=!1,this.table.modules.layout.layout()):this.renderEmptyScroll()),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout(),this.displayRowsCount||this.table.options.placeholder&&(this.renderMode&&this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder)),this.table.options.renderComplete.call(this.table)},o.prototype._simpleRender=function(){this._clearVirtualDom(),this.displayRowsCount?this.checkClassicModeGroupHeaderWidth():this.renderEmptyScroll()},o.prototype.checkClassicModeGroupHeaderWidth=function(){var t=this,e=this.tableElement,n=!0;t.getDisplayRows().forEach(function(i,o){t.styleRow(i,o),e.appendChild(i.getElement()),i.initialize(!0),"group"!==i.type&&(n=!1)}),e.style.minWidth=n?t.table.columnManager.getWidth()+"px":""},o.prototype.renderEmptyScroll=function(){this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px",this.tableElement.style.minHeight="1px",this.tableElement.style.visibility="hidden"},o.prototype._clearVirtualDom=function(){var t=this.tableElement;for(this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder);t.firstChild;)t.removeChild(t.firstChild);t.style.paddingTop="",t.style.paddingBottom="",t.style.minWidth="",t.style.minHeight="",t.style.visibility="",this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0},o.prototype.styleRow=function(t,e){var n=t.getElement();e%2?(n.classList.add("tabulator-row-even"),n.classList.remove("tabulator-row-odd")):(n.classList.add("tabulator-row-odd"),n.classList.remove("tabulator-row-even"))},o.prototype._virtualRenderFill=function(t,e,n){var i=this.tableElement,o=this.element,r=0,a=0,s=0,l=0,u=!0,d=this.getDisplayRows();if(n=n||0,t=t||0){for(;i.firstChild;)i.removeChild(i.firstChild);var h=(this.displayRowsCount-t+1)*this.vDomRowHeight;h<this.height&&(t-=Math.ceil((this.height-h)/this.vDomRowHeight))<0&&(t=0),t-=r=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),t)}else this._clearVirtualDom();if(this.displayRowsCount&&c.prototype.helpers.elVisible(this.element)){for(this.vDomTop=t,this.vDomBottom=t-1;(a<=this.height+this.vDomWindowBuffer||l<this.vDomWindowMinTotalRows)&&this.vDomBottom<this.displayRowsCount-1;){var p=this.vDomBottom+1,f=d[p];this.styleRow(f,p),i.appendChild(f.getElement()),f.initialized?f.heightInitialized||f.normalizeHeight(!0):f.initialize(!0),l<r?s+=f.getHeight():a+=f.getHeight(),"group"!==f.type&&(u=!1),this.vDomBottom++,l++}t?(this.vDomTopPad=e?this.vDomRowHeight*this.vDomTop+n:this.scrollTop-s,this.vDomBottomPad=this.vDomBottom==this.displayRowsCount-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-a-s,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((a+s)/l),this.vDomBottomPad=this.vDomRowHeight*(this.displayRowsCount-this.vDomBottom-1),this.vDomScrollHeight=s+a+this.vDomBottomPad-this.height),i.style.paddingTop=this.vDomTopPad+"px",i.style.paddingBottom=this.vDomBottomPad+"px",e&&(this.scrollTop=this.vDomTopPad+s+n-(this.element.scrollWidth>this.element.clientWidth?this.element.offsetHeight-this.element.clientHeight:0)),this.scrollTop=Math.min(this.scrollTop,this.element.scrollHeight-this.height),this.element.scrollWidth>this.element.offsetWidth&&e&&(this.scrollTop+=this.element.offsetHeight-this.element.clientHeight),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,o.scrollTop=this.scrollTop,i.style.minWidth=u?this.table.columnManager.getWidth()+"px":"",this.table.options.groupBy&&"fitDataFill"!=this.table.modules.layout.getMode()&&this.displayRowsCount==this.table.modules.groupRows.countGroups()&&(this.tableElement.style.minWidth=this.table.columnManager.getWidth())}else this.renderEmptyScroll()},o.prototype.scrollVertical=function(t){var e=this.scrollTop-this.vDomScrollPosTop,n=this.scrollTop-this.vDomScrollPosBottom,i=2*this.vDomWindowBuffer;if(-e>i||n>i){var o=this.scrollLeft;this._virtualRenderFill(Math.floor(this.element.scrollTop/this.element.scrollHeight*this.displayRowsCount)),this.scrollHorizontal(o)}else t?(e<0&&this._addTopRow(-e),e<0&&this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer&&this._removeBottomRow(-n)):(e>=0&&this.scrollTop>this.vDomWindowBuffer&&this._removeTopRow(e),n>=0&&this._addBottomRow(n))},o.prototype._addTopRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.tableElement,i=this.getDisplayRows();if(this.vDomTop){var o=this.vDomTop-1,r=i[o],a=r.getHeight()||this.vDomRowHeight;t>=a&&(this.styleRow(r,o),n.insertBefore(r.getElement(),n.firstChild),r.initialized&&r.heightInitialized||(this.vDomTopNewRows.push(r),r.heightInitialized||r.clearCellHeight()),r.initialize(),this.vDomTopPad-=a,this.vDomTopPad<0&&(this.vDomTopPad=o*this.vDomRowHeight),o||(this.vDomTopPad=0),n.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=a,this.vDomTop--),t=-(this.scrollTop-this.vDomScrollPosTop),e<this.vDomMaxRenderChain&&this.vDomTop&&t>=(i[this.vDomTop-1].getHeight()||this.vDomRowHeight)?this._addTopRow(t,e+1):this._quickNormalizeRowHeight(this.vDomTopNewRows)}},o.prototype._removeTopRow=function(t){var e=this.tableElement,n=this.getDisplayRows()[this.vDomTop],i=n.getHeight()||this.vDomRowHeight;if(t>=i){var o=n.getElement();o.parentNode.removeChild(o),this.vDomTopPad+=i,e.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?i:i+this.vDomWindowBuffer,this.vDomTop++,t=this.scrollTop-this.vDomScrollPosTop,this._removeTopRow(t)}},o.prototype._addBottomRow=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.tableElement,i=this.getDisplayRows();if(this.vDomBottom<this.displayRowsCount-1){var o=this.vDomBottom+1,r=i[o],a=r.getHeight()||this.vDomRowHeight;t>=a&&(this.styleRow(r,o),n.appendChild(r.getElement()),r.initialized&&r.heightInitialized||(this.vDomBottomNewRows.push(r),r.heightInitialized||r.clearCellHeight()),r.initialize(),this.vDomBottomPad-=a,(this.vDomBottomPad<0||o==this.displayRowsCount-1)&&(this.vDomBottomPad=0),n.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=a,this.vDomBottom++),t=this.scrollTop-this.vDomScrollPosBottom,e<this.vDomMaxRenderChain&&this.vDomBottom<this.displayRowsCount-1&&t>=(i[this.vDomBottom+1].getHeight()||this.vDomRowHeight)?this._addBottomRow(t,e+1):this._quickNormalizeRowHeight(this.vDomBottomNewRows)}},o.prototype._removeBottomRow=function(t){var e=this.tableElement,n=this.getDisplayRows()[this.vDomBottom],i=n.getHeight()||this.vDomRowHeight;if(t>=i){var o=n.getElement();o.parentNode&&o.parentNode.removeChild(o),this.vDomBottomPad+=i,this.vDomBottomPad<0&&(this.vDomBottomPad=0),e.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=i,this.vDomBottom--,t=-(this.scrollTop-this.vDomScrollPosBottom),this._removeBottomRow(t)}},o.prototype._quickNormalizeRowHeight=function(t){t.forEach(function(t){t.calcHeight()}),t.forEach(function(t){t.setCellHeight()}),t.length=0},o.prototype.normalizeHeight=function(){this.activeRows.forEach(function(t){t.normalizeHeight()})},o.prototype.adjustTableSize=function(){if("virtual"===this.renderMode){this.height=this.element.clientHeight,this.vDomWindowBuffer=this.table.options.virtualDomBuffer||this.height;var t=this.columnManager.getElement().offsetHeight+(this.table.footerManager&&!this.table.footerManager.external?this.table.footerManager.getElement().offsetHeight:0);this.element.style.minHeight="calc(100% - "+t+"px)",this.element.style.height="calc(100% - "+t+"px)",this.element.style.maxHeight="calc(100% - "+t+"px)"}},o.prototype.reinitialize=function(){this.rows.forEach(function(t){t.reinitialize()})},o.prototype.redraw=function(t){var e=this.scrollLeft;this.adjustTableSize(),t?this.renderTable():("classic"==self.renderMode?self.table.options.groupBy?self.refreshActiveData("group",!1,!1):this._simpleRender():(this.reRenderInPosition(),this.scrollHorizontal(e)),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))},o.prototype.resetScroll=function(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var t=document.createEvent("Event");t.initEvent("scroll",!1,!0),this.element.dispatchEvent(t)}else this.element.dispatchEvent(new Event("scroll"))};var r=function(t){this._row=t};r.prototype.getData=function(t){return this._row.getData(t)},r.prototype.getElement=function(){return this._row.getElement()},r.prototype.getCells=function(){var t=[];return this._row.getCells().forEach(function(e){t.push(e.getComponent())}),t},r.prototype.getCell=function(t){var e=this._row.getCell(t);return!!e&&e.getComponent()},r.prototype.getIndex=function(){return this._row.getData("data")[this._row.table.options.index]},r.prototype.getPosition=function(t){return this._row.table.rowManager.getRowPosition(this._row,t)},r.prototype.delete=function(){return this._row.delete()},r.prototype.scrollTo=function(){return this._row.table.rowManager.scrollToRow(this._row)},r.prototype.update=function(t){return this._row.updateData(t)},r.prototype.normalizeHeight=function(){this._row.normalizeHeight(!0)},r.prototype.select=function(){this._row.table.modules.selectRow.selectRows(this._row)},r.prototype.deselect=function(){this._row.table.modules.selectRow.deselectRows(this._row)},r.prototype.toggleSelect=function(){this._row.table.modules.selectRow.toggleRow(this._row)},r.prototype.isSelected=function(){return this._row.table.modules.selectRow.isRowSelected(this._row)},r.prototype._getSelf=function(){return this._row},r.prototype.freeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.freezeRow(this._row)},r.prototype.unfreeze=function(){this._row.table.modExists("frozenRows",!0)&&this._row.table.modules.frozenRows.unfreezeRow(this._row)},r.prototype.treeCollapse=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.collapseRow(this._row)},r.prototype.treeExpand=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.expandRow(this._row)},r.prototype.treeToggle=function(){this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.toggleRow(this._row)},r.prototype.getTreeParent=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeParent(this._row)},r.prototype.getTreeChildren=function(){return!!this._row.table.modExists("dataTree",!0)&&this._row.table.modules.dataTree.getTreeChildren(this._row)},r.prototype.reformat=function(){return this._row.reinitialize()},r.prototype.getGroup=function(){return this._row.getGroup().getComponent()},r.prototype.getTable=function(){return this._row.table},r.prototype.getNextRow=function(){return this._row.nextRow()},r.prototype.getPrevRow=function(){return this._row.prevRow()};var a=function(t,e){this.table=e.table,this.parent=e,this.data={},this.type="row",this.element=this.createElement(),this.modules={},this.cells=[],this.height=0,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.setData(t),this.generateElement()};a.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-row"),t.setAttribute("role","row"),t},a.prototype.getElement=function(){return this.element},a.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},a.prototype.generateElement=function(){var t,e,n,i=this;!1!==i.table.options.selectable&&i.table.modExists("selectRow")&&i.table.modules.selectRow.initializeRow(this),!1!==i.table.options.movableRows&&i.table.modExists("moveRow")&&i.table.modules.moveRow.initializeRow(this),!1!==i.table.options.dataTree&&i.table.modExists("dataTree")&&i.table.modules.dataTree.initializeRow(this),i.table.options.rowClick&&i.element.addEventListener("click",function(t){i.table.options.rowClick(t,i.getComponent())}),i.table.options.rowDblClick&&i.element.addEventListener("dblclick",function(t){i.table.options.rowDblClick(t,i.getComponent())}),i.table.options.rowContext&&i.element.addEventListener("contextmenu",function(t){i.table.options.rowContext(t,i.getComponent())}),i.table.options.rowTap&&(n=!1,i.element.addEventListener("touchstart",function(t){n=!0}),i.element.addEventListener("touchend",function(t){n&&i.table.options.rowTap(t,i.getComponent()),n=!1})),i.table.options.rowDblTap&&(t=null,i.element.addEventListener("touchend",function(e){t?(clearTimeout(t),t=null,i.table.options.rowDblTap(e,i.getComponent())):t=setTimeout(function(){clearTimeout(t),t=null},300)})),i.table.options.rowTapHold&&(e=null,i.element.addEventListener("touchstart",function(t){clearTimeout(e),e=setTimeout(function(){clearTimeout(e),e=null,n=!1,i.table.options.rowTapHold(t,i.getComponent())},1e3)}),i.element.addEventListener("touchend",function(t){clearTimeout(e),e=null}))},a.prototype.generateCells=function(){this.cells=this.table.columnManager.generateCells(this)},a.prototype.initialize=function(t){var e=this;if(!e.initialized||t){for(e.deleteCells();e.element.firstChild;)e.element.removeChild(e.element.firstChild);this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutRow(this),this.generateCells(),e.cells.forEach(function(t){e.element.appendChild(t.getElement()),t.cellRendered()}),t&&e.normalizeHeight(),e.table.options.dataTree&&e.table.modExists("dataTree")&&e.table.modules.dataTree.layoutRow(this),"collapse"===e.table.options.responsiveLayout&&e.table.modExists("responsiveLayout")&&e.table.modules.responsiveLayout.layoutRow(this),e.table.options.rowFormatter&&e.table.options.rowFormatter(e.getComponent()),e.table.options.resizableRows&&e.table.modExists("resizeRows")&&e.table.modules.resizeRows.initializeRow(e),e.initialized=!0}},a.prototype.reinitializeHeight=function(){this.heightInitialized=!1,null!==this.element.offsetParent&&this.normalizeHeight(!0)},a.prototype.reinitialize=function(){this.initialized=!1,this.heightInitialized=!1,this.height=0,null!==this.element.offsetParent&&this.initialize(!0)},a.prototype.calcHeight=function(){var t=0,e=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach(function(e){var n=e.getHeight();n>t&&(t=n)}),this.height=Math.max(t,e),this.outerHeight=this.element.offsetHeight},a.prototype.setCellHeight=function(){var t=this.height;this.cells.forEach(function(e){e.setHeight(t)}),this.heightInitialized=!0},a.prototype.clearCellHeight=function(){this.cells.forEach(function(t){t.clearHeight()})},a.prototype.normalizeHeight=function(t){t&&this.clearCellHeight(),this.calcHeight(),this.setCellHeight()},a.prototype.setHeight=function(t){this.height=t,this.setCellHeight()},a.prototype.setHeight=function(t,e){(this.height!=t||e)&&(this.height=t,this.setCellHeight(),this.outerHeight=this.element.offsetHeight)},a.prototype.getHeight=function(){return this.outerHeight},a.prototype.getWidth=function(){return this.element.offsetWidth},a.prototype.deleteCell=function(t){var e=this.cells.indexOf(t);e>-1&&this.cells.splice(e,1)},a.prototype.setData=function(t){this.table.modExists("mutator")?this.data=this.table.modules.mutator.transformRow(t,"data"):this.data=t},a.prototype.updateData=function(t){var e=this,n=this,i=c.prototype.helpers.elVisible(this.element);return new Promise(function(o,r){for(var a in"string"==typeof t&&(t=JSON.parse(t)),n.table.modExists("mutator")&&(t=n.table.modules.mutator.transformRow(t,"data",!0)),t)n.data[a]=t[a];for(var a in t){var s=e.getCell(a);s&&s.getValue()!=t[a]&&(s.setValueProcessData(t[a]),i&&s.cellRendered())}i?(n.normalizeHeight(),n.table.options.rowFormatter&&n.table.options.rowFormatter(n.getComponent())):(e.initialized=!1,e.height=0),n.table.options.rowUpdated.call(e.table,n.getComponent()),o()})},a.prototype.getData=function(t){return t?this.table.modExists("accessor")?this.table.modules.accessor.transformRow(this.data,t):void 0:this.data},a.prototype.getCell=function(t){return t=this.table.columnManager.findColumn(t),this.cells.find(function(e){return e.column===t})},a.prototype.getCellIndex=function(t){return this.cells.findIndex(function(e){return e===t})},a.prototype.findNextEditableCell=function(t){var e=!1;if(t<this.cells.length-1)for(var n=t+1;n<this.cells.length;n++){var i=this.cells[n];if(i.column.modules.edit&&c.prototype.helpers.elVisible(i.getElement())){var o=!0;if("function"==typeof i.column.modules.edit.check&&(o=i.column.modules.edit.check(i.getComponent())),o){e=i;break}}}return e},a.prototype.findPrevEditableCell=function(t){var e=!1;if(t>0)for(var n=t-1;n>=0;n--){var i=this.cells[n],o=!0;if(i.column.modules.edit&&c.prototype.helpers.elVisible(i.getElement())&&("function"==typeof i.column.modules.edit.check&&(o=i.column.modules.edit.check(i.getComponent())),o)){e=i;break}}return e},a.prototype.getCells=function(){return this.cells},a.prototype.nextRow=function(){var t=this.table.rowManager.nextDisplayRow(this,!0);return!!t&&t.getComponent()},a.prototype.prevRow=function(){var t=this.table.rowManager.prevDisplayRow(this,!0);return!!t&&t.getComponent()},a.prototype.delete=function(){var t=this;return new Promise(function(e,n){var i=t.table.rowManager.getRowIndex(t);t.deleteActual(),t.table.options.history&&t.table.modExists("history")&&(i&&(i=t.table.rowManager.rows[i-1]),t.table.modules.history.action("rowDelete",t,{data:t.getData(),pos:!i,index:i})),e()})},a.prototype.deleteActual=function(){this.table.rowManager.getRowIndex(this),this.table.modExists("selectRow")&&this.table.modules.selectRow._deselectRow(this,!0),this.table.rowManager.deleteRow(this),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.modules.group&&this.modules.group.removeRow(this),this.table.modExists("columnCalcs")&&(this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.columnCalcs.recalcRowGroup(this):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows))},a.prototype.deleteCells=function(){for(var t=this.cells.length,e=0;e<t;e++)this.cells[0].delete()},a.prototype.wipe=function(){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)},a.prototype.getGroup=function(){return this.modules.group||!1},a.prototype.getComponent=function(){return new r(this)};var l=function(t){this._cell=t};l.prototype.getValue=function(){return this._cell.getValue()},l.prototype.getOldValue=function(){return this._cell.getOldValue()},l.prototype.getElement=function(){return this._cell.getElement()},l.prototype.getRow=function(){return this._cell.row.getComponent()},l.prototype.getData=function(){return this._cell.row.getData()},l.prototype.getField=function(){return this._cell.column.getField()},l.prototype.getColumn=function(){return this._cell.column.getComponent()},l.prototype.setValue=function(t,e){void 0===e&&(e=!0),this._cell.setValue(t,e)},l.prototype.restoreOldValue=function(){this._cell.setValueActual(this._cell.getOldValue())},l.prototype.edit=function(t){return this._cell.edit(t)},l.prototype.cancelEdit=function(){this._cell.cancelEdit()},l.prototype.nav=function(){return this._cell.nav()},l.prototype.checkHeight=function(){this._cell.checkHeight()},l.prototype.getTable=function(){return this._cell.table},l.prototype._getSelf=function(){return this._cell};var u=function(t,e){this.table=t.table,this.column=t,this.row=e,this.element=null,this.value=null,this.oldValue=null,this.height=null,this.width=null,this.minWidth=null,this.build()};u.prototype.build=function(){this.generateElement(),this.setWidth(this.column.width),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data))},u.prototype.generateElement=function(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element},u.prototype._configureCell=function(){var t,e,n,i=this,o=i.column.cellEvents,r=i.element,a=this.column.getField();r.style.textAlign=i.column.hozAlign,a&&r.setAttribute("tabulator-field",a),i.column.definition.cssClass&&i.column.definition.cssClass.split(" ").forEach(function(t){r.classList.add(t)}),(o.cellClick||i.table.options.cellClick)&&i.element.addEventListener("click",function(t){var e=i.getComponent();o.cellClick&&o.cellClick.call(i.table,t,e),i.table.options.cellClick&&i.table.options.cellClick.call(i.table,t,e)}),(o.cellDblClick||this.table.options.cellDblClick)&&r.addEventListener("dblclick",function(t){var e=i.getComponent();o.cellDblClick&&o.cellDblClick.call(i.table,t,e),i.table.options.cellDblClick&&i.table.options.cellDblClick.call(i.table,t,e)}),(o.cellContext||this.table.options.cellContext)&&r.addEventListener("contextmenu",function(t){var e=i.getComponent();o.cellContext&&o.cellContext.call(i.table,t,e),i.table.options.cellContext&&i.table.options.cellContext.call(i.table,t,e)}),"hover"===this.table.options.tooltipGenerationMode&&r.addEventListener("mouseenter",function(t){i._generateTooltip()}),(o.cellTap||this.table.options.cellTap)&&(n=!1,r.addEventListener("touchstart",function(t){n=!0}),r.addEventListener("touchend",function(t){if(n){var e=i.getComponent();o.cellTap&&o.cellTap.call(i.table,t,e),i.table.options.cellTap&&i.table.options.cellTap.call(i.table,t,e)}n=!1})),(o.cellDblTap||this.table.options.cellDblTap)&&(t=null,r.addEventListener("touchend",function(e){if(t){clearTimeout(t),t=null;var n=i.getComponent();o.cellDblTap&&o.cellDblTap.call(i.table,e,n),i.table.options.cellDblTap&&i.table.options.cellDblTap.call(i.table,e,n)}else t=setTimeout(function(){clearTimeout(t),t=null},300)})),(o.cellTapHold||this.table.options.cellTapHold)&&(e=null,r.addEventListener("touchstart",function(t){clearTimeout(e),e=setTimeout(function(){clearTimeout(e),e=null,n=!1;var r=i.getComponent();o.cellTapHold&&o.cellTapHold.call(i.table,t,r),i.table.options.cellTapHold&&i.table.options.cellTapHold.call(i.table,t,r)},1e3)}),r.addEventListener("touchend",function(t){clearTimeout(e),e=null})),i.column.modules.edit&&i.table.modules.edit.bindEditor(i),i.column.definition.rowHandle&&!1!==i.table.options.movableRows&&i.table.modExists("moveRow")&&i.table.modules.moveRow.initializeCell(i),i.column.visible||i.hide()},u.prototype._generateContents=function(){var t;switch(void 0===(t=this.table.modExists("format")?this.table.modules.format.formatValue(this):this.element.innerHTML=this.value)?"undefined":s(t)){case"object":if(t instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(t)}else this.element.innerHTML="",null!=t&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",t);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=t}},u.prototype.cellRendered=function(){this.table.modExists("format")&&this.table.modules.format.cellRendered&&this.table.modules.format.cellRendered(this)},u.prototype._generateTooltip=function(){var t=this.column.tooltip;t?(!0===t?t=this.value:"function"==typeof t&&!1===(t=t(this.getComponent()))&&(t=""),void 0===t&&(t=""),this.element.setAttribute("title",t)):this.element.setAttribute("title","")},u.prototype.getElement=function(){return this.element},u.prototype.getValue=function(){return this.value},u.prototype.getOldValue=function(){return this.oldValue},u.prototype.setValue=function(t,e){var n;this.setValueProcessData(t,e)&&(this.table.options.history&&this.table.modExists("history")&&this.table.modules.history.action("cellEdit",this,{oldValue:this.oldValue,newValue:this.value}),n=this.getComponent(),this.column.cellEvents.cellEdited&&this.column.cellEvents.cellEdited.call(this.table,n),this.table.options.cellEdited.call(this.table,n),this.table.options.dataEdited.call(this.table,this.table.rowManager.getData())),this.table.modExists("columnCalcs")&&(this.column.definition.topCalc||this.column.definition.bottomCalc)&&(this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.columnCalcs.recalcRowGroup(this.row):this.table.modules.columnCalcs.recalc(this.table.rowManager.activeRows))},u.prototype.setValueProcessData=function(t,e){var n=!1;return this.value!=t&&(n=!0,e&&this.column.modules.mutate&&(t=this.table.modules.mutator.transformCell(this,t))),this.setValueActual(t),n},u.prototype.setValueActual=function(t){this.oldValue=this.value,this.value=t,this.column.setFieldValue(this.row.data,t),this._generateContents(),this._generateTooltip(),this.table.options.resizableColumns&&this.table.modExists("resizeColumns")&&this.table.modules.resizeColumns.initializeColumn("cell",this.column,this.element),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layoutElement(this.element,this.column)},u.prototype.setWidth=function(t){this.width=t,this.element.style.width=t?t+"px":""},u.prototype.getWidth=function(){return this.width||this.element.offsetWidth},u.prototype.setMinWidth=function(t){this.minWidth=t,this.element.style.minWidth=t?t+"px":""},u.prototype.checkHeight=function(){this.row.reinitializeHeight()},u.prototype.clearHeight=function(){this.element.style.height="",this.height=null},u.prototype.setHeight=function(t){this.height=t,this.element.style.height=t?t+"px":""},u.prototype.getHeight=function(){return this.height||this.element.offsetHeight},u.prototype.show=function(){this.element.style.display=""},u.prototype.hide=function(){this.element.style.display="none"},u.prototype.edit=function(t){if(this.table.modExists("edit",!0))return this.table.modules.edit.editCell(this,t)},u.prototype.cancelEdit=function(){if(this.table.modExists("edit",!0)){var t=this.table.modules.edit.getCurrentCell();t&&t._getSelf()===this?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}},u.prototype.delete=function(){this.element.parentNode.removeChild(this.element),this.column.deleteCell(this),this.row.deleteCell(this)},u.prototype.nav=function(){var t=this,e=!1,n=this.row.getCellIndex(this);return{next:function(){var e,n=this.right();return!!n||!(!(e=t.table.rowManager.nextDisplayRow(t.row,!0))||!(n=e.findNextEditableCell(-1)))&&(n.edit(),!0)},prev:function(){var e,n=this.left();return!!n||!(!(e=t.table.rowManager.prevDisplayRow(t.row,!0))||!(n=e.findPrevEditableCell(e.cells.length)))&&(n.edit(),!0)},left:function(){return!!(e=t.row.findPrevEditableCell(n))&&(e.edit(),!0)},right:function(){return!!(e=t.row.findNextEditableCell(n))&&(e.edit(),!0)},up:function(){var e=t.table.rowManager.prevDisplayRow(t.row,!0);e&&e.cells[n].edit()},down:function(){var e=t.table.rowManager.nextDisplayRow(t.row,!0);e&&e.cells[n].edit()}}},u.prototype.getIndex=function(){this.row.getCellIndex(this)},u.prototype.getComponent=function(){return new l(this)};var d=function(t){this.table=t,this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this._initialize()};d.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-footer"),t},d.prototype._initialize=function(t){if(this.table.options.footerElement)switch(s(this.table.options.footerElement)){case"string":"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement));break;default:this.element=this.table.options.footerElement}},d.prototype.getElement=function(){return this.element},d.prototype.append=function(t,e){this.activate(e),this.element.appendChild(t),this.table.rowManager.adjustTableSize()},d.prototype.prepend=function(t,e){this.activate(e),this.element.insertBefore(t,this.element.firstChild),this.table.rowManager.adjustTableSize()},d.prototype.remove=function(t){t.parentNode.removeChild(t),this.deactivate()},d.prototype.deactivate=function(t){this.element.firstChild&&!t||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)},d.prototype.activate=function(t){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),t&&this.links.push(t)},d.prototype.redraw=function(){this.links.forEach(function(t){t.footerRedraw()})};var c=function t(e,n){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.browser="",this.browserSlow=!1,this.modules={},this.initializeElement(e),this.initializeOptions(n||{}),this._create(),t.prototype.comms.register(this)};c.prototype.defaultOptions={height:!1,layout:"fitData",layoutColumnsOnNewData:!1,columnMinWidth:40,columnVertAlign:"top",resizableColumns:!0,resizableRows:!1,autoResize:!0,columns:[],data:[],nestedFieldSeparator:".",tooltips:!1,tooltipsHeader:!1,tooltipGenerationMode:"load",initialSort:!1,initialFilter:!1,columnHeaderSortMulti:!0,sortOrderReverse:!1,footerElement:!1,index:"id",keybindings:[],clipboard:!1,clipboardCopyStyled:!0,clipboardCopySelector:"active",clipboardCopyFormatter:"table",clipboardPasteParser:"table",clipboardPasteAction:"insert",clipboardCopyConfig:!1,clipboardCopied:function(){},clipboardPasted:function(){},clipboardPasteError:function(){},downloadDataFormatter:!1,downloadReady:function(t,e){return e},downloadComplete:!1,downloadConfig:!1,dataTree:!1,dataTreeBranchElement:!0,dataTreeChildIndent:9,dataTreeChildField:"_children",dataTreeCollapseElement:!1,dataTreeExpandElement:!1,dataTreeStartExpanded:!1,dataTreeRowExpanded:function(){},dataTreeRowCollapsed:function(){},addRowPos:"bottom",selectable:"highlight",selectableRangeMode:"drag",selectableRollingSelection:!0,selectablePersistence:!0,selectableCheck:function(t,e){return!0},headerFilterPlaceholder:!1,history:!1,locale:!1,langs:{},virtualDom:!0,persistentLayout:!1,persistentSort:!1,persistentFilter:!1,persistenceID:"",persistenceMode:!0,responsiveLayout:!1,responsiveLayoutCollapseStartOpen:!0,responsiveLayoutCollapseUseFormatters:!0,responsiveLayoutCollapseFormatter:!1,pagination:!1,paginationSize:!1,paginationButtonCount:5,paginationElement:!1,paginationDataSent:{},paginationDataReceived:{},paginationAddRow:"page",ajaxURL:!1,ajaxURLGenerator:!1,ajaxParams:{},ajaxConfig:"get",ajaxContentType:"form",ajaxRequestFunc:!1,ajaxLoader:!0,ajaxLoaderLoading:!1,ajaxLoaderError:!1,ajaxFiltering:!1,ajaxSorting:!1,ajaxProgressiveLoad:!1,ajaxProgressiveLoadDelay:0,ajaxProgressiveLoadScrollMargin:0,groupBy:!1,groupStartOpen:!0,groupValues:!1,groupHeader:!1,movableColumns:!1,movableRows:!1,movableRowsConnectedTables:!1,movableRowsSender:!1,movableRowsReceiver:"insert",movableRowsSendingStart:function(){},movableRowsSent:function(){},movableRowsSentFailed:function(){},movableRowsSendingStop:function(){},movableRowsReceivingStart:function(){},movableRowsReceived:function(){},movableRowsReceivedFailed:function(){},movableRowsReceivingStop:function(){},scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,placeholder:!1,tableBuilding:function(){},tableBuilt:function(){},renderStarted:function(){},renderComplete:function(){},rowClick:!1,rowDblClick:!1,rowContext:!1,rowTap:!1,rowDblTap:!1,rowTapHold:!1,rowAdded:function(){},rowDeleted:function(){},rowMoved:function(){},rowUpdated:function(){},rowSelectionChanged:function(){},rowSelected:function(){},rowDeselected:function(){},rowResized:function(){},cellClick:!1,cellDblClick:!1,cellContext:!1,cellTap:!1,cellDblTap:!1,cellTapHold:!1,cellEditing:function(){},cellEdited:function(){},cellEditCancelled:function(){},columnMoved:!1,columnResized:function(){},columnTitleChanged:function(){},columnVisibilityChanged:function(){},htmlImporting:function(){},htmlImported:function(){},dataLoading:function(){},dataLoaded:function(){},dataEdited:function(){},ajaxRequesting:function(){},ajaxResponse:!1,ajaxError:function(){},dataFiltering:!1,dataFiltered:!1,dataSorting:function(){},dataSorted:function(){},groupToggleElement:"arrow",groupClosedShowCalcs:!1,dataGrouping:function(){},dataGrouped:!1,groupVisibilityChanged:function(){},groupClick:!1,groupDblClick:!1,groupContext:!1,groupTap:!1,groupDblTap:!1,groupTapHold:!1,columnCalcs:!0,pageLoaded:function(){},localized:function(){},validationFailed:function(){},historyUndo:function(){},historyRedo:function(){}},c.prototype.initializeOptions=function(t){for(var e in this.defaultOptions)e in t?this.options[e]=t[e]:Array.isArray(this.defaultOptions[e])?this.options[e]=[]:"object"===s(this.defaultOptions[e])?this.options[e]={}:this.options[e]=this.defaultOptions[e]},c.prototype.initializeElement=function(t){return t instanceof HTMLElement?(this.element=t,!0):"string"==typeof t?(this.element=document.querySelector(t),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",t),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",t),!1)},c.prototype._mapDepricatedFunctionality=function(){},c.prototype._create=function(){this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.bindModules(),"TABLE"===this.element.tagName&&this.modExists("htmlTableImport",!0)&&this.modules.htmlTableImport.parseTable(),this.columnManager=new t(this),this.rowManager=new o(this),this.footerManager=new d(this),this.columnManager.setRowManager(this.rowManager),this.rowManager.setColumnManager(this.columnManager),this._buildElement(),this._loadInitialData()},c.prototype._clearObjectPointers=function(){this.options.columns=this.options.columns.slice(0),this.options.data=this.options.data.slice(0)},c.prototype._buildElement=function(){var t=this.element,e=this.modules,n=this.options;for(n.tableBuilding.call(this),t.classList.add("tabulator"),t.setAttribute("role","grid");t.firstChild;)t.removeChild(t.firstChild);for(var i in n.height&&(n.height=isNaN(n.height)?n.height:n.height+"px",t.style.height=n.height),this.rowManager.initialize(),this._detectBrowser(),this.modExists("layout",!0)&&e.layout.initialize(n.layout),!1!==n.headerFilterPlaceholder&&e.localize.setHeaderFilterPlaceholder(n.headerFilterPlaceholder),n.langs)e.localize.installLang(i,n.langs[i]);if(e.localize.setLocale(n.locale),"string"==typeof n.placeholder){var o=document.createElement("div");o.classList.add("tabulator-placeholder");var r=document.createElement("span");r.innerHTML=n.placeholder,o.appendChild(r),n.placeholder=o}if(t.appendChild(this.columnManager.getElement()),t.appendChild(this.rowManager.getElement()),n.footerElement&&this.footerManager.activate(),n.dataTree&&this.modExists("dataTree",!0)&&e.dataTree.initialize(),(n.persistentLayout||n.persistentSort||n.persistentFilter)&&this.modExists("persistence",!0)&&e.persistence.initialize(n.persistenceMode,n.persistenceID),n.persistentLayout&&this.modExists("persistence",!0)&&(n.columns=e.persistence.load("columns",n.columns)),n.movableRows&&this.modExists("moveRow")&&e.moveRow.initialize(),this.modExists("columnCalcs")&&e.columnCalcs.initialize(),this.columnManager.setColumns(n.columns),this.modExists("frozenRows")&&this.modules.frozenRows.initialize(),(n.persistentSort||n.initialSort)&&this.modExists("sort",!0)){var a=[];n.persistentSort&&this.modExists("persistence",!0)?!1===(a=e.persistence.load("sort"))&&n.initialSort&&(a=n.initialSort):n.initialSort&&(a=n.initialSort),e.sort.setSort(a)}if((n.persistentFilter||n.initialFilter)&&this.modExists("filter",!0)){var s=[];n.persistentFilter&&this.modExists("persistence",!0)?!1===(s=e.persistence.load("filter"))&&n.initialFilter&&(s=n.initialFilter):n.initialFilter&&(s=n.initialFilter),e.filter.setFilter(s)}this.modExists("ajax")&&e.ajax.initialize(),n.pagination&&this.modExists("page",!0)&&e.page.initialize(),n.groupBy&&this.modExists("groupRows",!0)&&e.groupRows.initialize(),this.modExists("keybindings")&&e.keybindings.initialize(),this.modExists("selectRow")&&e.selectRow.clearSelectionData(!0),n.autoResize&&this.modExists("resizeTable")&&e.resizeTable.initialize(),this.modExists("clipboard")&&e.clipboard.initialize(),n.tableBuilt.call(this)},c.prototype._loadInitialData=function(){this.options.pagination&&this.modExists("page")?(this.modules.page.reset(!0),"local"==this.options.pagination?this.options.data.length?this.rowManager.setData(this.options.data):(this.options.ajaxURL||this.options.ajaxURLGenerator)&&this.modExists("ajax")?this.modules.ajax.loadData().then(function(){}).catch(function(){}):this.rowManager.setData(this.options.data):this.options.ajaxURL?this.modules.page.setPage(1).then(function(){}).catch(function(){}):this.rowManager.setData([])):this.options.data.length?this.rowManager.setData(this.options.data):(this.options.ajaxURL||this.options.ajaxURLGenerator)&&this.modExists("ajax")?this.modules.ajax.loadData().then(function(){}).catch(function(){}):this.rowManager.setData(this.options.data)},c.prototype.destroy=function(){var t=this.element;for(c.prototype.comms.deregister(this),this.rowManager.rows.forEach(function(t){t.wipe()}),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[],this.options.autoResize&&this.modExists("resizeTable")&&this.modules.resizeTable.clearBindings(),this.modExists("keybindings")&&this.modules.keybindings.clearBindings();t.firstChild;)t.removeChild(t.firstChild);t.classList.remove("tabulator")},c.prototype._detectBrowser=function(){var t=navigator.userAgent;t.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):t.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):t.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1)},c.prototype.setData=function(t,e,n){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(t,e,n)},c.prototype._setData=function(t,e,n,i){return"string"!=typeof t?t?this.rowManager.setData(t,i):this.modExists("ajax")&&(this.modules.ajax.getUrl||this.options.ajaxURLGenerator)?"remote"==this.options.pagination&&this.modExists("page",!0)?(this.modules.page.reset(!0),this.modules.page.setPage(1)):this.modules.ajax.loadData(i):this.rowManager.setData([],i):0==t.indexOf("{")||0==t.indexOf("[")?this.rowManager.setData(JSON.parse(t),i):this.modExists("ajax",!0)?(e&&this.modules.ajax.setParams(e),n&&this.modules.ajax.setConfig(n),this.modules.ajax.setUrl(t),"remote"==this.options.pagination&&this.modExists("page",!0)?(this.modules.page.reset(!0),this.modules.page.setPage(1)):this.modules.ajax.loadData(i)):void 0},c.prototype.clearData=function(){this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this.rowManager.clearData()},c.prototype.getData=function(t){return this.rowManager.getData(t)},c.prototype.getDataCount=function(t){return this.rowManager.getDataCount(t)},c.prototype.searchRows=function(t,e,n){if(this.modExists("filter",!0))return this.modules.filter.search("rows",t,e,n)},c.prototype.searchData=function(t,e,n){if(this.modExists("filter",!0))return this.modules.filter.search("data",t,e,n)},c.prototype.getHtml=function(t){return this.rowManager.getHtml(t)},c.prototype.getAjaxUrl=function(){if(this.modExists("ajax",!0))return this.modules.ajax.getUrl()},c.prototype.replaceData=function(t,e,n){return this.modExists("ajax")&&this.modules.ajax.blockActiveRequest(),this._setData(t,e,n,!0)},c.prototype.updateData=function(t){var e=this,n=this,i=0;return new Promise(function(o,r){e.modExists("ajax")&&e.modules.ajax.blockActiveRequest(),"string"==typeof t&&(t=JSON.parse(t)),t?t.forEach(function(t){var e=n.rowManager.findRow(t[n.options.index]);e&&(i++,e.updateData(t).then(function(){--i||o()}))}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})},c.prototype.addData=function(t,e,n){var i=this;return new Promise(function(o,r){i.modExists("ajax")&&i.modules.ajax.blockActiveRequest(),"string"==typeof t&&(t=JSON.parse(t)),t?i.rowManager.addRows(t,e,n).then(function(t){var e=[];t.forEach(function(t){e.push(t.getComponent())}),o(e)}):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))})},c.prototype.updateOrAddData=function(t){var e=this,n=this,i=[],o=0;return new Promise(function(r,a){e.modExists("ajax")&&e.modules.ajax.blockActiveRequest(),"string"==typeof t&&(t=JSON.parse(t)),t?t.forEach(function(t){var e=n.rowManager.findRow(t[n.options.index]);o++,e?e.updateData(t).then(function(){o--,i.push(e.getComponent()),o||r(i)}):n.rowManager.addRows(t).then(function(t){o--,i.push(t[0].getComponent()),o||r(i)})}):(console.warn("Update Error - No data provided"),a("Update Error - No data provided"))})},c.prototype.getRow=function(t){var e=this.rowManager.findRow(t);return e?e.getComponent():(console.warn("Find Error - No matching row found:",t),!1)},c.prototype.getRowFromPosition=function(t,e){var n=this.rowManager.getRowFromPosition(t,e);return n?n.getComponent():(console.warn("Find Error - No matching row found:",t),!1)},c.prototype.deleteRow=function(t){var e=this;return new Promise(function(n,i){var o=e.rowManager.findRow(t);o?o.delete().then(function(){n()}).catch(function(t){i(t)}):(console.warn("Delete Error - No matching row found:",t),i("Delete Error - No matching row found"))})},c.prototype.addRow=function(t,e,n){var i=this;return new Promise(function(o,r){"string"==typeof t&&(t=JSON.parse(t)),i.rowManager.addRows(t,e,n).then(function(t){i.modExists("columnCalcs")&&i.modules.columnCalcs.recalc(i.rowManager.activeRows),o(t[0].getComponent())})})},c.prototype.updateOrAddRow=function(t,e){var n=this;return new Promise(function(i,o){var r=n.rowManager.findRow(t);"string"==typeof e&&(e=JSON.parse(e)),r?r.updateData(e).then(function(){n.modExists("columnCalcs")&&n.modules.columnCalcs.recalc(n.rowManager.activeRows),i(r.getComponent())}).catch(function(t){o(t)}):r=n.rowManager.addRows(e).then(function(t){n.modExists("columnCalcs")&&n.modules.columnCalcs.recalc(n.rowManager.activeRows),i(t[0].getComponent())}).catch(function(t){o(t)})})},c.prototype.updateRow=function(t,e){var n=this;return new Promise(function(i,o){var r=n.rowManager.findRow(t);"string"==typeof e&&(e=JSON.parse(e)),r?r.updateData(e).then(function(){i(r.getComponent())}).catch(function(t){o(t)}):(console.warn("Update Error - No matching row found:",t),o("Update Error - No matching row found"))})},c.prototype.scrollToRow=function(t,e,n){var i=this;return new Promise(function(o,r){var a=i.rowManager.findRow(t);a?i.rowManager.scrollToRow(a,e,n).then(function(){o()}).catch(function(t){r(t)}):(console.warn("Scroll Error - No matching row found:",t),r("Scroll Error - No matching row found"))})},c.prototype.getRows=function(t){return this.rowManager.getComponents(t)},c.prototype.getRowPosition=function(t,e){var n=this.rowManager.findRow(t);return n?this.rowManager.getRowPosition(n,e):(console.warn("Position Error - No matching row found:",t),!1)},c.prototype.copyToClipboard=function(t,e,n,i){this.modExists("clipboard",!0)&&this.modules.clipboard.copy(t,e,n,i)},c.prototype.setColumns=function(t){this.columnManager.setColumns(t)},c.prototype.getColumns=function(t){return this.columnManager.getComponents(t)},c.prototype.getColumn=function(t){var e=this.columnManager.findColumn(t);return e?e.getComponent():(console.warn("Find Error - No matching column found:",t),!1)},c.prototype.getColumnDefinitions=function(){return this.columnManager.getDefinitionTree()},c.prototype.getColumnLayout=function(){if(this.modExists("persistence",!0))return this.modules.persistence.parseColumns(this.columnManager.getColumns())},c.prototype.setColumnLayout=function(t){return!!this.modExists("persistence",!0)&&(this.columnManager.setColumns(this.modules.persistence.mergeDefinition(this.options.columns,t)),!0)},c.prototype.showColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Show Error - No matching column found:",t),!1;e.show(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},c.prototype.hideColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Hide Error - No matching column found:",t),!1;e.hide(),this.options.responsiveLayout&&this.modExists("responsiveLayout",!0)&&this.modules.responsiveLayout.update()},c.prototype.toggleColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Visibility Toggle Error - No matching column found:",t),!1;e.visible?e.hide():e.show()},c.prototype.addColumn=function(t,e,n){var i=this.columnManager.findColumn(n);this.columnManager.addColumn(t,e,i)},c.prototype.deleteColumn=function(t){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Delete Error - No matching column found:",t),!1;e.delete()},c.prototype.scrollToColumn=function(t,e,n){var i=this;return new Promise(function(o,r){var a=i.columnManager.findColumn(t);a?i.columnManager.scrollToColumn(a,e,n).then(function(){o()}).catch(function(t){r(t)}):(console.warn("Scroll Error - No matching column found:",t),r("Scroll Error - No matching column found"))})},c.prototype.setLocale=function(t){this.modules.localize.setLocale(t)},c.prototype.getLocale=function(){return this.modules.localize.getLocale()},c.prototype.getLang=function(t){return this.modules.localize.getLang(t)},c.prototype.redraw=function(t){this.columnManager.redraw(t),this.rowManager.redraw(t)},c.prototype.setHeight=function(t){this.options.height=isNaN(t)?t:t+"px",this.element.style.height=this.options.height,this.rowManager.redraw()},c.prototype.setSort=function(t,e){this.modExists("sort",!0)&&(this.modules.sort.setSort(t,e),this.rowManager.sorterRefresh())},c.prototype.getSorters=function(){if(this.modExists("sort",!0))return this.modules.sort.getSort()},c.prototype.clearSort=function(){this.modExists("sort",!0)&&(this.modules.sort.clear(),this.rowManager.sorterRefresh())},c.prototype.setFilter=function(t,e,n){this.modExists("filter",!0)&&(this.modules.filter.setFilter(t,e,n),this.rowManager.filterRefresh())},c.prototype.addFilter=function(t,e,n){this.modExists("filter",!0)&&(this.modules.filter.addFilter(t,e,n),this.rowManager.filterRefresh())},c.prototype.getFilters=function(t){if(this.modExists("filter",!0))return this.modules.filter.getFilters(t)},c.prototype.setHeaderFilterFocus=function(t){if(this.modExists("filter",!0)){var e=this.columnManager.findColumn(t);if(!e)return console.warn("Column Filter Focus Error - No matching column found:",t),!1;this.modules.filter.setHeaderFilterFocus(e)}},c.prototype.setHeaderFilterValue=function(t,e){if(this.modExists("filter",!0)){var n=this.columnManager.findColumn(t);if(!n)return console.warn("Column Filter Error - No matching column found:",t),!1;this.modules.filter.setHeaderFilterValue(n,e)}},c.prototype.getHeaderFilters=function(){if(this.modExists("filter",!0))return this.modules.filter.getHeaderFilters()},c.prototype.removeFilter=function(t,e,n){this.modExists("filter",!0)&&(this.modules.filter.removeFilter(t,e,n),this.rowManager.filterRefresh())},c.prototype.clearFilter=function(t){this.modExists("filter",!0)&&(this.modules.filter.clearFilter(t),this.rowManager.filterRefresh())},c.prototype.clearHeaderFilter=function(){this.modExists("filter",!0)&&(this.modules.filter.clearHeaderFilter(),this.rowManager.filterRefresh())},c.prototype.selectRow=function(t){this.modExists("selectRow",!0)&&this.modules.selectRow.selectRows(t)},c.prototype.deselectRow=function(t){this.modExists("selectRow",!0)&&this.modules.selectRow.deselectRows(t)},c.prototype.toggleSelectRow=function(t){this.modExists("selectRow",!0)&&this.modules.selectRow.toggleRow(t)},c.prototype.getSelectedRows=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedRows()},c.prototype.getSelectedData=function(){if(this.modExists("selectRow",!0))return this.modules.selectRow.getSelectedData()},c.prototype.setMaxPage=function(t){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setMaxPage(t)},c.prototype.setPage=function(t){return this.options.pagination&&this.modExists("page")?this.modules.page.setPage(t):new Promise(function(t,e){e()})},c.prototype.setPageSize=function(t){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.setPageSize(t),this.modules.page.setPage(1).then(function(){}).catch(function(){})},c.prototype.getPageSize=function(){if(this.options.pagination&&this.modExists("page",!0))return this.modules.page.getPageSize()},c.prototype.previousPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.previousPage()},c.prototype.nextPage=function(){if(!this.options.pagination||!this.modExists("page"))return!1;this.modules.page.nextPage()},c.prototype.getPage=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPage()},c.prototype.getPageMax=function(){return!(!this.options.pagination||!this.modExists("page"))&&this.modules.page.getPageMax()},c.prototype.setGroupBy=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupBy=t,this.modules.groupRows.initialize(),this.rowManager.refreshActiveData("display")},c.prototype.setGroupStartOpen=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupStartOpen=t,this.modules.groupRows.initialize(),this.options.groupBy?this.rowManager.refreshActiveData("group"):console.warn("Grouping Update - cant refresh view, no groups have been set")},c.prototype.setGroupHeader=function(t){if(!this.modExists("groupRows",!0))return!1;this.options.groupHeader=t,this.modules.groupRows.initialize(),this.options.groupBy?this.rowManager.refreshActiveData("group"):console.warn("Grouping Update - cant refresh view, no groups have been set")},c.prototype.getGroups=function(t){return!!this.modExists("groupRows",!0)&&this.modules.groupRows.getGroups(!0)},c.prototype.getGroupedData=function(){if(this.modExists("groupRows",!0))return this.options.groupBy?this.modules.groupRows.getGroupedData():this.getData()},c.prototype.getCalcResults=function(){return!!this.modExists("columnCalcs",!0)&&this.modules.columnCalcs.getResults()},c.prototype.navigatePrev=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().prev())},c.prototype.navigateNext=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().next())},c.prototype.navigateLeft=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().left())},c.prototype.navigateRight=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().right())},c.prototype.navigateUp=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().up())},c.prototype.navigateDown=function(){var t=!1;return!(!this.modExists("edit",!0)||!(t=this.modules.edit.currentCell))&&(e.preventDefault(),t.nav().dpwn())},c.prototype.undo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.undo()},c.prototype.redo=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.redo()},c.prototype.getHistoryUndoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryUndoSize()},c.prototype.getHistoryRedoSize=function(){return!(!this.options.history||!this.modExists("history",!0))&&this.modules.history.getHistoryRedoSize()},c.prototype.download=function(t,e,n){this.modExists("download",!0)&&this.modules.download.download(t,e,n)},c.prototype.tableComms=function(t,e,n,i){this.modules.comms.receive(t,e,n,i)},c.prototype.moduleBindings={},c.prototype.extendModule=function(t,e,n){if(c.prototype.moduleBindings[t]){var i=c.prototype.moduleBindings[t].prototype[e];if(i)if("object"==(void 0===n?"undefined":s(n)))for(var o in n)i[o]=n[o];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",e)}else console.warn("Module Error - module does not exist:",t)},c.prototype.registerModule=function(t,e){c.prototype.moduleBindings[t]=e},c.prototype.bindModules=function(){for(var t in this.modules={},c.prototype.moduleBindings)this.modules[t]=new c.prototype.moduleBindings[t](this)},c.prototype.modExists=function(t,e){return!!this.modules[t]||(e&&console.error("Tabulator Module Not Installed: "+t),!1)},c.prototype.helpers={elVisible:function(t){return!(t.offsetWidth<=0&&t.offsetHeight<=0)},elOffset:function(t){var e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset-document.documentElement.clientTop,left:e.left+window.pageXOffset-document.documentElement.clientLeft}},deepClone:function(t){var e=Array.isArray(t)?[]:{};for(var n in t)null!=t[n]&&"object"===s(t[n])?t[n]instanceof Date?e[n]=new Date(t[n]):e[n]=this.deepClone(t[n]):e[n]=t[n];return e}},c.prototype.comms={tables:[],register:function(t){c.prototype.comms.tables.push(t)},deregister:function(t){var e=c.prototype.comms.tables.indexOf(t);e>-1&&c.prototype.comms.tables.splice(e,1)},lookupTable:function(t){var e,n,i=[];if("string"==typeof t){if((e=document.querySelectorAll(t)).length)for(var o=0;o<e.length;o++)(n=c.prototype.comms.matchElement(e[o]))&&i.push(n)}else t instanceof HTMLElement||t instanceof c?(n=c.prototype.comms.matchElement(t))&&i.push(n):Array.isArray(t)?t.forEach(function(t){i=i.concat(c.prototype.comms.lookupTable(t))}):console.warn("Table Connection Error - Invalid Selector",t);return i},matchElement:function(t){return c.prototype.comms.tables.find(function(e){return t instanceof c?e===t:e.element===t})}};var h=function(t){this.table=t,this.mode=null};h.prototype.initialize=function(t){this.modes[t]?this.mode=t:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+t),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)},h.prototype.getMode=function(){return this.mode},h.prototype.layout=function(){this.modes[this.mode].call(this,this.table.columnManager.columnsByIndex)},h.prototype.modes={fitData:function(t){t.forEach(function(t){t.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:function(t){t.forEach(function(t){t.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(t){var e,n,i=this.table.element.clientWidth,o=0,r=0,a=0,s=[],l=[],u=0,d=0;function c(t){return"string"==typeof t?t.indexOf("%")>-1?i/100*parseInt(t):parseInt(t):t}function h(t,e,n,i){var o=[],r=0,a=0,s=0,l=0,u=0,d=[];function p(t){return n*(t.column.definition.widthGrow||1)}function f(t){return c(t.width)-n*(t.column.definition.widthShrink||0)}return t.forEach(function(t,e){var n=i?f(t):p(t);t.column.minWidth>=n?o.push(t):(d.push(t),u+=i?t.column.definition.widthShrink||1:t.column.definition.widthGrow||1)}),o.length?(o.forEach(function(t){r+=i?t.width-t.column.minWidth:t.column.minWidth,t.width=t.column.minWidth}),l=(a=e-r)-(s=u?Math.floor(a/u):a)*u,l+=h(d,a,s,i)):(l=u?e-Math.floor(e/u)*u:e,d.forEach(function(t){t.width=i?f(t):p(t)})),l}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(i-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),t.forEach(function(t){var e,n,i;t.visible&&(e=t.definition.width,n=parseInt(t.minWidth),e?(i=c(e),o+=i>n?i:n,t.definition.widthShrink&&(l.push({column:t,width:i>n?i:n}),u+=t.definition.widthShrink)):(s.push({column:t,width:0}),a+=t.definition.widthGrow||1))}),r=i-o,e=Math.floor(r/a),d=h(s,r,e,!1),s.length&&d>0&&(s[s.length-1].width+=+d),s.forEach(function(t){r-=t.width}),(n=Math.abs(d)+r)>0&&u&&(d=h(l,n,Math.floor(n/u),!0)),l.length&&(l[l.length-1].width-=d),s.forEach(function(t){t.column.setWidth(t.width)}),l.forEach(function(t){t.column.setWidth(t.width)})}},c.prototype.registerModule("layout",h);var p=function(t){this.table=t,this.locale="default",this.lang=!1,this.bindings={}};p.prototype.setHeaderFilterPlaceholder=function(t){this.langs.default.headerFilters.default=t},p.prototype.setHeaderFilterColumnPlaceholder=function(t,e){this.langs.default.headerFilters.columns[t]=e,this.lang&&!this.lang.headerFilters.columns[t]&&(this.lang.headerFilters.columns[t]=e)},p.prototype.installLang=function(t,e){this.langs[t]?this._setLangProp(this.langs[t],e):this.langs[t]=e},p.prototype._setLangProp=function(t,e){for(var n in e)t[n]&&"object"==s(t[n])?this._setLangProp(t[n],e[n]):t[n]=e[n]},p.prototype.setLocale=function(t){if(!0===(t=t||"default")&&navigator.language&&(t=navigator.language.toLowerCase()),t&&!this.langs[t]){var e=t.split("-")[0];this.langs[e]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",t,e),t=e):(console.warn("Localization Error - Matching locale not found, using default: ",t),t="default")}this.locale=t,this.lang=c.prototype.helpers.deepClone(this.langs.default||{}),"default"!=t&&function t(e,n){for(var i in e)"object"==s(e[i])?(n[i]||(n[i]={}),t(e[i],n[i])):n[i]=e[i]}(this.langs[t],this.lang),this.table.options.localized.call(this.table,this.locale,this.lang),this._executeBindings()},p.prototype.getLocale=function(t){return self.locale},p.prototype.getLang=function(t){return t?this.langs[t]:this.lang},p.prototype.getText=function(t,e){var n=(t=e?t+"|"+e:t).split("|");return this._getLangElement(n,this.locale)||""},p.prototype._getLangElement=function(t,e){var n=this.lang;return t.forEach(function(t){var e;n&&(e=n[t],n=void 0!==e&&e)}),n},p.prototype.bind=function(t,e){this.bindings[t]||(this.bindings[t]=[]),this.bindings[t].push(e),e(this.getText(t),this.lang)},p.prototype._executeBindings=function(){var t=this,e=function(e){t.bindings[e].forEach(function(n){n(t.getText(e),t.lang)})};for(var n in t.bindings)e(n)},p.prototype.langs={default:{groups:{item:"item",items:"items"},columns:{},ajax:{loading:"Loading",error:"Error"},pagination:{first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page"},headerFilters:{default:"filter column...",columns:{}}}},c.prototype.registerModule("localize",p);var f=function(t){this.table=t};f.prototype.getConnections=function(t){var e=this,n=[];return c.prototype.comms.lookupTable(t).forEach(function(t){e.table!==t&&n.push(t)}),n},f.prototype.send=function(t,e,n,i){var o=this,r=this.getConnections(t);r.forEach(function(t){t.tableComms(o.table.element,e,n,i)}),!r.length&&t&&console.warn("Table Connection Error - No tables matching selector found",t)},f.prototype.receive=function(t,e,n,i){if(this.table.modExists(e))return this.table.modules[e].commsReceived(t,n,i);console.warn("Inter-table Comms Error - no such module:",e)},c.prototype.registerModule("comms",f);var m=function(t){this.table=t,this.allowedTypes=["","data","download","clipboard"]};m.prototype.initializeColumn=function(t){var e=this,n=!1,i={};this.allowedTypes.forEach(function(o){var r,a="accessor"+(o.charAt(0).toUpperCase()+o.slice(1));t.definition[a]&&(r=e.lookupAccessor(t.definition[a]))&&(n=!0,i[a]={accessor:r,params:t.definition[a+"Params"]||{}})}),n&&(t.modules.accessor=i)},m.prototype.lookupAccessor=function(t){var e=!1;switch(void 0===t?"undefined":s(t)){case"string":this.accessors[t]?e=this.accessors[t]:console.warn("Accessor Error - No such accessor found, ignoring: ",t);break;case"function":e=t}return e},m.prototype.transformRow=function(t,e){var n="accessor"+(e.charAt(0).toUpperCase()+e.slice(1)),i=c.prototype.helpers.deepClone(t||{});return this.table.columnManager.traverse(function(t){var o,r,a,s;t.modules.accessor&&(r=t.modules.accessor[n]||t.modules.accessor.accessor||!1)&&"undefined"!=(o=t.getFieldValue(i))&&(s=t.getComponent(),a="function"==typeof r.params?r.params(o,i,e,s):r.params,t.setFieldValue(i,r.accessor(o,i,e,a,s)))}),i},m.prototype.accessors={},c.prototype.registerModule("accessor",m);var g=function(t){this.table=t,this.config=!1,this.url="",this.urlGenerator=!1,this.params=!1,this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=!1,this.errorElement=!1,this.loaderPromise=!1,this.progressiveLoad=!1,this.loading=!1,this.requestOrder=0};g.prototype.initialize=function(){var t;this.loaderElement.appendChild(this.msgElement),this.table.options.ajaxLoaderLoading&&("string"==typeof this.table.options.ajaxLoaderLoading?((t=document.createElement("template")).innerHTML=this.table.options.ajaxLoaderLoading.trim(),this.loadingElement=t.content.firstChild):this.loadingElement=this.table.options.ajaxLoaderLoading),this.loaderPromise=this.table.options.ajaxRequestFunc||this.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||this.defaultURLGenerator,this.table.options.ajaxLoaderError&&(this.errorElement=this.table.options.ajaxLoaderError),this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.table.options.ajaxProgressiveLoad&&(this.table.options.pagination?(this.progressiveLoad=!1,console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time")):this.table.modExists("page")?(this.progressiveLoad=this.table.options.ajaxProgressiveLoad,this.table.modules.page.initializeProgressive(this.progressiveLoad)):console.error("Pagination plugin is required for progressive ajax loading"))},g.prototype.createLoaderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-loader"),t},g.prototype.createMsgElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-loader-msg"),t.setAttribute("role","alert"),t},g.prototype.setParams=function(t,e){if(e)for(var n in this.params=this.params||{},t)this.params[n]=t[n];else this.params=t},g.prototype.getParams=function(){return this.params||{}},g.prototype.setConfig=function(t){if(this._loadDefaultConfig(),"string"==typeof t)this.config.method=t;else for(var e in t)this.config[e]=t[e]},g.prototype._loadDefaultConfig=function(t){if(!this.config||t)for(var e in this.config={},this.defaultConfig)this.config[e]=this.defaultConfig[e]},g.prototype.setUrl=function(t){this.url=t},g.prototype.getUrl=function(){return this.url},g.prototype.loadData=function(t){return this.progressiveLoad?this._loadDataProgressive():this._loadDataStandard(t)},g.prototype.nextPage=function(t){this.loading||t<(this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.getElement().clientHeight)&&this.table.modules.page.nextPage().then(function(){}).catch(function(){})},g.prototype.blockActiveRequest=function(){this.requestOrder++},g.prototype._loadDataProgressive=function(){return this.table.rowManager.setData([]),this.table.modules.page.setPage(1)},g.prototype._loadDataStandard=function(t){var e=this;return new Promise(function(n,i){e.sendRequest(t).then(function(o){e.table.rowManager.setData(o,t).then(function(){n()}).catch(function(t){i(t)})}).catch(function(t){i(t)})})},g.prototype.generateParamsList=function(t,e){var n=this,i=[];if(e=e||"",Array.isArray(t))t.forEach(function(t,o){i=i.concat(n.generateParamsList(t,e?e+"["+o+"]":o))});else if("object"===(void 0===t?"undefined":s(t)))for(var o in t)i=i.concat(n.generateParamsList(t[o],e?e+"["+o+"]":o));else i.push({key:e,value:t});return i},g.prototype.serializeParams=function(t){var e=this.generateParamsList(t),n=[];return e.forEach(function(t){n.push(encodeURIComponent(t.key)+"="+encodeURIComponent(t.value))}),n.join("&")},g.prototype.sendRequest=function(t){var e,n=this,i=this,o=i.url;return i.requestOrder++,e=i.requestOrder,i._loadDefaultConfig(),new Promise(function(r,a){!1!==i.table.options.ajaxRequesting.call(n.table,i.url,i.params)?(i.loading=!0,t||i.showLoader(),n.loaderPromise(o,i.config,i.params).then(function(t){e===i.requestOrder?(i.table.options.ajaxResponse&&(t=i.table.options.ajaxResponse.call(i.table,i.url,i.params,t)),r(t)):console.warn("Ajax Response Blocked - An active ajax request was blocked by an attempt to change table data while the request was being made"),i.hideLoader(),i.loading=!1}).catch(function(t){console.error("Ajax Load Error: ",t),i.table.options.ajaxError.call(i.table,t),i.showError(),setTimeout(function(){i.hideLoader()},3e3),i.loading=!1,a()})):a()})},g.prototype.showLoader=function(){if("function"==typeof this.table.options.ajaxLoader?this.table.options.ajaxLoader():this.table.options.ajaxLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|loading"),this.table.element.appendChild(this.loaderElement)}},g.prototype.showError=function(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.table.modules.localize.getText("ajax|error"),this.table.element.appendChild(this.loaderElement)},g.prototype.hideLoader=function(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)},g.prototype.defaultConfig={method:"GET"},g.prototype.defaultURLGenerator=function(t,e,n){return t&&n&&Object.keys(n).length&&(e.method&&"get"!=e.method.toLowerCase()||(e.method="get",t+="?"+this.serializeParams(n))),t},g.prototype.defaultLoaderPromise=function(t,e,n){var i,o=this;return new Promise(function(r,a){if(t=o.urlGenerator(t,e,n),"get"!=e.method)if(i="object"===s(o.table.options.ajaxContentType)?o.table.options.ajaxContentType:o.contentTypeFormatters[o.table.options.ajaxContentType]){for(var l in i.headers)e.headers||(e.headers={}),void 0===e.headers[l]&&(e.headers[l]=i.headers[l]);e.body=i.body.call(o,t,e,n)}else console.warn("Ajax Error - Invalid ajaxContentType value:",o.table.options.ajaxContentType);t?(void 0===e.credentials&&(e.credentials="include"),void 0===e.headers&&(e.headers={}),void 0===e.headers.Accept&&(e.headers.Accept="application/json"),void 0===e.headers["X-Requested-With"]&&(e.headers["X-Requested-With"]="XMLHttpRequest"),fetch(t,e).then(function(t){t.ok?t.json().then(function(t){r(t)}).catch(function(t){a(t),console.warn("Ajax Load Error - Invalid JSON returned",t)}):(console.error("Ajax Load Error - Connection Error: "+t.status,t.statusText),a(t))}).catch(function(t){console.error("Ajax Load Error - Connection Error: ",t),a(t)})):(console.warn("Ajax Load Error - No URL Set"),r([]))})},g.prototype.contentTypeFormatters={json:{headers:{"Content-Type":"application/json"},body:function(t,e,n){return JSON.stringify(n)}},form:{headers:{},body:function(t,e,n){var i=this.generateParamsList(n),o=new FormData;return i.forEach(function(t){o.append(t.key,t.value)}),o}}},c.prototype.registerModule("ajax",g);var _=function(t){this.table=t,this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.initialize()};_.prototype.createElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-calcs-holder"),t},_.prototype.initialize=function(){this.genColumn=new i({field:"value"},this)},_.prototype.registerColumnField=function(){},_.prototype.initializeColumn=function(t){var e=t.definition,n={topCalcParams:e.topCalcParams||{},botCalcParams:e.bottomCalcParams||{}};if(e.topCalc){switch(s(e.topCalc)){case"string":this.calculations[e.topCalc]?n.topCalc=this.calculations[e.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.topCalc);break;case"function":n.topCalc=e.topCalc}n.topCalc&&(t.modules.columnCalcs=n,this.topCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(e.bottomCalc){switch(s(e.bottomCalc)){case"string":this.calculations[e.bottomCalc]?n.botCalc=this.calculations[e.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",e.bottomCalc);break;case"function":n.botCalc=e.bottomCalc}n.botCalc&&(t.modules.columnCalcs=n,this.botCalcs.push(t),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}},_.prototype.removeCalcs=function(){var t=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),t=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),t=!0),t&&this.table.rowManager.adjustTableSize()},_.prototype.initializeTopRow=function(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)},_.prototype.initializeBottomRow=function(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)},_.prototype.scrollHorizontal=function(t){this.table.columnManager.getElement().scrollWidth,this.table.element.clientWidth,this.botInitialized&&(this.botRow.getElement().style.marginLeft=-t+"px")},_.prototype.recalc=function(t){var e;if(this.topInitialized||this.botInitialized){if(this.rowsToData(t),this.topInitialized){for(e=this.generateRow("top",this.rowsToData(t)),this.topRow=e;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(e.getElement()),e.initialize(!0)}if(this.botInitialized){for(e=this.generateRow("bottom",this.rowsToData(t)),this.botRow=e;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(e.getElement()),e.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}},_.prototype.recalcRowGroup=function(t){this.recalcGroup(this.table.modules.groupRows.getRowGroup(t))},_.prototype.recalcGroup=function(t){var e,n;t&&t.calcs&&(t.calcs.bottom&&(e=this.rowsToData(t.rows),n=this.generateRowData("bottom",e),t.calcs.bottom.updateData(n),t.calcs.bottom.reinitialize()),t.calcs.top&&(e=this.rowsToData(t.rows),n=this.generateRowData("top",e),t.calcs.top.updateData(n),t.calcs.top.reinitialize()))},_.prototype.generateTopRow=function(t){return this.generateRow("top",this.rowsToData(t))},_.prototype.generateBottomRow=function(t){return this.generateRow("bottom",this.rowsToData(t))},_.prototype.rowsToData=function(t){var e=[];return t.forEach(function(t){e.push(t.getData())}),e},_.prototype.generateRow=function(t,e){var n,i=this,o=this.generateRowData(t,e);return i.table.modExists("mutator")&&i.table.modules.mutator.disable(),n=new a(o,this),i.table.modExists("mutator")&&i.table.modules.mutator.enable(),n.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+t),n.type="calc",n.generateCells=function(){var e=[];i.table.columnManager.columnsByIndex.forEach(function(o){if(o.visible){i.genColumn.setField(o.getField()),i.genColumn.hozAlign=o.hozAlign,o.definition[t+"CalcFormatter"]&&i.table.modExists("format")?i.genColumn.modules.format={formatter:i.table.modules.format.getFormatter(o.definition[t+"CalcFormatter"]),params:o.definition[t+"CalcFormatterParams"]}:i.genColumn.modules.format={formatter:i.table.modules.format.getFormatter("plaintext"),params:{}},i.genColumn.definition.cssClass=o.definition.cssClass;var r=new u(i.genColumn,n);r.column=o,r.setWidth(o.width),o.cells.push(r),e.push(r)}}),this.cells=e},n},_.prototype.generateRowData=function(t,e){var n,i,o={},r="top"==t?this.topCalcs:this.botCalcs,a="top"==t?"topCalc":"botCalc";return r.forEach(function(t){var r=[];t.modules.columnCalcs&&t.modules.columnCalcs[a]&&(e.forEach(function(e){r.push(t.getFieldValue(e))}),i=a+"Params",n="function"==typeof t.modules.columnCalcs[i]?t.modules.columnCalcs[i](value,e):t.modules.columnCalcs[i],t.setFieldValue(o,t.modules.columnCalcs[a](r,e,n)))}),o},_.prototype.hasTopCalcs=function(){return!!this.topCalcs.length},_.prototype.hasBottomCalcs=function(){return!!this.botCalcs.length},_.prototype.redraw=function(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)},_.prototype.getResults=function(){var t=this,e={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach(function(n){e[n.getKey()]=t.getGroupResults(n)}):e={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},e},_.prototype.getGroupResults=function(t){var e=this,n=t._getSelf(),i=t.getSubGroups(),o={};return i.forEach(function(t){o[t.getKey()]=e.getGroupResults(t)}),{top:n.calcs.top?n.calcs.top.getData():{},bottom:n.calcs.bottom?n.calcs.bottom.getData():{},groups:o}},_.prototype.calculations={avg:function(t,e,n){var i=0,o=void 0!==n.precision?n.precision:2;return t.length&&(i=t.reduce(function(t,e){return t+(e=Number(e))}),i/=t.length,i=!1!==o?i.toFixed(o):i),parseFloat(i).toString()},max:function(t,e,n){var i=null,o=void 0!==n.precision&&n.precision;return t.forEach(function(t){((t=Number(t))>i||null===i)&&(i=t)}),null!==i?!1!==o?i.toFixed(o):i:""},min:function(t,e,n){var i=null,o=void 0!==n.precision&&n.precision;return t.forEach(function(t){((t=Number(t))<i||null===i)&&(i=t)}),null!==i?!1!==o?i.toFixed(o):i:""},sum:function(t,e,n){var i=0,o=void 0!==n.precision&&n.precision;return t.length&&t.forEach(function(t){t=Number(t),i+=isNaN(t)?0:Number(t)}),!1!==o?i.toFixed(o):i},concat:function(t,e,n){var i=0;return t.length&&(i=t.reduce(function(t,e){return String(t)+String(e)})),i},count:function(t,e,n){var i=0;return t.length&&t.forEach(function(t){t&&i++}),i}},c.prototype.registerModule("columnCalcs",_);var y=function(t){this.table=t,this.mode=!0,this.copySelector=!1,this.copySelectorParams={},this.copyFormatter=!1,this.copyFormatterParams={},this.pasteParser=function(){},this.pasteAction=function(){},this.htmlElement=!1,this.config={},this.blocked=!0};y.prototype.initialize=function(){var t=this;this.mode=this.table.options.clipboard,!0!==this.mode&&"copy"!==this.mode||this.table.element.addEventListener("copy",function(e){var n;t.processConfig(),t.blocked||(e.preventDefault(),n=t.generateContent(),window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",n):e.clipboardData&&e.clipboardData.setData?(e.clipboardData.setData("text/plain",n),t.htmlElement&&e.clipboardData.setData("text/html",t.htmlElement.outerHTML)):e.originalEvent&&e.originalEvent.clipboardData.setData&&(e.originalEvent.clipboardData.setData("text/plain",n),t.htmlElement&&e.originalEvent.clipboardData.setData("text/html",t.htmlElement.outerHTML)),t.table.options.clipboardCopied.call(this.table,n),t.reset())}),!0!==this.mode&&"paste"!==this.mode||this.table.element.addEventListener("paste",function(e){t.paste(e)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction)},y.prototype.processConfig=function(){var t={columnHeaders:"groups",rowGroups:!0};if(void 0!==this.table.options.clipboardCopyHeader&&(t.columnHeaders=this.table.options.clipboardCopyHeader,console.warn("DEPRECATION WANRING - clipboardCopyHeader option has been depricated, please use the columnHeaders property on the clipboardCopyConfig option")),this.table.options.clipboardCopyConfig)for(var e in this.table.options.clipboardCopyConfig)t[e]=this.table.options.clipboardCopyConfig[e];t.rowGroups&&this.table.options.groupBy&&this.table.modExists("groupRows")&&(this.config.rowGroups=!0),t.columnHeaders?"groups"!==t.columnHeaders&&!0!==t||this.table.columnManager.columns.length==this.table.columnManager.columnsByIndex.length?this.config.columnHeaders="columns":this.config.columnHeaders="groups":this.config.columnHeaders=!1},y.prototype.reset=function(){this.blocked=!1,this.originalSelectionText=""},y.prototype.setPasteAction=function(t){switch(void 0===t?"undefined":s(t)){case"string":this.pasteAction=this.pasteActions[t],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",t);break;case"function":this.pasteAction=t}},y.prototype.setPasteParser=function(t){switch(void 0===t?"undefined":s(t)){case"string":this.pasteParser=this.pasteParsers[t],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",t);break;case"function":this.pasteParser=t}},y.prototype.paste=function(t){var e,n,i;this.checkPaseOrigin(t)&&(e=this.getPasteData(t),(n=this.pasteParser.call(this,e))?(t.preventDefault(),this.table.modExists("mutator")&&(n=this.mutateData(n)),i=this.pasteAction.call(this,n),this.table.options.clipboardPasted.call(this.table,e,n,i)):this.table.options.clipboardPasteError.call(this.table,e))},y.prototype.mutateData=function(t){var e=this,n=[];return Array.isArray(t)?t.forEach(function(t){n.push(e.table.modules.mutator.transformRow(t,"clipboard"))}):n=t,n},y.prototype.checkPaseOrigin=function(t){var e=!0;return("DIV"!=t.target.tagName||this.table.modules.edit.currentCell)&&(e=!1),e},y.prototype.getPasteData=function(t){var e;return window.clipboardData&&window.clipboardData.getData?e=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData?e=t.clipboardData.getData("text/plain"):t.originalEvent&&t.originalEvent.clipboardData.getData&&(e=t.originalEvent.clipboardData.getData("text/plain")),e},y.prototype.copy=function(t,e,n,i,o){var r,a;this.blocked=!1,!0!==this.mode&&"copy"!==this.mode||(void 0!==window.getSelection&&void 0!==document.createRange?((r=document.createRange()).selectNodeContents(this.table.element),(a=window.getSelection()).toString()&&o&&(t="userSelection",n="raw",e=a.toString()),a.removeAllRanges(),a.addRange(r)):void 0!==document.selection&&void 0!==document.body.createTextRange&&(textRange=document.body.createTextRange(),textRange.moveToElementText(this.table.element),textRange.select()),this.setSelector(t),this.copySelectorParams=void 0!==e&&null!=e?e:this.config.columnHeaders,this.setFormatter(n),this.copyFormatterParams=void 0!==i&&null!=i?i:{},document.execCommand("copy"),a&&a.removeAllRanges())},y.prototype.setSelector=function(t){switch(void 0===(t=t||this.table.options.clipboardCopySelector)?"undefined":s(t)){case"string":this.copySelectors[t]?this.copySelector=this.copySelectors[t]:console.warn("Clipboard Error - No such selector found:",t);break;case"function":this.copySelector=t}},y.prototype.setFormatter=function(t){switch(void 0===(t=t||this.table.options.clipboardCopyFormatter)?"undefined":s(t)){case"string":this.copyFormatters[t]?this.copyFormatter=this.copyFormatters[t]:console.warn("Clipboard Error - No such formatter found:",t);break;case"function":this.copyFormatter=t}},y.prototype.generateContent=function(){var t;return this.htmlElement=!1,t=this.copySelector.call(this,this.config,this.copySelectorParams),this.copyFormatter.call(this,t,this.config,this.copyFormatterParams)},y.prototype.generateSimpleHeaders=function(t){var e=[];return t.forEach(function(t){e.push(t.definition.title)}),e},y.prototype.generateColumnGroupHeaders=function(t){var e=this,n=[];return this.table.columnManager.columns.forEach(function(t){var i=e.processColumnGroup(t);i&&n.push(i)}),n},y.prototype.processColumnGroup=function(t){var e=this,n=t.columns,i={type:"group",title:t.definition.title,column:t};if(n.length){if(i.subGroups=[],i.width=0,n.forEach(function(t){var n=e.processColumnGroup(t);n&&(i.width+=n.width,i.subGroups.push(n))}),!i.width)return!1}else{if(!t.field||!t.visible)return!1;i.width=1}return i},y.prototype.groupHeadersToRows=function(t){var e=[];function n(t,i){var o;void 0===e[i]&&(e[i]=[]),e[i].push(t.title),t.subGroups?t.subGroups.forEach(function(t){n(t,i+1)}):(o=0,e.forEach(function(t){var e=t.length;e>o&&(o=e)}),e.forEach(function(t){var e=t.length;if(e<o)for(var n=e;n<o;n++)t.push("")}))}return t.forEach(function(t){n(t,0)}),e},y.prototype.rowsToData=function(t,e,n){var i=this.table.columnManager.columnsByIndex,o=[];return t.forEach(function(t){var e=[],n=t.getData("clipboard");i.forEach(function(t){var i=t.getFieldValue(n);switch(void 0===i?"undefined":s(i)){case"object":i=JSON.stringify(i);break;case"undefined":case"null":i="";break;default:i=i}e.push(i)}),o.push(e)}),o},y.prototype.buildComplexRows=function(t){var e=this,n=[];return this.table.modules.groupRows.getGroups().forEach(function(t){n.push(e.processGroupData(t))}),n},y.prototype.processGroupData=function(t){var e=this,n=t.getSubGroups(),i={type:"group",key:t.key};return n.length?(i.subGroups=[],n.forEach(function(t){i.subGroups.push(e.processGroupData(t))})):i.rows=t.getRows(!0),i},y.prototype.buildOutput=function(t,e,n){var i=this,o=[],r=this.table.columnManager.columnsByIndex;return e.columnHeaders&&("groups"==e.columnHeaders?(r=this.generateColumnGroupHeaders(this.table.columnManager.columns),o=o.concat(this.groupHeadersToRows(r))):o.push(this.generateSimpleHeaders(r))),this.table.options.clipboardCopyStyled&&this.generateHTML(t,r,e,n),e.rowGroups?t.forEach(function(t){o=o.concat(i.parseRowGroupData(t,e,n))}):o=o.concat(this.rowsToData(t,e,n)),o},y.prototype.parseRowGroupData=function(t,e,n){var i=this,o=[];return o.push([t.key]),t.subGroups?t.subGroups.forEach(function(t){o=o.concat(i.parseRowGroupData(t,e,n))}):o=o.concat(this.rowsToData(t.rows,e,n)),o},y.prototype.generateHTML=function(t,e,n,i){var o,r,a,l,u,d,c,h,p=this,f=[];function m(t){t.forEach(function(t,n){var i=document.createElement("tr"),d=t.getData("clipboard"),c=l;e.forEach(function(t,n){var o=document.createElement("td"),r=t.getFieldValue(d);switch(void 0===r?"undefined":s(r)){case"object":r=JSON.stringify(r);break;case"undefined":case"null":r="";break;default:r=r}o.innerHTML=r,t.definition.align&&(o.style.textAlign=t.definition.align),e.length,u&&p.mapElementStyles(u,o,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),i.appendChild(o)}),n%2||!r||(c=r),n%2&&a&&(c=a),c&&p.mapElementStyles(c,i,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o.appendChild(i)})}this.htmlElement=document.createElement("table"),p.mapElementStyles(this.table.element,this.htmlElement,["border-top","border-left","border-right","border-bottom"]),n.columnHeaders&&("groups"==n.columnHeaders?(e.forEach(function(t){!function t(e,n){void 0===f[n]&&(f[n]=[]),f[n].push({title:e.title,width:e.width,height:1,children:!!e.subGroups,element:e.column.getElement()}),e.subGroups&&e.subGroups.forEach(function(e){t(e,n+1)})}(t,0)}),f.forEach(function(t,e){t.forEach(function(t){t.children||(t.height=f.length-e)})}),function(t){var e=document.createElement("thead");t.forEach(function(t){var n=document.createElement("tr");t.forEach(function(t){var e=document.createElement("th");t.width>1&&(e.colSpan=t.width),t.height>1&&(e.rowSpan=t.height),e.innerHTML=t.title,p.mapElementStyles(t.element,e,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),n.appendChild(e)}),p.mapElementStyles(p.table.columnManager.getHeadersElement(),n,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.appendChild(n)}),p.htmlElement.appendChild(e)}(f)):(h=document.createElement("tr"),e.forEach(function(t){var e=document.createElement("th");e.innerHTML=t.definition.title,p.mapElementStyles(t.getElement(),e,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),h.appendChild(e)}),p.mapElementStyles(p.table.columnManager.getHeadersElement(),h,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),p.htmlElement.appendChild(document.createElement("thead").appendChild(h)))),e=this.table.columnManager.columnsByIndex,o=document.createElement("tbody"),window.getComputedStyle&&(r=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),a=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),l=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),d=this.table.element.getElementsByClassName("tabulator-group")[0],l&&(c=l.getElementsByClassName("tabulator-cell"),u=c[0],c[c.length-1])),n.rowGroups?t.forEach(function(t){!function t(n){var i=document.createElement("tr"),r=document.createElement("td");r.colSpan=e.length,r.innerHTML=n.key,i.appendChild(r),o.appendChild(i),p.mapElementStyles(d,i,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),n.subGroups?n.subGroups.forEach(function(e){t(e)}):m(n.rows)}(t)}):m(t),this.htmlElement.appendChild(o)},y.prototype.mapElementStyles=function(t,e,n){var i={"background-color":"backgroundColor",color:"fontColor","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom"};if(window.getComputedStyle){var o=window.getComputedStyle(t);n.forEach(function(t){e.style[i[t]]=o.getPropertyValue(t)})}},y.prototype.copySelectors={userSelection:function(t,e){return e},selected:function(t,e){var n=[];return this.table.modExists("selectRow",!0)&&(n=this.table.modules.selectRow.getSelectedRows()),t.rowGroups&&console.warn("Clipboard Warning - select coptSelector does not support row groups"),this.buildOutput(n,t,e)},table:function(t,e){return t.rowGroups&&console.warn("Clipboard Warning - table coptSelector does not support row groups"),this.buildOutput(this.table.rowManager.getComponents(),t,e)},active:function(t,e){var n;return n=t.rowGroups?this.buildComplexRows(t):this.table.rowManager.getComponents(!0),this.buildOutput(n,t,e)}},y.prototype.copyFormatters={raw:function(t,e){return t},table:function(t,e){var n=[];return t.forEach(function(t){t.forEach(function(t){void 0===t&&(t=""),(t=null==t?"":t.toString()).match(/\r|\n/)&&(t='"'+(t=t.split('"').join('""'))+'"')}),n.push(t.join("\t"))}),n.join("\n")}},y.prototype.pasteParsers={table:function(t){var e=[],n=!0,i=this.table.columnManager.columns,o=[],r=[];return(t=t.split("\n")).forEach(function(t){e.push(t.split("\t"))}),!(!e.length||1===e.length&&e[0].length<2)&&(e[0].forEach(function(t){var e=i.find(function(e){return t&&e.definition.title&&t.trim()&&e.definition.title.trim()===t.trim()});e?o.push(e):n=!1}),n||(n=!0,o=[],e[0].forEach(function(t){var e=i.find(function(e){return t&&e.field&&t.trim()&&e.field.trim()===t.trim()});e?o.push(e):n=!1}),n||(o=this.table.columnManager.columnsByIndex)),n&&e.shift(),e.forEach(function(t){var e={};t.forEach(function(t,n){o[n]&&(e[o[n].field]=t)}),r.push(e)}),r)}},y.prototype.pasteActions={replace:function(t){return this.table.setData(t)},update:function(t){return this.table.updateOrAddData(t)},insert:function(t){return this.table.addData(t)}},c.prototype.registerModule("clipboard",y);var v=function(t){this.table=t,this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.startOpen=function(){},this.displayIndex=0};v.prototype.initialize=function(){var t=null,e=this.table.options;switch(this.field=e.dataTreeChildField,this.indent=e.dataTreeChildIndent,e.dataTreeBranchElement&&(!0===e.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof e.dataTreeBranchElement?((t=document.createElement("div")).innerHTML=e.dataTreeBranchElement,this.branchEl=t.firstChild):this.branchEl=e.dataTreeBranchElement),e.dataTreeCollapseElement?"string"==typeof e.dataTreeCollapseElement?((t=document.createElement("div")).innerHTML=e.dataTreeCollapseElement,this.collapseEl=t.firstChild):this.collapseEl=e.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),e.dataTreeExpandElement?"string"==typeof e.dataTreeExpandElement?((t=document.createElement("div")).innerHTML=e.dataTreeExpandElement,this.expandEl=t.firstChild):this.expandEl=e.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),s(e.dataTreeStartExpanded)){case"boolean":this.startOpen=function(t,n){return e.dataTreeStartExpanded};break;case"function":this.startOpen=e.dataTreeStartExpanded;break;default:this.startOpen=function(t,n){return e.dataTreeStartExpanded[n]}}},v.prototype.initializeRow=function(t){var e=void 0!==t.getData()[this.field];t.modules.dataTree={index:0,open:!!e&&this.startOpen(t.getComponent(),0),controlEl:!1,branchEl:!1,parent:!1,children:e}},v.prototype.layoutRow=function(t){var e=t.getCells()[0].getElement(),n=t.modules.dataTree;e.style.paddingLeft=parseInt(window.getComputedStyle(e,null).getPropertyValue("padding-left"))+n.index*this.indent+"px",n.branchEl&&n.branchEl.parentNode.removeChild(n.branchEl),this.generateControlElement(t,e),n.index&&this.branchEl&&(n.branchEl=this.branchEl.cloneNode(!0),e.insertBefore(n.branchEl,e.firstChild),e.style.paddingLeft=parseInt(e.style.paddingLeft)+(n.branchEl.offsetWidth+n.branchEl.style.marginRight)*(n.index-1)+"px")},v.prototype.generateControlElement=function(t,e){var n=this,i=t.modules.dataTree,o=(e=e||t.getCells()[0].getElement(),i.controlEl);!1!==i.children&&(i.open?(i.controlEl=this.collapseEl.cloneNode(!0),i.controlEl.addEventListener("click",function(e){e.stopPropagation(),n.collapseRow(t)})):(i.controlEl=this.expandEl.cloneNode(!0),i.controlEl.addEventListener("click",function(e){e.stopPropagation(),n.expandRow(t)})),i.controlEl.addEventListener("mousedown",function(t){t.stopPropagation()}),o&&o.parentNode===e?o.parentNode.replaceChild(i.controlEl,o):e.insertBefore(i.controlEl,e.firstChild))},v.prototype.setDisplayIndex=function(t){this.displayIndex=t},v.prototype.getDisplayIndex=function(){return this.displayIndex},v.prototype.getRows=function(t){var e=this,n=[];return t.forEach(function(t,i){var o;n.push(t),t instanceof a&&((o=t.modules.dataTree.children).index||!1===o.children||e.getChildren(t).forEach(function(t){n.push(t)}))}),n},v.prototype.getChildren=function(t){var e=this,n=t.modules.dataTree,i=[];return!1!==n.children&&n.open&&(Array.isArray(n.children)||(n.children=this.generateChildren(t)),n.children.forEach(function(t){i.push(t),e.getChildren(t).forEach(function(t){i.push(t)})})),i},v.prototype.generateChildren=function(t){var e=this,n=[];return t.getData()[this.field].forEach(function(i){var o=new a(i||{},e.table.rowManager);o.modules.dataTree.index=t.modules.dataTree.index+1,o.modules.dataTree.parent=t,o.modules.dataTree.open=e.startOpen(t,o.modules.dataTree.index),n.push(o)}),n},v.prototype.expandRow=function(t,e){var n=t.modules.dataTree;!1!==n.children&&(n.open=!0,t.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowExpanded(t.getComponent(),t.modules.dataTree.index))},v.prototype.collapseRow=function(t){var e=t.modules.dataTree;!1!==e.children&&(e.open=!1,t.reinitialize(),this.table.rowManager.refreshActiveData("tree",!1,!0),this.table.options.dataTreeRowCollapsed(t.getComponent(),t.modules.dataTree.index))},v.prototype.toggleRow=function(t){var e=t.modules.dataTree;!1!==e.children&&(e.open?this.collapseRow(t):this.expandRow(t))},v.prototype.getTreeParent=function(t){return!!t.modules.dataTree.parent&&t.modules.dataTree.parent.getComponent()},v.prototype.getTreeChildren=function(t){var e=t.modules.dataTree,n=[];return e.children&&(Array.isArray(e.children)||(e.children=this.generateChildren(t)),e.children.forEach(function(t){t instanceof a&&n.push(t.getComponent())})),n},v.prototype.checkForRestyle=function(t){t.row.cells.indexOf(t)||!1!==t.row.modules.dataTree.children&&t.row.reinitialize()},c.prototype.registerModule("dataTree",v);var b=function(t){this.table=t,this.fields={},this.columnsByIndex=[],this.columnsByField={},this.config={}};b.prototype.download=function(t,e,n,i){var o=this,r=!1;this.processConfig(),"function"==typeof t?r=t:o.downloaders[t]?r=o.downloaders[t]:console.warn("Download Error - No such download type found: ",t),this.processColumns(),r&&r.call(this,o.processDefinitions(),o.processData(),n||{},function(n,r){i?i(n):o.triggerDownload(n,r,t,e)},this.config)},b.prototype.processConfig=function(){var t={columnGroups:!0,rowGroups:!0};if(this.table.options.downloadConfig)for(var e in this.table.options.downloadConfig)t[e]=this.table.options.downloadConfig[e];t.rowGroups&&this.table.options.groupBy&&this.table.modExists("groupRows")&&(this.config.rowGroups=!0),t.columnGroups&&this.table.columnManager.columns.length!=this.table.columnManager.columnsByIndex.length&&(this.config.columnGroups=!0)},b.prototype.processColumns=function(){var t=this;t.columnsByIndex=[],t.columnsByField={},t.table.columnManager.columnsByIndex.forEach(function(e){e.field&&e.visible&&!1!==e.definition.download&&(t.columnsByIndex.push(e),t.columnsByField[e.field]=e)})},b.prototype.processDefinitions=function(){var t=this,e=[];return this.config.columnGroups?t.table.columnManager.columns.forEach(function(n){var i=t.processColumnGroup(n);i&&e.push(i)}):t.columnsByIndex.forEach(function(n){!1!==n.download&&e.push(t.processDefinition(n))}),e},b.prototype.processColumnGroup=function(t){var e=this,n=t.columns,i={type:"group",title:t.definition.title};if(n.length){if(i.subGroups=[],i.width=0,n.forEach(function(t){var n=e.processColumnGroup(t);n&&(i.width+=n.width,i.subGroups.push(n))}),!i.width)return!1}else{if(!t.field||!t.visible||!1===t.definition.download)return!1;i.width=1,i.definition=this.processDefinition(t)}return i},b.prototype.processDefinition=function(t){var e={};for(var n in t.definition)e[n]=t.definition[n];return void 0!==t.definition.downloadTitle&&(e.title=t.definition.downloadTitle),e},b.prototype.processData=function(){var t=this,e=[];return this.config.rowGroups?this.table.modules.groupRows.getGroups().forEach(function(n){e.push(t.processGroupData(n))}):e=this.table.rowManager.getData(!0,"download"),"function"==typeof this.table.options.downloadDataFormatter&&(e=this.table.options.downloadDataFormatter(e)),e},b.prototype.processGroupData=function(t){var e=this,n=t.getSubGroups(),i={type:"group",key:t.key};return n.length?(i.subGroups=[],n.forEach(function(t){i.subGroups.push(e.processGroupData(t))})):i.rows=t.getData(!0,"download"),i},b.prototype.triggerDownload=function(t,e,n,i){var o=document.createElement("a"),r=new Blob([t],{type:e});i=i||"Tabulator."+("function"==typeof n?"txt":n),(r=this.table.options.downloadReady.call(this.table,t,r))&&(navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(r,i):(o.setAttribute("href",window.URL.createObjectURL(r)),o.setAttribute("download",i),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)),this.table.options.downloadComplete&&this.table.options.downloadComplete())},b.prototype.getFieldValue=function(t,e){var n=this.columnsByField[t];return!!n&&n.getFieldValue(e)},b.prototype.commsReceived=function(t,e,n){switch(e){case"intercept":this.download(n.type,"",n.options,n.intercept)}},b.prototype.downloaders={csv:function(t,e,n,i,o){var r,a=this,l=[],u=[],d=n&&n.delimiter?n.delimiter:",";function c(t){t.forEach(function(t){var e=[];u.forEach(function(n){var i=a.getFieldValue(n,t);switch(void 0===i?"undefined":s(i)){case"object":i=JSON.stringify(i);break;case"undefined":case"null":i="";break;default:i=i}e.push('"'+String(i).split('"').join('""')+'"')}),r.push(e.join(d))})}o.columnGroups?(console.warn("Download Warning - CSV downloader cannot process column groups"),t.forEach(function(t){!function t(e,n){e.subGroups?e.subGroups.forEach(function(e){t(e,n+1)}):(l.push('"'+String(e.title).split('"').join('""')+'"'),u.push(e.definition.field))}(t,0)})):t.forEach(function(t){l.push('"'+String(t.title).split('"').join('""')+'"'),u.push(t.field)}),r=[l.join(d)],o.rowGroups?(console.warn("Download Warning - CSV downloader cannot process row groups"),e.forEach(function(t){!function t(e){e.subGroups?e.subGroups.forEach(function(e){t(e)}):c(e.rows)}(t)})):c(e),i(r.join("\n"),"text/csv")},json:function(t,e,n,i,o){i(JSON.stringify(e,null,"\t"),"application/json")},pdf:function(t,e,n,i,o){var r=this,a=[],l=[],u=[],d=[],c={},h={},p=n.jsPDF||{},f=n&&n.title?n.title:"";function m(t){switch(void 0===t?"undefined":s(t)){case"object":t=JSON.stringify(t);break;case"undefined":case"null":t="";break;default:t=t}return t}function g(t){t.forEach(function(t){var e=[];a.forEach(function(n){var i=r.getFieldValue(n,t);e.push(m(i))}),u.push(e)})}p.orientation||(p.orientation=n.orientation||"landscape"),p.unit||(p.unit="pt"),o.columnGroups?(console.warn("Download Warning - PDF downloader cannot process column groups"),t.forEach(function(t){!function t(e,n){e.subGroups?e.subGroups.forEach(function(e){t(e,n+1)}):(l.push(e.title||""),a.push(e.definition.field))}(t,0)})):t.forEach(function(t){t.field&&(l.push(t.title||""),a.push(t.field))}),o.rowGroups?e.forEach(function(t){!function t(e){var n=[];n.push(m(e.key)),d.push(u.length),u.push(n),e.subGroups?e.subGroups.forEach(function(e){t(e)}):g(e.rows)}(t)}):g(e);var _=new jsPDF(p);if(n&&n.autoTable&&(c="function"==typeof n.autoTable?n.autoTable(_)||{}:n.autoTable),o.rowGroups){var y=function(t,e){if(d.indexOf(e.row.index)>-1)for(var n in h)t.styles[n]=h[n]};if(h=n.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},c.createdCell){var v=c.createdCell;c.createdCell=function(t,e){y(t,e),v(t,e)}}else c.createdCell=y}f&&(c.addPageContent=function(t){_.text(f,40,30)}),_.autoTable(l,u,c),i(_.output("arraybuffer"),"application/pdf")},xlsx:function(t,e,n,i,o){var r=this,a=n.sheetName||"Sheet1",l={SheetNames:[],Sheets:{}},u=[],d=[];function c(){var n=[],i=[],a=[];function l(t,e){var o;void 0===n[e]&&(n[e]=[]),void 0===d[e]&&(d[e]=[]),t.width>1&&d[e].push({type:"hoz",start:n[e].length,end:n[e].length+t.width-1}),n[e].push(t.title),t.subGroups?t.subGroups.forEach(function(t){l(t,e+1)}):(i.push(t.definition.field),i.length,o=0,n.forEach(function(t){var e=t.length;e>o&&(o=e)}),n.forEach(function(t){var e=t.length;if(e<o)for(var n=e;n<o;n++)t.push("")}),d[e].push({type:"vert",start:i.length-1}))}function c(t){t.forEach(function(t){var e=[];i.forEach(function(n){var i=r.getFieldValue(n,t);e.push("object"===(void 0===i?"undefined":s(i))?JSON.stringify(i):i)}),a.push(e)})}return o.columnGroups?(t.forEach(function(t){l(t,0)}),n.forEach(function(t){a.push(t)})):(t.forEach(function(t){n.push(t.title),i.push(t.field)}),a.push(n)),o.rowGroups?e.forEach(function(t){!function t(e){var n=[];n.push(e.key),u.push(a.length),a.push(n),e.subGroups?e.subGroups.forEach(function(e){t(e)}):c(e.rows)}(t)}):c(e),function(){var t={},e={s:{c:0,r:0},e:{c:i.length,r:a.length}};XLSX.utils.sheet_add_aoa(t,a),t["!ref"]=XLSX.utils.encode_range(e);var o=function(){var t=[];return u.forEach(function(e){t.push({s:{r:e,c:0},e:{r:e,c:i.length-1}})}),d.forEach(function(e,i){e.forEach(function(e){"hoz"===e.type?t.push({s:{r:i,c:e.start},e:{r:i,c:e.end}}):i!=n.length-1&&t.push({s:{r:i,c:e.start},e:{r:n.length-1,c:e.start}})})}),t}();return o.length&&(t["!merges"]=o),t}()}if(n.sheetOnly)i(c());else{if(n.sheets)for(var h in n.sheets)!0===n.sheets[h]?(l.SheetNames.push(h),l.Sheets[h]=c()):(l.SheetNames.push(h),this.table.modules.comms.send(n.sheets[h],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},intercept:function(t){l.Sheets[h]=t}}));else l.SheetNames.push(a),l.Sheets[a]=c();i(function(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),i=0;i!=t.length;++i)n[i]=255&t.charCodeAt(i);return e}(XLSX.write(l,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}}},c.prototype.registerModule("download",b);var w=function(t){this.table=t,this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1};w.prototype.initializeColumn=function(t){var e={editor:!1,blocked:!1,check:t.definition.editable,params:t.definition.editorParams||{}};switch(s(t.definition.editor)){case"string":"tick"===t.definition.editor&&(t.definition.editor="tickCross",console.warn("DEPRECATION WANRING - the tick editor has been depricated, please use the tickCross editor")),this.editors[t.definition.editor]?e.editor=this.editors[t.definition.editor]:console.warn("Editor Error - No such editor found: ",t.definition.editor);break;case"function":e.editor=t.definition.editor;break;case"boolean":!0===t.definition.editor&&("function"!=typeof t.definition.formatter?("tick"===t.definition.formatter&&(t.definition.formatter="tickCross",console.warn("DEPRECATION WANRING - the tick editor has been depricated, please use the tickCross editor")),this.editors[t.definition.formatter]?e.editor=this.editors[t.definition.formatter]:e.editor=this.editors.input):console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",t.definition.formatter))}e.editor&&(t.modules.edit=e)},w.prototype.getCurrentCell=function(){return!!this.currentCell&&this.currentCell.getComponent()},w.prototype.clearEditor=function(){var t,e=this.currentCell;if(this.invalidEdit=!1,e){for(this.currentCell=!1,(t=e.getElement()).classList.remove("tabulator-validation-fail"),t.classList.remove("tabulator-editing");t.firstChild;)t.removeChild(t.firstChild);e.row.getElement().classList.remove("tabulator-row-editing")}},w.prototype.cancelEdit=function(){if(this.currentCell){var t=this.currentCell,e=this.currentCell.getComponent();this.clearEditor(),t.setValueActual(t.getValue()),t.column.cellEvents.cellEditCancelled&&t.column.cellEvents.cellEditCancelled.call(this.table,e),this.table.options.cellEditCancelled.call(this.table,e)}},w.prototype.bindEditor=function(t){var e=this,n=t.getElement();n.setAttribute("tabindex",0),n.addEventListener("click",function(t){n.classList.contains("tabulator-editing")||n.focus()}),n.addEventListener("mousedown",function(t){e.mouseClick=!0}),n.addEventListener("focus",function(n){e.recursionBlock||e.edit(t,n,!1)})},w.prototype.focusCellNoEvent=function(t){this.recursionBlock=!0,t.getElement().focus(),this.recursionBlock=!1},w.prototype.editCell=function(t,e){this.focusCellNoEvent(t),this.edit(t,!1,e)},w.prototype.edit=function(t,e,n){var i,o,r,a=this,l=!0,u=function(){},d=t.getElement();if(!this.currentCell){if(t.column.modules.edit.blocked)return this.mouseClick=!1,d.blur(),!1;switch(e&&e.stopPropagation(),s(t.column.modules.edit.check)){case"function":l=t.column.modules.edit.check(t.getComponent());break;case"boolean":l=t.column.modules.edit.check}if(l||n){if(a.cancelEdit(),a.currentCell=t,o=t.getComponent(),this.mouseClick&&(this.mouseClick=!1,t.column.cellEvents.cellClick&&t.column.cellEvents.cellClick.call(this.table,e,o)),t.column.cellEvents.cellEditing&&t.column.cellEvents.cellEditing.call(this.table,o),a.table.options.cellEditing.call(this.table,o),r="function"==typeof t.column.modules.edit.params?t.column.modules.edit.params(o):t.column.modules.edit.params,!1===(i=t.column.modules.edit.editor.call(a,o,function(t){u=t},function(e){if(a.currentCell===t){var n=!0;t.column.modules.validate&&a.table.modExists("validate")&&(n=a.table.modules.validate.validate(t.column.modules.validate,t.getComponent(),e)),!0===n?(a.clearEditor(),t.setValue(e,!0),a.table.options.dataTree&&a.table.modExists("dataTree")&&a.table.modules.dataTree.checkForRestyle(t)):(a.invalidEdit=!0,d.classList.add("tabulator-validation-fail"),a.focusCellNoEvent(t),u(),a.table.options.validationFailed.call(a.table,t.getComponent(),e,n))}},function(){a.currentCell===t&&(a.cancelEdit(),a.table.options.dataTree&&a.table.modExists("dataTree")&&a.table.modules.dataTree.checkForRestyle(t))},r)))return d.blur(),!1;if(!(i instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",i),d.blur(),!1;for(d.classList.add("tabulator-editing"),t.row.getElement().classList.add("tabulator-row-editing");d.firstChild;)d.removeChild(d.firstChild);d.appendChild(i),u();for(var c=d.children,h=0;h<c.length;h++)c[h].addEventListener("click",function(t){t.stopPropagation()});return!0}return this.mouseClick=!1,d.blur(),!1}this.invalidEdit||this.cancelEdit()},w.prototype.editors={input:function(t,e,n,i,o){var r=t.getValue(),a=document.createElement("input");function s(t){null==r&&""!==a.value||a.value!=r?n(a.value):i()}return a.setAttribute("type","text"),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",a.value=void 0!==r?r:"",e(function(){a.focus(),a.style.height="100%"}),a.addEventListener("change",s),a.addEventListener("blur",s),a.addEventListener("keydown",function(t){switch(t.keyCode){case 13:n(a.value);break;case 27:i()}}),a},textarea:function(t,e,n,i,o){var r=t.getValue(),a=String(null!==r&&"undefined"!==r?r:""),s=((a.match(/(?:\r\n|\r|\n)/g)||[]).length,document.createElement("textarea")),l=0;function u(e){null==r&&""!==s.value||s.value!=r?(n(s.value),setTimeout(function(){t.getRow().normalizeHeight()},300)):i()}return s.style.display="block",s.style.padding="2px",s.style.height="100%",s.style.width="100%",s.style.boxSizing="border-box",s.style.whiteSpace="pre-wrap",s.style.resize="none",s.value=a,e(function(){s.focus(),s.style.height="100%"}),s.addEventListener("change",u),s.addEventListener("blur",u),s.addEventListener("keyup",function(){s.style.height="";var e=s.scrollHeight;s.style.height=e+"px",e!=l&&(l=e,t.getRow().normalizeHeight())}),s.addEventListener("keydown",function(t){27==t.keyCode&&i()}),s},number:function(t,e,n,i,o){var r=t.getValue(),a=document.createElement("input");function s(){var t=a.value;isNaN(t)||""===t||(t=Number(t)),t!=r?n(t):i()}return a.setAttribute("type","number"),void 0!==o.max&&a.setAttribute("max",o.max),void 0!==o.min&&a.setAttribute("min",o.min),void 0!==o.step&&a.setAttribute("step",o.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",a.value=r,e(function(){a.focus(),a.style.height="100%",a.addEventListener("blur",function(t){s()})}),a.addEventListener("keydown",function(t){switch(t.keyCode){case 13:case 9:s();break;case 27:i()}}),a},range:function(t,e,n,i,o){var r=t.getValue(),a=document.createElement("input");function s(){var t=a.value;isNaN(t)||""===t||(t=Number(t)),t!=r?n(t):i()}return a.setAttribute("type","range"),void 0!==o.max&&a.setAttribute("max",o.max),void 0!==o.min&&a.setAttribute("min",o.min),void 0!==o.step&&a.setAttribute("step",o.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",a.value=r,e(function(){a.focus(),a.style.height="100%"}),a.addEventListener("blur",function(t){s()}),a.addEventListener("keydown",function(t){switch(t.keyCode){case 13:case 9:s();break;case 27:i()}}),a},select:function(t,e,n,i,o){var r=this,a=t.getElement(),l=t.getValue(),u=document.createElement("input"),d=document.createElement("div"),h=[],p=[],f={},m=!0;function g(e,n){var i=[],r=[];function a(t){return(t={label:o.listItemFormatter?o.listItemFormatter(t.value,t.label):t.label,value:t.value,element:!1}).value===n&&_(t),i.push(t),r.push(t),t}if("function"==typeof e&&(e=e(t)),Array.isArray(e))e.forEach(function(t){var e;"object"===(void 0===t?"undefined":s(t))?t.options?(e={label:t.label,group:!0,element:!1},r.push(e),t.options.forEach(function(t){a(t)})):a(t):((e={label:o.listItemFormatter?o.listItemFormatter(t,t):t,value:t,element:!1}).value===n&&_(e),i.push(e),r.push(e))});else for(var l in e){var u={label:o.listItemFormatter?o.listItemFormatter(l,e[l]):e[l],value:l,element:!1};u.value===n&&_(u),i.push(u),r.push(u)}h=i,p=r,function(){for(;d.firstChild;)d.removeChild(d.firstChild);p.forEach(function(t){var e=t.element;e||(t.group?((e=document.createElement("div")).classList.add("tabulator-edit-select-list-group"),e.tabIndex=0,e.innerHTML=""===t.label?"&nbsp;":t.label):((e=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),e.tabIndex=0,e.innerHTML=""===t.label?"&nbsp;":t.label,e.addEventListener("click",function(){_(t),y()}),t===f&&e.classList.add("active")),e.addEventListener("mousedown",function(){m=!1,setTimeout(function(){m=!0},10)}),t.element=e),d.appendChild(e)})}()}function _(t){f&&f.element&&f.element.classList.remove("active"),f=t,u.value="&nbsp;"===t.label?"":t.label,t.element&&t.element.classList.add("active")}function y(){w(),l!==f.value?(l=f.value,n(f.value)):i()}function v(){w(),i()}function b(){if(!d.parentNode){!0===o.values?g((n={},i=t.getColumn()._getSelf(),r.table.getData().forEach(function(t){var e=i.getFieldValue(t);null!=e&&""!==e&&(n[e]=!0)}),Object.keys(n)),l):g(o.values||[],l);var e=c.prototype.helpers.elOffset(a);d.style.minWidth=a.offsetWidth+"px",d.style.top=e.top+a.offsetHeight+"px",d.style.left=e.left+"px",document.body.appendChild(d)}var n,i}function w(){d.parentNode&&d.parentNode.removeChild(d)}return(Array.isArray(o)||!Array.isArray(o)&&"object"===(void 0===o?"undefined":s(o))&&!o.values)&&(console.warn("DEPRECATION WANRING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),o={values:o}),u.setAttribute("type","text"),u.style.padding="4px",u.style.width="100%",u.style.boxSizing="border-box",u.readonly=!0,u.addEventListener("keydown",function(t){var e;switch(t.keyCode){case 38:t.stopImmediatePropagation(),t.stopPropagation(),(e=h.indexOf(f))>0&&_(h[e-1]);break;case 40:t.stopImmediatePropagation(),t.stopPropagation(),(e=h.indexOf(f))<h.length-1&&_(-1==e?h[0]:h[e+1]);break;case 13:y();break;case 27:v()}}),u.addEventListener("blur",function(t){m&&v()}),u.addEventListener("focus",function(t){b()}),(d=document.createElement("div")).classList.add("tabulator-edit-select-list"),e(function(){u.style.height="100%",u.focus()}),u},autocomplete:function(t,e,n,i,o){var r=this,a=t.getElement(),s=t.getValue(),l=document.createElement("input"),u=document.createElement("div"),d=[],h=[],p=[],f={},m=!0;function g(t,e){var n=[];o.searchFunc?n=o.searchFunc(t,p):""===t?o.showListOnEmpty&&d.forEach(function(t){n.push(t)}):d.forEach(function(e){null===e.value&&void 0===e.value||(String(e.value).toLowerCase().indexOf(String(t).toLowerCase())>-1||String(e.title).toLowerCase().indexOf(String(t).toLowerCase())>-1)&&n.push(e)}),h=n,function(t){for(var e=!1;u.firstChild;)u.removeChild(u.firstChild);h.forEach(function(n){var i=n.element;i||((i=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),i.tabIndex=0,i.innerHTML=n.title,i.addEventListener("click",function(){_(n),y()}),i.addEventListener("mousedown",function(){m=!1,setTimeout(function(){m=!0},10)}),n.element=i,t&&n.value==s&&(l.value=n.title,n.element.classList.add("active"),e=!0),n===f&&(n.element.classList.add("active"),e=!0)),u.appendChild(i)}),e||_(!1)}(e)}function _(t,e){f&&f.element&&f.element.classList.remove("active"),f=t,t&&t.element&&t.element.classList.add("active")}function y(){b(),f?s!==f.value?(s=f.value,l.value=f.value,n(l.value)):i():o.freetext?(s=l.value,n(l.value)):o.allowEmpty&&""===l.value?(s=l.value,n(l.value)):i()}function v(){if(!u.parentNode){for(;u.firstChild;)u.removeChild(u.firstChild);!0===o.values?(n={},i=t.getColumn()._getSelf(),r.table.getData().forEach(function(t){var e=i.getFieldValue(t);null!=e&&""!==e&&(n[e]=!0)}),p=Object.keys(n)):p=o.values||[],function(t,e){var n=[];if(Array.isArray(t))t.forEach(function(t){var i={title:o.listItemFormatter?o.listItemFormatter(t,t):t,value:t,element:!1};i.value===e&&_(i),n.push(i)});else for(var i in t){var r={title:o.listItemFormatter?o.listItemFormatter(i,t[i]):t[i],value:i,element:!1};r.value===e&&_(r),n.push(r)}d=n}(p,s);var e=c.prototype.helpers.elOffset(a);u.style.minWidth=a.offsetWidth+"px",u.style.top=e.top+a.offsetHeight+"px",u.style.left=e.left+"px",document.body.appendChild(u)}var n,i}function b(){u.parentNode&&u.parentNode.removeChild(u)}return l.setAttribute("type","text"),l.style.padding="4px",l.style.width="100%",l.style.boxSizing="border-box",l.addEventListener("keydown",function(t){var e;switch(t.keyCode){case 38:t.stopImmediatePropagation(),t.stopPropagation(),_((e=h.indexOf(f))>0&&h[e-1]);break;case 40:t.stopImmediatePropagation(),t.stopPropagation(),(e=h.indexOf(f))<h.length-1&&_(-1==e?h[0]:h[e+1]);break;case 13:y();break;case 27:b(),i()}}),l.addEventListener("keyup",function(t){switch(t.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:g(l.value)}}),l.addEventListener("blur",function(t){m&&y()}),l.addEventListener("focus",function(t){v(),l.value=s,g(s,!0)}),(u=document.createElement("div")).classList.add("tabulator-edit-select-list"),e(function(){l.style.height="100%",l.focus()}),l},star:function(t,e,n,i,o){var r=this,a=t.getElement(),s=t.getValue(),l=a.getElementsByTagName("svg").length||5,u=a.getElementsByTagName("svg")[0]?a.getElementsByTagName("svg")[0].getAttribute("width"):14,d=[],c=document.createElement("div"),h=document.createElementNS("http://www.w3.org/2000/svg","svg");function p(t){d.forEach(function(e,n){n<t?("ie"==r.table.browser?e.setAttribute("class","tabulator-star-active"):e.classList.replace("tabulator-star-inactive","tabulator-star-active"),e.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==r.table.browser?e.setAttribute("class","tabulator-star-inactive"):e.classList.replace("tabulator-star-active","tabulator-star-inactive"),e.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function f(t){var e=h.cloneNode(!0);d.push(e),e.addEventListener("mouseover",function(e){e.stopPropagation(),p(t)}),e.addEventListener("click",function(e){e.stopPropagation(),n(t)}),c.appendChild(e)}function m(t){s=t,p(t)}a.style.whiteSpace="nowrap",a.style.overflow="hidden",a.style.textOverflow="ellipsis",c.style.verticalAlign="middle",c.style.display="inline-block",c.style.padding="4px",h.setAttribute("width",u),h.setAttribute("height",u),h.setAttribute("viewBox","0 0 512 512"),h.setAttribute("xml:space","preserve"),h.style.padding="0 1px";for(var g=1;g<=l;g++)f(g);return p(s=Math.min(parseInt(s),l)),c.addEventListener("mouseover",function(t){p(0)}),c.addEventListener("click",function(t){n(0)}),a.addEventListener("blur",function(t){i()}),a.addEventListener("keydown",function(t){switch(t.keyCode){case 39:m(s+1);break;case 37:m(s-1);break;case 13:n(s);break;case 27:i()}}),c},progress:function(t,e,n,i,o){var r,a,s=t.getElement(),l=void 0===o.max?s.getElementsByTagName("div")[0].getAttribute("max")||100:o.max,u=void 0===o.min?s.getElementsByTagName("div")[0].getAttribute("min")||0:o.min,d=(l-u)/100,c=t.getValue()||0,h=document.createElement("div"),p=document.createElement("div");function f(){var t=d*Math.round(p.offsetWidth/(s.clientWidth/100))+u;n(t),s.setAttribute("aria-valuenow",t),s.setAttribute("aria-label",c)}return h.style.position="absolute",h.style.right="0",h.style.top="0",h.style.bottom="0",h.style.width="5px",h.classList.add("tabulator-progress-handle"),p.style.display="inline-block",p.style.position="absolute",p.style.top="8px",p.style.bottom="8px",p.style.left="4px",p.style.marginRight="4px",p.style.backgroundColor="#488CE9",p.style.maxWidth="100%",p.style.minWidth="0%",s.style.padding="0 4px",c=Math.min(parseFloat(c),l),c=Math.max(parseFloat(c),u),c=100-Math.round((c-u)/d),p.style.right=c+"%",s.setAttribute("aria-valuemin",u),s.setAttribute("aria-valuemax",l),p.appendChild(h),h.addEventListener("mousedown",function(t){r=t.screenX,a=p.offsetWidth}),h.addEventListener("mouseover",function(){h.style.cursor="ew-resize"}),s.addEventListener("mousemove",function(t){r&&(p.style.width=a+t.screenX-r+"px")}),s.addEventListener("mouseup",function(t){r&&(t.stopPropagation(),t.stopImmediatePropagation(),r=!1,a=!1,f())}),s.addEventListener("keydown",function(t){switch(t.keyCode){case 39:p.style.width=p.clientWidth+s.clientWidth/100+"px";break;case 37:p.style.width=p.clientWidth-s.clientWidth/100+"px";break;case 13:f();break;case 27:i()}}),s.addEventListener("blur",function(){i()}),p},tickCross:function(t,e,n,i,o){var r=t.getValue(),a=document.createElement("input"),s=o.tristate,l=void 0===o.indeterminateValue?null:o.indeterminateValue,u=!1;function d(t){return s?t?u?l:a.checked:a.checked&&!u?(a.checked=!1,a.indeterminate=!0,u=!0,l):(u=!1,a.checked):a.checked}return a.setAttribute("type","checkbox"),a.style.marginTop="5px",a.style.boxSizing="border-box",a.value=r,!s||void 0!==r&&r!==l&&""!==r||(u=!0,a.indeterminate=!0),"firefox"!=this.table.browser&&e(function(){a.focus()}),a.checked=!0===r||"true"===r||"True"===r||1===r,a.addEventListener("change",function(t){n(d())}),a.addEventListener("blur",function(t){n(d(!0))}),a.addEventListener("keydown",function(t){13==t.keyCode&&n(d()),27==t.keyCode&&i()}),a}},c.prototype.registerModule("edit",w);var M=function(t){this.table=t,this.filterList=[],this.headerFilters={},this.headerFilterElements=[],this.headerFilterColumns=[],this.changed=!1};M.prototype.initializeColumn=function(t,e){var n,i=this,o=t.getField();t.modules.filter={success:function(e){var r,a="input"==t.modules.filter.tagType&&"text"==t.modules.filter.attrType||"textarea"==t.modules.filter.tagType?"partial":"match",l="";if(void 0===n||n!==e){if(n=e,t.modules.filter.emptyFunc(e))delete i.headerFilters[o];else{switch(t.modules.filter.value=e,s(t.definition.headerFilterFunc)){case"string":i.filters[t.definition.headerFilterFunc]?(l=t.definition.headerFilterFunc,r=function(n){return i.filters[t.definition.headerFilterFunc](e,t.getFieldValue(n))}):console.warn("Header Filter Error - Matching filter function not found: ",t.definition.headerFilterFunc);break;case"function":l=r=function(n){var i=t.definition.headerFilterFuncParams||{},o=t.getFieldValue(n);return i="function"==typeof i?i(e,o,n):i,t.definition.headerFilterFunc(e,o,n,i)}}if(!r)switch(a){case"partial":r=function(n){return String(t.getFieldValue(n)).toLowerCase().indexOf(String(e).toLowerCase())>-1},l="like";break;default:r=function(n){return t.getFieldValue(n)==e},l="="}i.headerFilters[o]={value:e,func:r,type:l}}i.changed=!0,i.table.rowManager.filterRefresh()}},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(t)},M.prototype.generateHeaderFilterElement=function(t,e){var n,i,o,r,a,l,u,d=this,c=t.modules.filter.success,h=t.getField();if(t.modules.filter.headerElement&&t.modules.filter.headerElement.parentNode){var p=t.modules.filter.headerElement.parentNode,f=d.headerFilterElements.indexOf(p);f>=0&&d.headerFilterElements.splice(f,1);var m=d.headerFilterColumns.indexOf(m);m>=0&&d.headerFilterColumns.splice(m,1),t.contentElement.removeChild(p)}if(h){switch(t.modules.filter.emptyFunc=t.definition.headerFilterEmptyCheck||function(t){return!t&&"0"!==t},(n=document.createElement("div")).classList.add("tabulator-header-filter"),s(t.definition.headerFilter)){case"string":d.table.modules.edit.editors[t.definition.headerFilter]?(i=d.table.modules.edit.editors[t.definition.headerFilter],"tick"!==t.definition.headerFilter&&"tickCross"!==t.definition.headerFilter||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",t.definition.editor);break;case"function":i=t.definition.headerFilter;break;case"boolean":t.modules.edit&&t.modules.edit.editor?i=t.modules.edit.editor:t.definition.formatter&&d.table.modules.edit.editors[t.definition.formatter]?(i=d.table.modules.edit.editors[t.definition.formatter],"tick"!==t.definition.formatter&&"tickCross"!==t.definition.formatter||t.definition.headerFilterEmptyCheck||(t.modules.filter.emptyFunc=function(t){return!0!==t&&!1!==t})):i=d.table.modules.edit.editors.input}if(i){if(r={getValue:function(){return void 0!==e?e:""},getField:function(){return t.definition.field},getElement:function(){return n},getColumn:function(){return t.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},u="function"==typeof(u=t.definition.headerFilterParams||{})?u.call(d.table):u,!(o=i.call(this.table.modules.edit,r,function(){},c,function(){},u)))return void console.warn("Filter Error - Cannot add filter to "+h+" column, editor returned a value of false");if(!(o instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+h+" column, editor should return an instance of Node, the editor returned:",o);h?d.table.modules.localize.bind("headerFilters|columns|"+t.definition.field,function(t){o.setAttribute("placeholder",void 0!==t&&t?t:d.table.modules.localize.getText("headerFilters|default"))}):d.table.modules.localize.bind("headerFilters|default",function(t){o.setAttribute("placeholder",void 0!==d.column.definition.headerFilterPlaceholder&&d.column.definition.headerFilterPlaceholder?d.column.definition.headerFilterPlaceholder:t)}),o.addEventListener("click",function(t){t.stopPropagation(),o.focus()}),a=!1,l=function(t){a&&clearTimeout(a),a=setTimeout(function(){c(o.value)},300)},t.modules.filter.headerElement=o,t.modules.filter.attrType=o.hasAttribute("type")?o.getAttribute("type").toLowerCase():"",t.modules.filter.tagType=o.tagName.toLowerCase(),!1!==t.definition.headerFilterLiveFilter&&("autocomplete"===t.definition.headerFilter||"autocomplete"===t.definition.editor&&!0===t.definition.headerFilter||(o.addEventListener("keyup",l),o.addEventListener("search",l),"number"==t.modules.filter.attrType&&o.addEventListener("change",function(t){c(o.value)}),"text"==t.modules.filter.attrType&&"ie"!==this.table.browser&&o.setAttribute("type","search")),"input"!=t.modules.filter.tagType&&"select"!=t.modules.filter.tagType&&"textarea"!=t.modules.filter.tagType||o.addEventListener("mousedown",function(t){t.stopPropagation()})),n.appendChild(o),t.contentElement.appendChild(n),d.headerFilterElements.push(o),d.headerFilterColumns.push(t)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",t.definition.title)},M.prototype.hideHeaderFilterElements=function(){this.headerFilterElements.forEach(function(t){t.style.display="none"})},M.prototype.showHeaderFilterElements=function(){this.headerFilterElements.forEach(function(t){t.style.display=""})},M.prototype.setHeaderFilterFocus=function(t){t.modules.filter&&t.modules.filter.headerElement?t.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",t.getField())},M.prototype.setHeaderFilterValue=function(t,e){t&&(t.modules.filter&&t.modules.filter.headerElement?(this.generateHeaderFilterElement(t,e),t.modules.filter.success(e)):console.warn("Column Filter Error - No header filter set on column:",t.getField()))},M.prototype.reloadHeaderFilter=function(t){t&&(t.modules.filter&&t.modules.filter.headerElement?this.generateHeaderFilterElement(t,t.modules.filter.value):console.warn("Column Filter Error - No header filter set on column:",t.getField()))},M.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},M.prototype.setFilter=function(t,e,n){this.filterList=[],Array.isArray(t)||(t=[{field:t,type:e,value:n}]),this.addFilter(t)},M.prototype.addFilter=function(t,e,n){var i=this;Array.isArray(t)||(t=[{field:t,type:e,value:n}]),t.forEach(function(t){(t=i.findFilter(t))&&(i.filterList.push(t),i.changed=!0)}),this.table.options.persistentFilter&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("filter")},M.prototype.findFilter=function(t){var e,n=this;if(Array.isArray(t))return this.findSubFilters(t);var i=!1;return"function"==typeof t.field?i=function(e){return t.field(e,t.type||{})}:n.filters[t.type]?i=(e=n.table.columnManager.getColumnByField(t.field))?function(i){return n.filters[t.type](t.value,e.getFieldValue(i))}:function(e){return n.filters[t.type](t.value,e[t.field])}:console.warn("Filter Error - No such filter type found, ignoring: ",t.type),t.func=i,!!t.func&&t},M.prototype.findSubFilters=function(t){var e=this,n=[];return t.forEach(function(t){(t=e.findFilter(t))&&n.push(t)}),!!n.length&&n},M.prototype.getFilters=function(t,e){var n=[];return t&&(n=this.getHeaderFilters()),this.filterList.forEach(function(t){n.push({field:t.field,type:t.type,value:t.value})}),e&&n.forEach(function(t){"function"==typeof t.type&&(t.type="function")}),n},M.prototype.getHeaderFilters=function(){var t=[];for(var e in this.headerFilters)t.push({field:e,type:this.headerFilters[e].type,value:this.headerFilters[e].value});return t},M.prototype.removeFilter=function(t,e,n){var i=this;Array.isArray(t)||(t=[{field:t,type:e,value:n}]),t.forEach(function(t){var e=-1;(e="object"==s(t.field)?i.filterList.findIndex(function(e){return t===e}):i.filterList.findIndex(function(e){return t.field===e.field&&t.type===e.type&&t.value===e.value}))>-1?(i.filterList.splice(e,1),i.changed=!0):console.warn("Filter Error - No matching filter type found, ignoring: ",t.type)}),this.table.options.persistentFilter&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("filter")},M.prototype.clearFilter=function(t){this.filterList=[],t&&this.clearHeaderFilter(),this.changed=!0,this.table.options.persistentFilter&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("filter")},M.prototype.clearHeaderFilter=function(){var t=this;this.headerFilters={},this.headerFilterColumns.forEach(function(e){e.modules.filter.value=null,t.reloadHeaderFilter(e)}),this.changed=!0},M.prototype.search=function(t,e,n,i){var o=this,r=[],a=[];return Array.isArray(e)||(e=[{field:e,type:n,value:i}]),e.forEach(function(t){(t=o.findFilter(t))&&a.push(t)}),this.table.rowManager.rows.forEach(function(e){var n=!0;a.forEach(function(t){o.filterRecurse(t,e.getData())||(n=!1)}),n&&r.push("data"===t?e.getData("data"):e.getComponent())}),r},M.prototype.filter=function(t,e){var n=this,i=[],o=[];return n.table.options.dataFiltering&&n.table.options.dataFiltering.call(n.table,n.getFilters()),n.table.options.ajaxFiltering||!n.filterList.length&&!Object.keys(n.headerFilters).length?i=t.slice(0):t.forEach(function(t){n.filterRow(t)&&i.push(t)}),n.table.options.dataFiltered&&(i.forEach(function(t){o.push(t.getComponent())}),n.table.options.dataFiltered.call(n.table,n.getFilters(),o)),i},M.prototype.filterRow=function(t,e){var n=this,i=!0,o=t.getData();for(var r in n.filterList.forEach(function(t){n.filterRecurse(t,o)||(i=!1)}),n.headerFilters)n.headerFilters[r].func(o)||(i=!1);return i},M.prototype.filterRecurse=function(t,e){var n=this,i=!1;return Array.isArray(t)?t.forEach(function(t){n.filterRecurse(t,e)&&(i=!0)}):i=t.func(e),i},M.prototype.filters={"=":function(t,e){return e==t},"<":function(t,e){return e<t},"<=":function(t,e){return e<=t},">":function(t,e){return e>t},">=":function(t,e){return e>=t},"!=":function(t,e){return e!=t},regex:function(t,e){return"string"==typeof t&&(t=new RegExp(t)),t.test(e)},like:function(t,e){return null==t?e===t:null!=e&&String(e).toLowerCase().indexOf(t.toLowerCase())>-1},in:function(t,e){return Array.isArray(t)?t.indexOf(e)>-1:(console.warn("Filter Error - filter value is not an array:",t),!1)}},c.prototype.registerModule("filter",M);var x=function(t){this.table=t};x.prototype.initializeColumn=function(t){var e={params:t.definition.formatterParams||{}};switch(s(t.definition.formatter)){case"string":"tick"===t.definition.formatter&&(t.definition.formatter="tickCross",void 0===e.params.crossElement&&(e.params.crossElement=!1),console.warn("DEPRECATION WANRING - the tick formatter has been depricated, please use the tickCross formatter with the crossElement param set to false")),this.formatters[t.definition.formatter]?e.formatter=this.formatters[t.definition.formatter]:(console.warn("Formatter Error - No such formatter found: ",t.definition.formatter),e.formatter=this.formatters.plaintext);break;case"function":e.formatter=t.definition.formatter;break;default:e.formatter=this.formatters.plaintext}t.modules.format=e},x.prototype.cellRendered=function(t){t.column.modules.format.renderedCallback&&t.column.modules.format.renderedCallback()},x.prototype.formatValue=function(t){var e=t.getComponent(),n="function"==typeof t.column.modules.format.params?t.column.modules.format.params(e):t.column.modules.format.params;return t.column.modules.format.formatter.call(this,e,n,function(e){t.column.modules.format.renderedCallback=e})},x.prototype.sanitizeHTML=function(t){if(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,function(t){return e[t]})}return t},x.prototype.emptyToSpace=function(t){return null==t?"&nbsp":t},x.prototype.getFormatter=function(t){switch(void 0===t?"undefined":s(t)){case"string":this.formatters[t]?t=this.formatters[t]:(console.warn("Formatter Error - No such formatter found: ",t),t=this.formatters.plaintext);break;case"function":t=t;break;default:t=this.formatters.plaintext}return t},x.prototype.formatters={plaintext:function(t,e,n){return this.emptyToSpace(this.sanitizeHTML(t.getValue()))},html:function(t,e,n){return t.getValue()},textarea:function(t,e,n){return t.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(t.getValue()))},money:function(t,e,n){var i,o,r,a,s=parseFloat(t.getValue()),l=e.decimal||".",u=e.thousand||",",d=e.symbol||"",c=!!e.symbolAfter,h=void 0!==e.precision?e.precision:2;if(isNaN(s))return this.emptyToSpace(this.sanitizeHTML(t.getValue()));for(i=!1!==h?s.toFixed(h):s,o=(i=String(i).split("."))[0],r=i.length>1?l+i[1]:"",a=/(\d+)(\d{3})/;a.test(o);)o=o.replace(a,"$1"+u+"$2");return c?o+r+d:d+o+r},link:function(t,e,n){var i=this.sanitizeHTML(t.getValue()),o=e.urlPrefix||"",r=this.emptyToSpace(i),a=document.createElement("a");if(e.labelField&&(r=t.getData()[e.labelField]),e.label)switch(s(e.label)){case"string":r=e.label;break;case"function":r=e.label(t)}if(e.urlField&&(i=t.getData()[e.urlField]),e.url)switch(s(e.url)){case"string":i=e.url;break;case"function":i=e.url(t)}return a.setAttribute("href",o+i),e.target&&a.setAttribute("target",e.target),a.innerHTML=this.emptyToSpace(r),a},image:function(t,e,n){var i=document.createElement("img");switch(i.setAttribute("src",t.getValue()),s(e.height)){case"number":i.style.height=e.height+"px";break;case"string":i.style.height=e.height}switch(s(e.width)){case"number":i.style.width=e.width+"px";break;case"string":i.style.width=e.width}return i.addEventListener("load",function(){t.getRow().normalizeHeight()}),i},tickCross:function(t,e,n){var i=t.getValue(),o=t.getElement(),r=e.allowEmpty,a=e.allowTruthy,s=void 0!==e.tickElement?e.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',l=void 0!==e.crossElement?e.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return a&&i||!0===i||"true"===i||"True"===i||1===i||"1"===i?(o.setAttribute("aria-checked",!0),s||""):!r||"null"!==i&&""!==i&&null!=i?(o.setAttribute("aria-checked",!1),l||""):(o.setAttribute("aria-checked","mixed"),"")},datetime:function(t,e,n){var i=e.inputFormat||"YYYY-MM-DD hh:mm:ss",o=e.outputFormat||"DD/MM/YYYY hh:mm:ss",r=void 0!==e.invalidPlaceholder?e.invalidPlaceholder:"",a=t.getValue(),s=moment(a,i);return s.isValid()?s.format(o):!0===r?a:"function"==typeof r?r(a):r},datetimediff:function(t,e,n){var i=e.inputFormat||"YYYY-MM-DD hh:mm:ss",o=void 0!==e.invalidPlaceholder?e.invalidPlaceholder:"",r=void 0!==e.suffix&&e.suffix,a=void 0!==e.unit?e.unit:void 0,s=void 0!==e.humanize&&e.humanize,l=void 0!==e.date?e.date:moment(),u=t.getValue(),d=moment(u,i);return d.isValid()?s?moment.duration(d.diff(l)).humanize(r):d.diff(l,a)+(r?" "+r:""):!0===o?u:"function"==typeof o?o(u):o},lookup:function(t,e,n){var i=t.getValue();return void 0===e[i]?(console.warn("Missing display value for "+i),i):e[i]},star:function(t,e,n){var i=t.getValue(),o=t.getElement(),r=e&&e.stars?e.stars:5,a=document.createElement("span"),s=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.verticalAlign="middle",s.setAttribute("width","14"),s.setAttribute("height","14"),s.setAttribute("viewBox","0 0 512 512"),s.setAttribute("xml:space","preserve"),s.style.padding="0 1px",i=parseInt(i)<r?parseInt(i):r;for(var l=1;l<=r;l++){var u=s.cloneNode(!0);u.innerHTML=l<=i?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',a.appendChild(u)}return o.style.whiteSpace="nowrap",o.style.overflow="hidden",o.style.textOverflow="ellipsis",o.setAttribute("aria-label",i),a},progress:function(t,e,n){var i,o,r,a,l,u=this.sanitizeHTML(t.getValue())||0,d=t.getElement(),c=e&&e.max?e.max:100,h=e&&e.min?e.min:0,p=e&&e.legendAlign?e.legendAlign:"center";switch(o=parseFloat(u)<=c?parseFloat(u):c,o=parseFloat(o)>=h?parseFloat(o):h,i=(c-h)/100,o=Math.round((o-h)/i),s(e.color)){case"string":r=e.color;break;case"function":r=e.color(u);break;case"object":if(Array.isArray(e.color)){var f=100/e.color.length,m=Math.floor(o/f);m=Math.min(m,e.color.length-1),m=Math.max(m,0),r=e.color[m];break}default:r="#2DC214"}switch(s(e.legend)){case"string":a=e.legend;break;case"function":a=e.legend(u);break;case"boolean":a=u;break;default:a=!1}switch(s(e.legendColor)){case"string":l=e.legendColor;break;case"function":l=e.legendColor(u);break;case"object":Array.isArray(e.legendColor)&&(f=100/e.legendColor.length,m=Math.floor(o/f),m=Math.min(m,e.legendColor.length-1),m=Math.max(m,0),l=e.legendColor[m]);break;default:l="#000"}return d.style.minWidth="30px",d.style.position="relative",d.setAttribute("aria-label",o),"<div style='position:absolute; top:8px; bottom:8px; left:4px; right:4px;'  data-max='"+c+"' data-min='"+h+"'><div style='position:relative; height:100%; width:calc("+o+"%); background-color:"+r+"; display:inline-block;'></div></div>"+(a?"<div style='position:absolute; top:4px; left:0; text-align:"+p+"; width:100%; color:"+l+";'>"+a+"</div>":"")},color:function(t,e,n){return t.getElement().style.backgroundColor=this.sanitizeHTML(t.getValue()),""},buttonTick:function(t,e,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(t,e,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(t,e,n){return this.table.rowManager.activeRows.indexOf(t.getRow()._getSelf())+1},handle:function(t,e,n){return t.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(t,e,n){var i=!1,o=document.createElement("div");function r(e){var n=t.getRow().getElement().getElementsByClassName("tabulator-responsive-collapse")[0];(i=e)?(o.classList.add("open"),n&&(n.style.display="")):(o.classList.remove("open"),n&&(n.style.display="none"))}return o.classList.add("tabulator-responsive-collapse-toggle"),o.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",t.getElement().classList.add("tabulator-row-handle"),this.table.options.responsiveLayoutCollapseStartOpen&&(i=!0),o.addEventListener("click",function(){r(!i)}),r(i),o}},c.prototype.registerModule("format",x);var L=function(t){this.table=t,this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.initializationMode="left",this.active=!1};L.prototype.reset=function(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.active=!1},L.prototype.initializeColumn=function(t){var e={margin:0,edge:!1};t.definition.frozen?t.parent.isGroup?console.warn("Frozen Column Error - Grouped columns cannot be frozen"):t.isGroup?console.warn("Frozen Column Error - Column Groups cannot be frozen"):(e.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(t):this.rightColumns.unshift(t),this.active=!0,t.modules.frozen=e):this.initializationMode="right"},L.prototype.layout=function(){var t=this,e=(this.table.rowManager.element,0);t.active&&(t.leftMargin=t._calcSpace(t.leftColumns,t.leftColumns.length),t.table.columnManager.headersElement.style.marginLeft=t.leftMargin+"px",t.rightMargin=t._calcSpace(t.rightColumns,t.rightColumns.length),t.table.columnManager.element.style.paddingRight=t.rightMargin+"px",t.table.rowManager.activeRows.forEach(function(e){t.layoutRow(e)}),t.table.modExists("columnCalcs")&&(t.table.modules.columnCalcs.topInitialized&&t.table.modules.columnCalcs.topRow&&t.layoutRow(t.table.modules.columnCalcs.topRow),t.table.modules.columnCalcs.botInitialized&&t.table.modules.columnCalcs.botRow&&t.layoutRow(t.table.modules.columnCalcs.botRow)),t.leftColumns.forEach(function(e,n){e.modules.frozen.margin=t._calcSpace(t.leftColumns,n)+t.table.columnManager.scrollLeft,n==t.leftColumns.length-1?e.modules.frozen.edge=!0:e.modules.frozen.edge=!1,t.layoutColumn(e)}),e=t.table.rowManager.element.clientWidth+t.table.columnManager.scrollLeft,t.rightColumns.forEach(function(n,i){n.modules.frozen.margin=e-t._calcSpace(t.rightColumns,i+1),i==t.rightColumns.length-1?n.modules.frozen.edge=!0:n.modules.frozen.edge=!1,t.layoutColumn(n)}),this.table.rowManager.tableElement.style.marginRight=this.rightMargin+"px")},L.prototype.layoutColumn=function(t){var e=this;e.layoutElement(t.getElement(),t),t.cells.forEach(function(n){e.layoutElement(n.getElement(),t)})},L.prototype.layoutRow=function(t){t.getElement().style.paddingLeft=this.leftMargin+"px"},L.prototype.layoutElement=function(t,e){e.modules.frozen&&(t.style.position="absolute",t.style.left=e.modules.frozen.margin+"px",t.classList.add("tabulator-frozen"),e.modules.frozen.edge&&t.classList.add("tabulator-frozen-"+e.modules.frozen.position))},L.prototype._calcSpace=function(t,e){for(var n=0,i=0;i<e;i++)t[i].visible&&(n+=t[i].getWidth());return n},c.prototype.registerModule("frozenColumns",L);var k=function(t){this.table=t,this.topElement=document.createElement("div"),this.rows=[],this.displayIndex=0};k.prototype.initialize=function(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling)},k.prototype.setDisplayIndex=function(t){this.displayIndex=t},k.prototype.getDisplayIndex=function(){return this.displayIndex},k.prototype.isFrozen=function(){return!!this.rows.length},k.prototype.getRows=function(t){var e=t.slice(0);return this.rows.forEach(function(t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}),e},k.prototype.freezeRow=function(t){t.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(t.modules.frozen=!0,this.topElement.appendChild(t.getElement()),t.initialize(),t.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(t),this.table.rowManager.refreshActiveData("display"),this.styleRows())},k.prototype.unfreezeRow=function(t){var e=this.rows.indexOf(t);if(t.modules.frozen){t.modules.frozen=!1;var n=t.getElement();n.parentNode.removeChild(n),this.table.rowManager.adjustTableSize(),this.rows.splice(e,1),this.table.rowManager.refreshActiveData("display"),this.rows.length&&this.styleRows()}else console.warn("Freeze Error - Row is already unfrozen")},k.prototype.styleRows=function(t){var e=this;this.rows.forEach(function(t,n){e.table.rowManager.styleRow(t,n)})},c.prototype.registerModule("frozenRows",k);var T=function(t){this._group=t,this.type="GroupComponent"};T.prototype.getKey=function(){return this._group.key},T.prototype.getElement=function(){return this._group.element},T.prototype.getRows=function(){return this._group.getRows(!0)},T.prototype.getSubGroups=function(){return this._group.getSubGroups(!0)},T.prototype.getParentGroup=function(){return!!this._group.parent&&this._group.parent.getComponent()},T.prototype.getVisibility=function(){return this._group.visible},T.prototype.show=function(){this._group.show()},T.prototype.hide=function(){this._group.hide()},T.prototype.toggle=function(){this._group.toggleVisibility()},T.prototype._getSelf=function(){return this._group},T.prototype.getTable=function(){return this._group.table};var E=function(t,e,n,i,o,r,a){this.groupManager=t,this.parent=e,this.key=i,this.level=n,this.field=o,this.hasSubGroups=n<t.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=a,this.rows=[],this.groups=[],this.groupList=[],this.generator=r,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.visible=a?a.visible:void 0!==t.startOpen[n]?t.startOpen[n]:t.startOpen[0],this.createElements(),this.addBindings(),this.createValueGroups()};E.prototype.createElements=function(){this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-arrow")},E.prototype.createValueGroups=function(){var t=this,e=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]&&this.groupManager.allowedValues[e].forEach(function(n){t._createGroup(n,e)})},E.prototype.addBindings=function(){var t,e,n,i=this;i.groupManager.table.options.groupClick&&i.element.addEventListener("click",function(t){i.groupManager.table.options.groupClick(t,i.getComponent())}),i.groupManager.table.options.groupDblClick&&i.element.addEventListener("dblclick",function(t){i.groupManager.table.options.groupDblClick(t,i.getComponent())}),i.groupManager.table.options.groupContext&&i.element.addEventListener("contextmenu",function(t){i.groupManager.table.options.groupContext(t,i.getComponent())}),i.groupManager.table.options.groupTap&&(n=!1,i.element.addEventListener("touchstart",function(t){n=!0}),i.element.addEventListener("touchend",function(t){n&&i.groupManager.table.options.groupTap(t,i.getComponent()),n=!1})),i.groupManager.table.options.groupDblTap&&(t=null,i.element.addEventListener("touchend",function(e){t?(clearTimeout(t),t=null,i.groupManager.table.options.groupDblTap(e,i.getComponent())):t=setTimeout(function(){clearTimeout(t),t=null},300)})),i.groupManager.table.options.groupTapHold&&(e=null,i.element.addEventListener("touchstart",function(t){clearTimeout(e),e=setTimeout(function(){clearTimeout(e),e=null,n=!1,i.groupManager.table.options.groupTapHold(t,i.getComponent())},1e3)}),i.element.addEventListener("touchend",function(t){clearTimeout(e),e=null})),i.groupManager.table.options.groupToggleElement&&("arrow"==i.groupManager.table.options.groupToggleElement?i.arrowElement:i.element).addEventListener("click",function(t){t.stopPropagation(),t.stopImmediatePropagation(),i.toggleVisibility()})},E.prototype._createGroup=function(t,e){var n=e+"_"+t,i=new E(this.groupManager,this,e,t,this.groupManager.groupIDLookups[e].field,this.groupManager.headerGenerator[e]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[n]);this.groups[n]=i,this.groupList.push(i)},E.prototype._addRowToGroup=function(t){var e=this.level+1;if(this.hasSubGroups){var n=this.groupManager.groupIDLookups[e].func(t.getData()),i=e+"_"+n;this.groupManager.allowedValues&&this.groupManager.allowedValues[e]?this.groups[i]&&this.groups[i].addRow(t):(this.groups[i]||this._createGroup(n,e),this.groups[i].addRow(t))}},E.prototype._addRow=function(t){this.rows.push(t),t.modules.group=this},E.prototype.insertRow=function(t,e,n){var i=this.conformRowData({});t.updateData(i);var o=this.rows.indexOf(e);o>-1?n?this.rows.splice(o+1,0,t):this.rows.splice(o,0,t):n?this.rows.push(t):this.rows.unshift(t),t.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)},E.prototype.getRowIndex=function(t){},E.prototype.conformRowData=function(t){return this.field?t[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(t=this.parent.conformRowData(t)),t},E.prototype.removeRow=function(t){var e=this.rows.indexOf(t);e>-1&&this.rows.splice(e,1),this.rows.length?(this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))},E.prototype.removeGroup=function(t){var e,n=t.level+"_"+t.key;this.groups[n]&&(delete this.groups[n],(e=this.groupList.indexOf(t))>-1&&this.groupList.splice(e,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))},E.prototype.getHeadersAndRows=function(t){var e=[];return e.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach(function(n){e=e.concat(n.getHeadersAndRows(t))}):(!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&this.calcs.top.detachElement(),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),e=e.concat(this.rows),!t&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&this.calcs.bottom.detachElement(),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))):!this.groupList.length&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.options.groupClosedShowCalcs&&this.groupManager.table.modExists("columnCalcs")&&(!t&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&this.calcs.top.detachElement(),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),e.push(this.calcs.top)),!t&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&this.calcs.bottom.detachElement(),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),e.push(this.calcs.bottom))),e},E.prototype.getData=function(t,e){var n=[];return this._visSet(),(!t||t&&this.visible)&&this.rows.forEach(function(t){n.push(t.getData(e||"data"))}),n},E.prototype.getRowCount=function(){var t=0;return this.groupList.length?this.groupList.forEach(function(e){t+=e.getRowCount()}):t=this.rows.length,t},E.prototype.toggleVisibility=function(){this.visible?this.hide():this.show()},E.prototype.hide=function(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(function(t){t.getHeadersAndRows().forEach(function(t){t.detachElement()})}):this.rows.forEach(function(t){var e=t.getElement();e.parentNode.removeChild(e)}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!1)},E.prototype.show=function(){if(this.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var t=this.getElement();this.groupList.length?this.groupList.forEach(function(e){e.getHeadersAndRows().forEach(function(e){var n=e.getElement();t.parentNode.insertBefore(n,t.nextSibling),e.initialize(),t=n})}):this.rows.forEach(function(e){var n=e.getElement();t.parentNode.insertBefore(n,t.nextSibling),e.initialize(),t=n}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.options.groupVisibilityChanged.call(this.table,this.getComponent(),!0)},E.prototype._visSet=function(){var t=[];"function"==typeof this.visible&&(this.rows.forEach(function(e){t.push(e.getData())}),this.visible=this.visible(this.key,this.getRowCount(),t,this.getComponent()))},E.prototype.getRowGroup=function(t){var e=!1;return this.groupList.length?this.groupList.forEach(function(n){var i=n.getRowGroup(t);i&&(e=i)}):this.rows.find(function(e){return e===t})&&(e=this),e},E.prototype.getSubGroups=function(t){var e=[];return this.groupList.forEach(function(n){e.push(t?n.getComponent():n)}),e},E.prototype.getRows=function(t){var e=[];return this.rows.forEach(function(n){e.push(t?n.getComponent():n)}),e},E.prototype.generateGroupHeaderContents=function(){var t=[];for(this.rows.forEach(function(e){t.push(e.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),t,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)},E.prototype.getElement=function(){this.addBindingsd=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var t=0;t<this.element.childNodes.length;++t)this.element.childNodes[t].parentNode.removeChild(this.element.childNodes[t]);return this.generateGroupHeaderContents(),this.element},E.prototype.detachElement=function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)},E.prototype.normalizeHeight=function(){this.setHeight(this.element.clientHeight)},E.prototype.initialize=function(t){this.initialized&&!t||(this.normalizeHeight(),this.initialized=!0)},E.prototype.reinitialize=function(){this.initialized=!1,this.height=0,c.prototype.helpers.elVisible(this.element)&&this.initialize(!0)},E.prototype.setHeight=function(t){this.height!=t&&(this.height=t,this.outerHeight=this.element.offsetHeight)},E.prototype.getHeight=function(){return this.outerHeight},E.prototype.getGroup=function(){return this},E.prototype.reinitializeHeight=function(){},E.prototype.calcHeight=function(){},E.prototype.setCellHeight=function(){},E.prototype.clearCellHeight=function(){},E.prototype.getComponent=function(){return new T(this)};var C=function(t){this.table=t,this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0};C.prototype.initialize=function(){var t=this,e=t.table.options.groupBy,n=t.table.options.groupStartOpen,i=t.table.options.groupHeader;this.allowedValues=t.table.options.groupValues,t.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],t.table.modules.localize.bind("groups|item",function(e,n){t.headerGenerator[0]=function(t,i,o){return(void 0===t?"":t)+"<span>("+i+" "+(1===i?e:n.groups.items)+")</span>"}}),this.groupIDLookups=[],Array.isArray(e)||e?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach(function(e){e.definition.topCalc&&t.table.modules.columnCalcs.initializeTopRow(),e.definition.bottomCalc&&t.table.modules.columnCalcs.initializeBottomRow()}),Array.isArray(e)||(e=[e]),e.forEach(function(e,n){var i,o;i="function"==typeof e?e:(o=t.table.columnManager.getColumnByField(e))?function(t){return o.getFieldValue(t)}:function(t){return t[e]},t.groupIDLookups.push({field:"function"!=typeof e&&e,func:i,values:!!t.allowedValues&&t.allowedValues[n]})}),n&&(Array.isArray(n)||(n=[n]),n.forEach(function(t){t="function"==typeof t?t:function(){return!0}}),t.startOpen=n),i&&(t.headerGenerator=Array.isArray(i)?i:[i]),this.initialized=!0},C.prototype.setDisplayIndex=function(t){this.displayIndex=t},C.prototype.getDisplayIndex=function(){return this.displayIndex},C.prototype.getRows=function(t){return this.groupIDLookups.length?(this.table.options.dataGrouping.call(this.table),this.generateGroups(t),this.table.options.dataGrouped&&this.table.options.dataGrouped.call(this.table,this.getGroups(!0)),this.updateGroupRows()):t.slice(0)},C.prototype.getGroups=function(t){var e=[];return this.groupList.forEach(function(n){e.push(t?n.getComponent():n)}),e},C.prototype.pullGroupListData=function(t){var e=this,n=[];return t.forEach(function(t){var i={level:0,rowCount:0,headerContent:""},o=[];t.hasSubGroups?(o=e.pullGroupListData(t.groupList),i.level=t.level,i.rowCount=o.length-t.groupList.length,i.headerContent=t.generator(t.key,i.rowCount,t.rows,t),n.push(i),n=n.concat(o)):(i.level=t.level,i.headerContent=t.generator(t.key,t.rows.length,t.rows,t),i.rowCount=t.getRows().length,n.push(i),t.getRows().forEach(function(t){n.push(t.getData("data"))}))}),n},C.prototype.getGroupedData=function(){return this.pullGroupListData(this.groupList)},C.prototype.getRowGroup=function(t){var e=!1;return this.groupList.forEach(function(n){var i=n.getRowGroup(t);i&&(e=i)}),e},C.prototype.countGroups=function(){return this.groupList.length},C.prototype.generateGroups=function(t){var e=this,n=e.groups;e.groups={},e.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(function(t){e.createGroup(t,0,n)}),t.forEach(function(t){e.assignRowToExistingGroup(t,n)})):t.forEach(function(t){e.assignRowToGroup(t,n)})},C.prototype.createGroup=function(t,e,n){var i,o=e+"_"+t;n=n||[],i=new E(this,!1,e,t,this.groupIDLookups[0].field,this.headerGenerator[0],n[o]),this.groups[o]=i,this.groupList.push(i)},C.prototype.assignRowToGroup=function(t,e){var n=this.groupIDLookups[0].func(t.getData()),i="0_"+n;this.groups[i]||this.createGroup(n,0,e),this.groups[i].addRow(t)},C.prototype.assignRowToExistingGroup=function(t,e){var n="0_"+this.groupIDLookups[0].func(t.getData());this.groups[n]&&this.groups[n].addRow(t)},C.prototype.assignRowToGroup=function(t,e){var n=this.groupIDLookups[0].func(t.getData()),i=!this.groups["0_"+n];return i&&this.createGroup(n,0,e),this.groups["0_"+n].addRow(t),!i},C.prototype.updateGroupRows=function(t){var e=[];if(this.groupList.forEach(function(t){e=e.concat(t.getHeadersAndRows())}),t){var n=this.table.rowManager.setDisplayRows(e,this.getDisplayIndex());!0!==n&&this.setDisplayIndex(n),this.table.rowManager.refreshActiveData("group",!0,!0)}return e},C.prototype.scrollHeaders=function(t){this.groupList.forEach(function(e){e.arrowElement.style.marginLeft=t+"px"})},C.prototype.removeGroup=function(t){var e,n=t.level+"_"+t.key;this.groups[n]&&(delete this.groups[n],(e=this.groupList.indexOf(t))>-1&&this.groupList.splice(e,1))},c.prototype.registerModule("groupRows",C);var D=function(t){this.table=t,this.history=[],this.index=-1};D.prototype.clear=function(){this.history=[],this.index=-1},D.prototype.action=function(t,e,n){this.history=this.history.slice(0,this.index+1),this.history.push({type:t,component:e,data:n}),this.index++},D.prototype.getHistoryUndoSize=function(){return this.index+1},D.prototype.getHistoryRedoSize=function(){return this.history.length-(this.index+1)},D.prototype.undo=function(){if(this.index>-1){var t=this.history[this.index];return this.undoers[t.type].call(this,t),this.index--,this.table.options.historyUndo.call(this.table,t.type,t.component.getComponent(),t.data),!0}return console.warn("History Undo Error - No more history to undo"),!1},D.prototype.redo=function(){if(this.history.length-1>this.index){this.index++;var t=this.history[this.index];return this.redoers[t.type].call(this,t),this.table.options.historyRedo.call(this.table,t.type,t.component.getComponent(),t.data),!0}return console.warn("History Redo Error - No more history to redo"),!1},D.prototype.undoers={cellEdit:function(t){t.component.setValueProcessData(t.data.oldValue)},rowAdd:function(t){t.component.deleteActual()},rowDelete:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this._rebindRow(t.component,e)},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.pos],!1),this.table.rowManager.redraw()}},D.prototype.redoers={cellEdit:function(t){t.component.setValueProcessData(t.data.newValue)},rowAdd:function(t){var e=this.table.rowManager.addRowActual(t.data.data,t.data.pos,t.data.index);this._rebindRow(t.component,e)},rowDelete:function(t){t.component.deleteActual()},rowMove:function(t){this.table.rowManager.moveRowActual(t.component,this.table.rowManager.rows[t.data.pos],!1),this.table.rowManager.redraw()}},D.prototype._rebindRow=function(t,e){this.history.forEach(function(n){if(n.component instanceof a)n.component===t&&(n.component=e);else if(n.component instanceof u&&n.component.row===t){var i=n.component.column.getField();i&&(n.component=e.getCell(i))}})},c.prototype.registerModule("history",D);var S=function(t){this.table=t,this.fieldIndex=[],this.hasIndex=!1};S.prototype.parseTable=function(){var t=this.table.element,e=this.table.options,n=(e.columns,t.getElementsByTagName("th")),i=t.getElementsByTagName("tbody")[0],o=[];this.hasIndex=!1,this.table.options.htmlImporting.call(this.table),i=i?i.getElementsByTagName("tr"):[],this._extractOptions(t,e),n.length?this._extractHeaders(n,i):this._generateBlankHeaders(n,i);for(var r=0;r<i.length;r++){var a=i[r].getElementsByTagName("td"),l={};this.hasIndex||(l[e.index]=r);for(var u=0;u<a.length;u++){var d=a[u];void 0!==this.fieldIndex[u]&&(l[this.fieldIndex[u]]=d.innerHTML)}o.push(l)}var c=document.createElement("div"),h=t.attributes;for(var u in h)"object"==s(h[u])&&c.setAttribute(h[u].name,h[u].value);t.parentNode.replaceChild(c,t),e.data=o,this.table.options.htmlImported.call(this.table),this.table.element=c},S.prototype._extractOptions=function(t,e){var n=t.attributes;for(var i in n){var o,r=n[i];if(r&&"object"==(void 0===r?"undefined":s(r))&&r.name&&0===r.name.indexOf("tabulator-"))for(var a in o=r.name.replace("tabulator-",""),e)a.toLowerCase()==o&&(e[a]=this._attribValue(r.value))}},S.prototype._attribValue=function(t){return"true"===t||"false"!==t&&t},S.prototype._findCol=function(t){return this.table.options.columns.find(function(e){return e.title===t})||!1},S.prototype._extractHeaders=function(t,e){for(var n=0;n<t.length;n++){var i,o,r=t[n],a=!1,l=this._findCol(r.textContent);for(var u in l?a=!0:l={title:r.textContent.trim()},l.field||(l.field=r.textContent.trim().toLowerCase().replace(" ","_")),(i=r.getAttribute("width"))&&!l.width&&(l.width=i),o=r.attributes,this._extractOptions(r,l),o){var d=o[u];d&&"object"==(void 0===d?"undefined":s(d))&&d.name&&0===d.name.indexOf("tabulator-")&&(l[d.name.replace("tabulator-","")]=this._attribValue(d.value))}this.fieldIndex[n]=l.field,l.field==this.table.options.index&&(this.hasIndex=!0),a||this.table.options.columns.push(l)}},S.prototype._generateBlankHeaders=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],o={title:"",field:"col"+n};this.fieldIndex[n]=o.field;var r=i.getAttribute("width");r&&(o.width=r),this.table.options.columns.push(o)}},c.prototype.registerModule("htmlTableImport",S);var Y=function(t){this.table=t,this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1};Y.prototype.initialize=function(){var t=this.table.options.keybindings,e={};if(this.watchKeys={},this.pressedKeys=[],!1!==t){for(var n in this.bindings)e[n]=this.bindings[n];if(Object.keys(t).length)for(var i in t)e[i]=t[i];this.mapBindings(e),this.bindEvents()}},Y.prototype.mapBindings=function(t){var e=this,n=this,i=function(i){e.actions[i]?t[i]&&("object"!==s(t[i])&&(t[i]=[t[i]]),t[i].forEach(function(t){n.mapBinding(i,t)})):console.warn("Key Binding Error - no such action:",i)};for(var o in t)i(o)},Y.prototype.mapBinding=function(t,e){var n=this,i={action:this.actions[t],keys:[],ctrl:!1,shift:!1};e.toString().toLowerCase().split(" ").join("").split("+").forEach(function(t){switch(t){case"ctrl":i.ctrl=!0;break;case"shift":i.shift=!0;break;default:t=parseInt(t),i.keys.push(t),n.watchKeys[t]||(n.watchKeys[t]=[]),n.watchKeys[t].push(i)}})},Y.prototype.bindEvents=function(){var t=this;this.keyupBinding=function(e){var n=e.keyCode,i=t.watchKeys[n];i&&(t.pressedKeys.push(n),i.forEach(function(n){t.checkBinding(e,n)}))},this.keydownBinding=function(e){var n=e.keyCode;if(t.watchKeys[n]){var i=t.pressedKeys.indexOf(n);i>-1&&t.pressedKeys.splice(i,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)},Y.prototype.clearBindings=function(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)},Y.prototype.checkBinding=function(t,e){var n=this,i=!0;return t.ctrlKey==e.ctrl&&t.shiftKey==e.shift&&(e.keys.forEach(function(t){-1==n.pressedKeys.indexOf(t)&&(i=!1)}),i&&e.action.call(n,t),!0)},Y.prototype.bindings={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},Y.prototype.actions={keyBlock:function(t){t.stopPropagation(),t.preventDefault()},scrollPageUp:function(t){var e=this.table.rowManager,n=e.scrollTop-e.height;e.element.scrollHeight,t.preventDefault(),e.displayRowsCount&&(n>=0?e.element.scrollTop=n:e.scrollToRow(e.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(t){var e=this.table.rowManager,n=e.scrollTop+e.height,i=e.element.scrollHeight;t.preventDefault(),e.displayRowsCount&&(n<=i?e.element.scrollTop=n:e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(t){var e=this.table.rowManager;t.preventDefault(),e.displayRowsCount&&e.scrollToRow(e.getDisplayRows()[e.displayRowsCount-1]),this.table.element.focus()},navPrev:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().prev())},navNext:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().next())},navLeft:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().left())},navRight:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().right())},navUp:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().up())},navDown:function(t){var e=!1;this.table.modExists("edit")&&(e=this.table.modules.edit.currentCell)&&(t.preventDefault(),e.nav().down())},undo:function(t){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(t.preventDefault(),this.table.modules.history.undo()))},redo:function(t){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(t.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(t){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(this.table.options.selectable&&"highlight"!=this.table.options.selectable?"selected":"active",null,null,null,!0)}},c.prototype.registerModule("keybindings",Y);var R=function(t){this.table=t,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this)};R.prototype.createPlaceholderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-col"),t.classList.add("tabulator-col-placeholder"),t},R.prototype.initializeColumn=function(t){var e,n=this,i={};t.modules.frozen||(e=t.getElement(),i.mousemove=function(i){t.parent===n.moving.parent&&(i.pageX-c.prototype.helpers.elOffset(e).left+n.table.columnManager.element.scrollLeft>t.getWidth()/2?n.toCol===t&&n.toColAfter||(e.parentNode.insertBefore(n.placeholderElement,e.nextSibling),n.moveColumn(t,!0)):(n.toCol!==t||n.toColAfter)&&(e.parentNode.insertBefore(n.placeholderElement,e),n.moveColumn(t,!1)))}.bind(n),e.addEventListener("mousedown",function(e){1===e.which&&(n.checkTimeout=setTimeout(function(){n.startMove(e,t)},n.checkPeriod))}),e.addEventListener("mouseup",function(t){1===t.which&&n.checkTimeout&&clearTimeout(n.checkTimeout)})),t.modules.moveColumn=i},R.prototype.startMove=function(t,e){var n=e.getElement();this.moving=e,this.startX=t.pageX-c.prototype.helpers.elOffset(n).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom="0",this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(t)},R.prototype._bindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach(function(t){t.modules.moveColumn.mousemove&&t.getElement().addEventListener("mousemove",t.modules.moveColumn.mousemove)})},R.prototype._unbindMouseMove=function(){this.table.columnManager.columnsByIndex.forEach(function(t){t.modules.moveColumn.mousemove&&t.getElement().removeEventListener("mousemove",t.modules.moveColumn.mousemove)})},R.prototype.moveColumn=function(t,e){var n=this.moving.getCells();this.toCol=t,this.toColAfter=e,e?t.getCells().forEach(function(t,e){var i=t.getElement();i.parentNode.insertBefore(n[e].getElement(),i.nextSibling)}):t.getCells().forEach(function(t,e){var i=t.getElement();i.parentNode.insertBefore(n[e].getElement(),i)})},R.prototype.endMove=function(t){1===t.which&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumn(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove))},R.prototype.moveHover=function(t){var e,n=this,i=n.table.columnManager.getElement(),o=i.scrollLeft,r=t.pageX-c.prototype.helpers.elOffset(i).left+o;n.hoverElement.style.left=r-n.startX+"px",r-o<n.autoScrollMargin&&(n.autoScrollTimeout||(n.autoScrollTimeout=setTimeout(function(){e=Math.max(0,o-5),n.table.rowManager.getElement().scrollLeft=e,n.autoScrollTimeout=!1},1))),o+i.clientWidth-r<n.autoScrollMargin&&(n.autoScrollTimeout||(n.autoScrollTimeout=setTimeout(function(){e=Math.min(i.clientWidth,o+5),n.table.rowManager.getElement().scrollLeft=e,n.autoScrollTimeout=!1},1)))},c.prototype.registerModule("moveColumn",R);var O=function(t){this.table=t,this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.connection=!1,this.connections=[],this.connectedTable=!1,this.connectedRow=!1};O.prototype.createPlaceholderElement=function(){var t=document.createElement("div");return t.classList.add("tabulator-row"),t.classList.add("tabulator-row-placeholder"),t},O.prototype.initialize=function(t){this.connection=this.table.options.movableRowsConnectedTables},O.prototype.setHandle=function(t){this.hasHandle=t},O.prototype.initializeRow=function(t){var e,n=this,i={};i.mouseup=function(e){n.tableRowDrop(e,t)}.bind(n),i.mousemove=function(e){var i;e.pageY-c.prototype.helpers.elOffset(t.element).top+n.table.rowManager.element.scrollTop>t.getHeight()/2?n.toRow===t&&n.toRowAfter||((i=t.getElement()).parentNode.insertBefore(n.placeholderElement,i.nextSibling),n.moveRow(t,!0)):(n.toRow!==t||n.toRowAfter)&&((i=t.getElement()).parentNode.insertBefore(n.placeholderElement,i),n.moveRow(t,!1))}.bind(n),this.hasHandle||((e=t.getElement()).addEventListener("mousedown",function(e){1===e.which&&(n.checkTimeout=setTimeout(function(){n.startMove(e,t)},n.checkPeriod))}),e.addEventListener("mouseup",function(t){1===t.which&&n.checkTimeout&&clearTimeout(n.checkTimeout)})),t.modules.moveRow=i},O.prototype.initializeCell=function(t){var e=this,n=t.getElement();n.addEventListener("mousedown",function(n){1===n.which&&(e.checkTimeout=setTimeout(function(){e.startMove(n,t.row)},e.checkPeriod))}),n.addEventListener("mouseup",function(t){1===t.which&&e.checkTimeout&&clearTimeout(e.checkTimeout)})},O.prototype._bindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach(function(t){"row"===t.type&&t.modules.moveRow.mousemove&&t.getElement().addEventListener("mousemove",t.modules.moveRow.mousemove)})},O.prototype._unbindMouseMove=function(){this.table.rowManager.getDisplayRows().forEach(function(t){"row"===t.type&&t.modules.moveRow.mousemove&&t.getElement().removeEventListener("mousemove",t.modules.moveRow.mousemove)})},O.prototype.startMove=function(t,e){var n=e.getElement();this.setStartPosition(t,e),this.moving=e,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=e.getWidth()+"px",this.placeholderElement.style.height=e.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(e)):(n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n)),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(t)},O.prototype.setStartPosition=function(t,e){var n,i;n=e.getElement(),this.connection?(i=n.getBoundingClientRect(),this.startX=i.left-t.pageX+window.scrollX,this.startY=i.top-t.pageY+window.scrollY):this.startY=t.pageY-n.getBoundingClientRect().top},O.prototype.endMove=function(t){t&&1!==t.which||(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))},O.prototype.moveRow=function(t,e){this.toRow=t,this.toRowAfter=e},O.prototype.moveHover=function(t){this.connection?this.moveHoverConnections.call(this,t):this.moveHoverTable.call(this,t)},O.prototype.moveHoverTable=function(t){var e=this.table.rowManager.getElement(),n=e.scrollTop,i=t.pageY-e.getBoundingClientRect().top+n;this.hoverElement.style.top=i-this.startY+"px"},O.prototype.moveHoverConnections=function(t){this.hoverElement.style.left=this.startX+t.pageX+"px",this.hoverElement.style.top=this.startY+t.pageY+"px"},O.prototype.connectToTables=function(t){var e=this.table.modules.comms.getConnections(this.connection);this.table.options.movableRowsSendingStart.call(this.table,e),this.table.modules.comms.send(this.connection,"moveRow","connect",{row:t})},O.prototype.disconnectFromTables=function(){var t=this.table.modules.comms.getConnections(this.connection);this.table.options.movableRowsSendingStop.call(this.table,t),this.table.modules.comms.send(this.connection,"moveRow","disconnect")},O.prototype.connect=function(t,e){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=t,this.connectedRow=e,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(function(t){"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().addEventListener("mouseup",t.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.table.options.movableRowsReceivingStart.call(this.table,e,t),!0)},O.prototype.disconnect=function(t){t===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(function(t){"row"===t.type&&t.modules.moveRow&&t.modules.moveRow.mouseup&&t.getElement().removeEventListener("mouseup",t.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.table.options.movableRowsReceivingStop.call(this.table,t)):console.warn("Move Row Error - trying to disconnect from non connected table")},O.prototype.dropComplete=function(t,e,n){var i=!1;if(n){switch(s(this.table.options.movableRowsSender)){case"string":i=this.senders[this.table.options.movableRowsSender];break;case"function":i=this.table.options.movableRowsSender}i?i.call(this,this.moving.getComponent(),e?e.getComponent():void 0,t):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.table.options.movableRowsSent.call(this.table,this.moving.getComponent(),e?e.getComponent():void 0,t)}else this.table.options.movableRowsSentFailed.call(this.table,this.moving.getComponent(),e?e.getComponent():void 0,t);this.endMove()},O.prototype.tableRowDrop=function(t,e){var n=!1,i=!1;switch(t.stopImmediatePropagation(),s(this.table.options.movableRowsReceiver)){case"string":n=this.receivers[this.table.options.movableRowsReceiver];break;case"function":n=this.table.options.movableRowsReceiver}n?i=n.call(this,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),i?this.table.options.movableRowsReceived.call(this.table,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable):this.table.options.movableRowsReceivedFailed.call(this.table,this.connectedRow.getComponent(),e?e.getComponent():void 0,this.connectedTable),this.table.modules.comms.send(this.connectedTable,"moveRow","dropcomplete",{row:e,success:i})},O.prototype.receivers={insert:function(t,e,n){return this.table.addRow(t.getData(),void 0,e),!0},add:function(t,e,n){return this.table.addRow(t.getData()),!0},update:function(t,e,n){return!!e&&(e.update(t.getData()),!0)},replace:function(t,e,n){return!!e&&(this.table.addRow(t.getData(),void 0,e),e.delete(),!0)}},O.prototype.senders={delete:function(t,e,n){t.delete()}},O.prototype.commsReceived=function(t,e,n){switch(e){case"connect":return this.connect(t,n.row);case"disconnect":return this.disconnect(t);case"dropcomplete":return this.dropComplete(t,n.row,n.success)}},c.prototype.registerModule("moveRow",O);var P=function(t){this.table=t,this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0};P.prototype.initializeColumn=function(t){var e=this,n=!1,i={};this.allowedTypes.forEach(function(o){var r,a="mutator"+(o.charAt(0).toUpperCase()+o.slice(1));t.definition[a]&&(r=e.lookupMutator(t.definition[a]))&&(n=!0,i[a]={mutator:r,params:t.definition[a+"Params"]||{}})}),n&&(t.modules.mutate=i)},P.prototype.lookupMutator=function(t){var e=!1;switch(void 0===t?"undefined":s(t)){case"string":this.mutators[t]?e=this.mutators[t]:console.warn("Mutator Error - No such mutator found, ignoring: ",t);break;case"function":e=t}return e},P.prototype.transformRow=function(t,e,n){var i,o="mutator"+(e.charAt(0).toUpperCase()+e.slice(1));return this.enabled&&this.table.columnManager.traverse(function(r){var a,s,l;r.modules.mutate&&(a=r.modules.mutate[o]||r.modules.mutate.mutator||!1)&&(i=r.getFieldValue(t),(!n||n&&void 0!==i)&&(l=r.getComponent(),s="function"==typeof a.params?a.params(i,t,e,l):a.params,r.setFieldValue(t,a.mutator(i,t,e,s,l))))}),t},P.prototype.transformCell=function(t,e){var n=t.column.modules.mutate.mutatorEdit||t.column.modules.mutate.mutator||!1;return n?n.mutator(e,t.row.getData(),"edit",n.params,t.getComponent()):e},P.prototype.enable=function(){this.enabled=!0},P.prototype.disable=function(){this.enabled=!1},P.prototype.mutators={},c.prototype.registerModule("mutator",P);var F=function(t){this.table=t,this.mode="local",this.progressiveLoad=!1,this.size=0,this.page=1,this.count=5,this.max=1,this.displayIndex=0,this.createElements()};F.prototype.createElements=function(){var t;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(t=document.createElement("button")).classList.add("tabulator-page"),t.setAttribute("type","button"),t.setAttribute("role","button"),t.setAttribute("aria-label",""),t.setAttribute("title",""),this.firstBut=t.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=t.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=t.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=t.cloneNode(!0),this.lastBut.setAttribute("data-page","last")},F.prototype.initialize=function(t){var e=this;for(var n in e.table.options.paginationDataSent)e.paginationDataSentNames[n]=e.table.options.paginationDataSent[n];for(var i in e.table.options.paginationDataReceived)e.paginationDataReceivedNames[i]=e.table.options.paginationDataReceived[i];e.table.modules.localize.bind("pagination|first",function(t){e.firstBut.innerHTML=t}),e.table.modules.localize.bind("pagination|first_title",function(t){e.firstBut.setAttribute("aria-label",t),e.firstBut.setAttribute("title",t)}),e.table.modules.localize.bind("pagination|prev",function(t){e.prevBut.innerHTML=t}),e.table.modules.localize.bind("pagination|prev_title",function(t){e.prevBut.setAttribute("aria-label",t),e.prevBut.setAttribute("title",t)}),e.table.modules.localize.bind("pagination|next",function(t){e.nextBut.innerHTML=t}),e.table.modules.localize.bind("pagination|next_title",function(t){e.nextBut.setAttribute("aria-label",t),e.nextBut.setAttribute("title",t)}),e.table.modules.localize.bind("pagination|last",function(t){e.lastBut.innerHTML=t}),e.table.modules.localize.bind("pagination|last_title",function(t){e.lastBut.setAttribute("aria-label",t),e.lastBut.setAttribute("title",t)}),e.firstBut.addEventListener("click",function(){e.setPage(1)}),e.prevBut.addEventListener("click",function(){e.previousPage()}),e.nextBut.addEventListener("click",function(){e.nextPage().then(function(){}).catch(function(){})}),e.lastBut.addEventListener("click",function(){e.setPage(e.max)}),e.table.options.paginationElement&&(e.element=e.table.options.paginationElement),e.element.appendChild(e.firstBut),e.element.appendChild(e.prevBut),e.element.appendChild(e.pagesElement),e.element.appendChild(e.nextBut),e.element.appendChild(e.lastBut),e.table.options.paginationElement||t||e.table.footerManager.append(e.element,e),e.mode=e.table.options.pagination,e.size=e.table.options.paginationSize||Math.floor(e.table.rowManager.getElement().clientHeight/24),e.count=e.table.options.paginationButtonCount},F.prototype.initializeProgressive=function(t){this.initialize(!0),this.mode="progressive_"+t,this.progressiveLoad=!0},F.prototype.setDisplayIndex=function(t){this.displayIndex=t},F.prototype.getDisplayIndex=function(){return this.displayIndex},F.prototype.setMaxRows=function(t){this.max=t?Math.ceil(t/this.size):1,this.page>this.max&&(this.page=this.max)},F.prototype.reset=function(t){return("local"==this.mode||t)&&(this.page=1),!0},F.prototype.setMaxPage=function(t){this.max=t||1,this.page>this.max&&(this.page=this.max,this.trigger())},F.prototype.setPage=function(t){var e=this;return new Promise(function(n,i){t>0&&t<=e.max?(e.page=t,e.trigger().then(function(){n()}).catch(function(){i()})):(console.warn("Pagination Error - Requested page is out of range of 1 - "+e.max+":",t),i())})},F.prototype.setPageSize=function(t){t>0&&(this.size=t)},F.prototype._setPageButtons=function(){for(var t=Math.floor((this.count-1)/2),e=Math.ceil((this.count-1)/2),n=this.max-this.page+t+1<this.count?this.max-this.count+1:Math.max(this.page-t,1),i=this.page<=e?Math.min(this.count,this.max):Math.min(this.page+e,this.max);this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(var o=n;o<=i;o++)o>0&&o<=this.max&&this.pagesElement.appendChild(this._generatePageButton(o));this.footerRedraw()},F.prototype._generatePageButton=function(t){var e=this,n=document.createElement("button");return n.classList.add("tabulator-page"),t==e.page&&n.classList.add("active"),n.setAttribute("type","button"),n.setAttribute("role","button"),n.setAttribute("aria-label","Show Page "+t),n.setAttribute("title","Show Page "+t),n.setAttribute("data-page",t),n.textContent=t,n.addEventListener("click",function(n){e.setPage(t)}),n},F.prototype.previousPage=function(){var t=this;return new Promise(function(e,n){t.page>1?(t.page--,t.trigger().then(function(){e()}).catch(function(){n()})):(console.warn("Pagination Error - Previous page would be less than page 1:",0),n())})},F.prototype.nextPage=function(){var t=this;return new Promise(function(e,n){t.page<t.max?(t.page++,t.trigger().then(function(){e()}).catch(function(){n()})):(t.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+t.max+":",t.max+1),n())})},F.prototype.getPage=function(){return this.page},F.prototype.getPageMax=function(){return this.max},F.prototype.getPageSize=function(t){return this.size},F.prototype.getMode=function(){return this.mode},F.prototype.getRows=function(t){var e,n,i;if("local"==this.mode){e=[],i=(n=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(var o=n;o<i;o++)t[o]&&e.push(t[o]);return e}return this._setPageButtons(),t.slice(0)},F.prototype.trigger=function(){var t,e=this;return new Promise(function(n,i){switch(e.mode){case"local":t=e.table.rowManager.scrollLeft,e.table.rowManager.refreshActiveData("page"),e.table.rowManager.scrollHorizontal(t),e.table.options.pageLoaded.call(e.table,e.getPage()),n();break;case"remote":case"progressive_load":case"progressive_scroll":e.table.modules.ajax.blockActiveRequest(),e._getRemotePage().then(function(){n()}).catch(function(){i()});break;default:console.warn("Pagination Error - no such pagination mode:",e.mode),i()}})},F.prototype._getRemotePage=function(){var t,e,n=this,i=this;return new Promise(function(o,r){if(i.table.modExists("ajax",!0)||r(),t=c.prototype.helpers.deepClone(i.table.modules.ajax.getParams()||{}),(e=i.table.modules.ajax.getParams())[n.paginationDataSentNames.page]=i.page,n.size&&(e[n.paginationDataSentNames.size]=n.size),n.table.options.ajaxSorting&&n.table.modExists("sort")){var a=i.table.modules.sort.getSort();a.forEach(function(t){delete t.column}),e[n.paginationDataSentNames.sorters]=a}if(n.table.options.ajaxFiltering&&n.table.modExists("filter")){var s=i.table.modules.filter.getFilters(!0,!0);e[n.paginationDataSentNames.filters]=s}i.table.modules.ajax.setParams(e),i.table.modules.ajax.sendRequest(n.progressiveLoad).then(function(t){i._parseRemoteData(t),o()}).catch(function(t){r()}),i.table.modules.ajax.setParams(t)})},F.prototype._parseRemoteData=function(t){var e,n,i=this;if(void 0===t[this.paginationDataReceivedNames.last_page]&&console.warn("Remote Pagination Error - Server response missing '"+this.paginationDataReceivedNames.last_page+"' property"),t[this.paginationDataReceivedNames.data])if(this.max=parseInt(t[this.paginationDataReceivedNames.last_page])||1,this.progressiveLoad)switch(this.mode){case"progressive_load":this.table.rowManager.addRows(t[this.paginationDataReceivedNames.data]),this.page<this.max&&setTimeout(function(){i.nextPage().then(function(){}).catch(function(){})},i.table.options.ajaxProgressiveLoadDelay);break;case"progressive_scroll":t=this.table.rowManager.getData().concat(t[this.paginationDataReceivedNames.data]),this.table.rowManager.setData(t,!0),n=this.table.options.ajaxProgressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight,i.table.rowManager.element.scrollHeight<=i.table.rowManager.element.clientHeight+n&&i.nextPage().then(function(){}).catch(function(){})}else e=this.table.rowManager.scrollLeft,this.table.rowManager.setData(t[this.paginationDataReceivedNames.data]),this.table.rowManager.scrollHorizontal(e),this.table.columnManager.scrollHorizontal(e),this.table.options.pageLoaded.call(this.table,this.getPage());else console.warn("Remote Pagination Error - Server response missing '"+this.paginationDataReceivedNames.data+"' property")},F.prototype.footerRedraw=function(){var t=this.table.footerManager.element;Math.ceil(t.clientWidth)-t.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(t.clientWidth)-t.scrollWidth<0&&(this.pagesElement.style.display="none"))},F.prototype.paginationDataSentNames={page:"page",size:"size",sorters:"sorters",filters:"filters"},F.prototype.paginationDataReceivedNames={current_page:"current_page",last_page:"last_page",data:"data"},c.prototype.registerModule("page",F);var I=function(t){this.table=t,this.mode="",this.id="",this.persistProps=["field","width","visible"]};I.prototype.initialize=function(t,e){this.mode=!0!==t?t:void 0!==window.localStorage?"local":"cookie",this.id="tabulator-"+(e||this.table.element.getAttribute("id")||"")},I.prototype.load=function(t,e){var n=this.retreiveData(t);return e&&(n=n?this.mergeDefinition(e,n):e),n},I.prototype.retreiveData=function(t){var e="",n=this.id+("columns"===t?"":"-"+t);switch(this.mode){case"local":e=localStorage.getItem(n);break;case"cookie":var i=document.cookie,o=i.indexOf(n+"="),r=void 0;o>-1&&((r=(i=i.substr(o)).indexOf(";"))>-1&&(i=i.substr(0,r)),e=i.replace(n+"=",""));break;default:console.warn("Persistance Load Error - invalid mode selected",this.mode)}return!!e&&JSON.parse(e)},I.prototype.mergeDefinition=function(t,e){var n=this,i=[];return(e=e||[]).forEach(function(e,o){var r=n._findColumn(t,e);r&&(r.width=e.width,r.visible=e.visible,r.columns&&(r.columns=n.mergeDefinition(r.columns,e.columns)),i.push(r))}),t.forEach(function(t,o){n._findColumn(e,t)||(i.length>o?i.splice(o,0,t):i.push(t))}),i},I.prototype._findColumn=function(t,e){var n=e.columns?"group":e.field?"field":"object";return t.find(function(t){switch(n){case"group":return t.title===e.title&&t.columns.length===e.columns.length;case"field":return t.field===e.field;case"object":return t===e}})},I.prototype.save=function(t){var e={};switch(t){case"columns":e=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":e=this.table.modules.filter.getFilters();break;case"sort":e=this.validateSorters(this.table.modules.sort.getSort())}var n=this.id+("columns"===t?"":"-"+t);this.saveData(n,e)},I.prototype.validateSorters=function(t){return t.forEach(function(t){t.column=t.field,delete t.field}),t},I.prototype.saveData=function(t,e){switch(e=JSON.stringify(e),this.mode){case"local":localStorage.setItem(t,e);break;case"cookie":var n=new Date;n.setDate(n.getDate()+1e4),document.cookie=t+"="+e+"; expires="+n.toUTCString();break;default:console.warn("Persistance Save Error - invalid mode selected",this.mode)}},I.prototype.parseColumns=function(t){var e=this,n=[];return t.forEach(function(t){var i={};t.isGroup?(i.title=t.getDefinition().title,i.columns=e.parseColumns(t.getColumns())):(i.title=t.getDefinition().title,i.field=t.getField(),i.width=t.getWidth(),i.visible=t.visible),n.push(i)}),n},c.prototype.registerModule("persistence",I);var A=function(t){this.table=t,this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null};A.prototype.initializeColumn=function(t,e,n){var i=this,o=!1,r=this.table.options.resizableColumns;if("header"===t&&(o="textarea"==e.definition.formatter||e.definition.variableHeight,e.modules.resize={variableHeight:o}),!0===r||r==t){var a=document.createElement("div");a.className="tabulator-col-resize-handle";var s=document.createElement("div");s.className="tabulator-col-resize-handle prev",a.addEventListener("click",function(t){t.stopPropagation()}),a.addEventListener("mousedown",function(t){var n=e.getLastColumn();n&&i._checkResizability(n)&&(i.startColumn=e,i._mouseDown(t,n))}),a.addEventListener("dblclick",function(t){i._checkResizability(e)&&e.reinitializeWidth(!0)}),s.addEventListener("click",function(t){t.stopPropagation()}),s.addEventListener("mousedown",function(t){var n,o,r;(n=e.getFirstColumn())&&(r=(o=i.table.columnManager.findColumnIndex(n))>0&&i.table.columnManager.getColumnByIndex(o-1))&&i._checkResizability(r)&&(i.startColumn=e,i._mouseDown(t,r))}),s.addEventListener("dblclick",function(t){var n,o,r;(n=e.getFirstColumn())&&(r=(o=i.table.columnManager.findColumnIndex(n))>0&&i.table.columnManager.getColumnByIndex(o-1))&&i._checkResizability(r)&&r.reinitializeWidth(!0)}),n.appendChild(a),n.appendChild(s)}},A.prototype._checkResizability=function(t){return void 0!==t.definition.resizable?t.definition.resizable:this.table.options.resizableColumns},A.prototype._mouseDown=function(t,e){var n=this;function i(t){e.setWidth(n.startWidth+(t.screenX-n.startX)),!n.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights()}n.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!0),n.startX=t.screenX,n.startWidth=e.getWidth(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",function t(o){n.startColumn.modules.edit&&(n.startColumn.modules.edit.blocked=!1),n.table.browserSlow&&e.modules.resize&&e.modules.resize.variableHeight&&e.checkCellHeights(),document.body.removeEventListener("mouseup",t),document.body.removeEventListener("mousemove",i),n.table.element.classList.remove("tabulator-block-select"),n.table.options.persistentLayout&&n.table.modExists("persistence",!0)&&n.table.modules.persistence.save("columns"),n.table.options.columnResized.call(n.table,e.getComponent())})},c.prototype.registerModule("resizeColumns",A);var j=function(t){this.table=t,this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null};j.prototype.initializeRow=function(t){var e=this,n=t.getElement(),i=document.createElement("div");i.className="tabulator-row-resize-handle";var o=document.createElement("div");o.className="tabulator-row-resize-handle prev",i.addEventListener("click",function(t){t.stopPropagation()}),i.addEventListener("mousedown",function(n){e.startRow=t,e._mouseDown(n,t)}),o.addEventListener("click",function(t){t.stopPropagation()}),o.addEventListener("mousedown",function(n){var i=e.table.rowManager.prevDisplayRow(t);i&&(e.startRow=i,e._mouseDown(n,i))}),n.appendChild(i),n.appendChild(o)},j.prototype._mouseDown=function(t,e){var n=this;function i(t){e.setHeight(n.startHeight+(t.screenY-n.startY))}n.table.element.classList.add("tabulator-block-select"),t.stopPropagation(),n.startY=t.screenY,n.startHeight=e.getHeight(),document.body.addEventListener("mousemove",i),document.body.addEventListener("mouseup",function(t){document.body.removeEventListener("mouseup",i),document.body.removeEventListener("mousemove",i),n.table.element.classList.remove("tabulator-block-select"),n.table.options.rowResized.call(this.table,e.getComponent())})},c.prototype.registerModule("resizeRows",j);var H=function(t){this.table=t,this.binding=!1,this.observer=!1};H.prototype.initialize=function(t){var e=this.table;"undefined"!=typeof ResizeObserver&&"virtual"===e.rowManager.getRenderMode()?(this.observer=new ResizeObserver(function(t){e.redraw()}),this.observer.observe(e.element)):(this.binding=function(){e.redraw()},window.addEventListener("resize",this.binding))},H.prototype.clearBindings=function(t){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element)},c.prototype.registerModule("resizeTable",H);var N=function(t){this.table=t,this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0};N.prototype.initialize=function(){var t=this,e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach(function(n,i){n.modules.responsive&&n.modules.responsive.order&&n.modules.responsive.visible&&(n.modules.responsive.index=i,e.push(n),n.visible||"collapse"!==t.mode||t.hiddenColumns.push(n))}),e=(e=e.reverse()).sort(function(t,e){return e.modules.responsive.order-t.modules.responsive.order||e.modules.responsive.index-t.modules.responsive.index}),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent()},N.prototype.initializeColumn=function(t){var e=t.getDefinition();t.modules.responsive={order:void 0===e.responsive?1:e.responsive,visible:!1!==e.visible}},N.prototype.layoutRow=function(t){var e=t.getElement(),n=document.createElement("div");n.classList.add("tabulator-responsive-collapse"),e.classList.contains("tabulator-calcs")||(t.modules.responsiveLayout={element:n},this.collapseStartOpen||(n.style.display="none"),e.appendChild(n),this.generateCollapsedRowContent(t))},N.prototype.updateColumnVisibility=function(t,e){t.modules.responsive&&(t.modules.responsive.visible=e,this.initialize())},N.prototype.hideColumn=function(t){t.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(t),this.generateCollapsedContent())},N.prototype.showColumn=function(t){var e;t.show(!1,!0),t.setWidth(t.getWidth()),"collapse"===this.mode&&((e=this.hiddenColumns.indexOf(t))>-1&&this.hiddenColumns.splice(e,1),this.generateCollapsedContent())},N.prototype.update=function(){for(var t=!0;t;){var e="fitColumns"==this.table.modules.layout.getMode()?this.table.columnManager.getFlexBaseWidth():this.table.columnManager.getWidth(),n=this.table.columnManager.element.clientWidth-e;if(n<0){var i=this.columns[this.index];i?(this.hideColumn(i),this.index++):t=!1}else{var o=this.columns[this.index-1];o&&n>0&&n>=o.getWidth()?(this.showColumn(o),this.index--):t=!1}this.table.rowManager.activeRowsCount||this.table.rowManager.renderEmptyScroll()}},N.prototype.generateCollapsedContent=function(){var t=this;this.table.rowManager.getDisplayRows().forEach(function(e){t.generateCollapsedRowContent(e)})},N.prototype.generateCollapsedRowContent=function(t){var e,n;if(t.modules.responsiveLayout){for(e=t.modules.responsiveLayout.element;e.firstChild;)e.removeChild(e.firstChild);(n=this.collapseFormatter(this.generateCollapsedRowData(t)))&&e.appendChild(n)}},N.prototype.generateCollapsedRowData=function(t){var e,n=this,i=t.getData(),o={};return this.hiddenColumns.forEach(function(r){var a=r.getFieldValue(i);r.definition.title&&r.field&&(r.modules.format&&n.table.options.responsiveLayoutCollapseUseFormatters?(e={value:!1,data:{},getValue:function(){return a},getData:function(){return i},getElement:function(){return document.createElement("div")},getRow:function(){return t.getComponent()},getColumn:function(){return r.getComponent()}},o[r.definition.title]=r.modules.format.formatter.call(n.table.modules.format,e,r.modules.format.params)):o[r.definition.title]=a)}),o},N.prototype.formatCollapsedData=function(t){var e=document.createElement("table"),n="";for(var i in t)n+="<tr><td><strong>"+i+"</strong></td><td>"+t[i]+"</td></tr>";return e.innerHTML=n,Object.keys(t).length?e:""},c.prototype.registerModule("responsiveLayout",N);var z=function(t){this.table=t,this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[]};z.prototype.clearSelectionData=function(t){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],t||this._rowSelectionChanged()},z.prototype.initializeRow=function(t){var e=this,n=t.getElement(),i=function t(){setTimeout(function(){e.selecting=!1},50),document.body.removeEventListener("mouseup",t)};t.modules.select={selected:!1},e.table.options.selectableCheck.call(this.table,t.getComponent())?(n.classList.add("tabulator-selectable"),n.classList.remove("tabulator-unselectable"),e.table.options.selectable&&"highlight"!=e.table.options.selectable&&(e.table.options.selectableRangeMode&&"click"===e.table.options.selectableRangeMode?n.addEventListener("click",function(n){if(n.shiftKey){e.lastClickedRow=e.lastClickedRow||t;var i=e.table.rowManager.getDisplayRowIndex(e.lastClickedRow),o=e.table.rowManager.getDisplayRowIndex(t),r=i<=o?i:o,a=i>=o?i:o,s=e.table.rowManager.getDisplayRows().slice(0).splice(r,a-r+1);n.ctrlKey?(s.forEach(function(t){t!==e.lastClickedRow&&e.toggleRow(t)}),e.lastClickedRow=t):(e.deselectRows(),e.selectRows(s))}else n.ctrlKey?(e.toggleRow(t),e.lastClickedRow=t):(e.deselectRows(),e.selectRows(t),e.lastClickedRow=t)}):(n.addEventListener("click",function(n){e.selecting||e.toggleRow(t)}),n.addEventListener("mousedown",function(n){if(n.shiftKey)return e.selecting=!0,e.selectPrev=[],document.body.addEventListener("mouseup",i),document.body.addEventListener("keyup",i),e.toggleRow(t),!1}),n.addEventListener("mouseenter",function(n){e.selecting&&(e.toggleRow(t),e.selectPrev[1]==t&&e.toggleRow(e.selectPrev[0]))}),n.addEventListener("mouseout",function(n){e.selecting&&e.selectPrev.unshift(t)})))):(n.classList.add("tabulator-unselectable"),n.classList.remove("tabulator-selectable"))},z.prototype.toggleRow=function(t){this.table.options.selectableCheck.call(this.table,t.getComponent())&&(t.modules.select.selected?this._deselectRow(t):this._selectRow(t))},z.prototype.selectRows=function(t){var e=this;switch(void 0===t?"undefined":s(t)){case"undefined":e.table.rowManager.rows.forEach(function(t){e._selectRow(t,!0,!0)}),e._rowSelectionChanged();break;case"boolean":!0===t&&(e.table.rowManager.activeRows.forEach(function(t){e._selectRow(t,!0,!0)}),e._rowSelectionChanged());break;default:Array.isArray(t)?(t.forEach(function(t){e._selectRow(t,!0,!0)}),e._rowSelectionChanged()):e._selectRow(t,!1,!0)}},z.prototype._selectRow=function(t,e,n){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!n&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var i=this.table.rowManager.findRow(t);i?-1==this.selectedRows.indexOf(i)&&(i.modules.select.selected=!0,i.getElement().classList.add("tabulator-selected"),this.selectedRows.push(i),e||(this.table.options.rowSelected.call(this.table,i.getComponent()),this._rowSelectionChanged())):e||console.warn("Selection Error - No such row found, ignoring selection:"+t)},z.prototype.isRowSelected=function(t){return-1!==this.selectedRows.indexOf(t)},z.prototype.deselectRows=function(t){var e,n=this;if(void 0===t){e=n.selectedRows.length;for(var i=0;i<e;i++)n._deselectRow(n.selectedRows[0],!0);n._rowSelectionChanged()}else Array.isArray(t)?(t.forEach(function(t){n._deselectRow(t,!0)}),n._rowSelectionChanged()):n._deselectRow(t)},z.prototype._deselectRow=function(t,e){var n,i=this.table.rowManager.findRow(t);i?(n=this.selectedRows.findIndex(function(t){return t==i}))>-1&&(i.modules.select.selected=!1,i.getElement().classList.remove("tabulator-selected"),this.selectedRows.splice(n,1),e||(this.table.options.rowDeselected.call(this.table,i.getComponent()),this._rowSelectionChanged())):e||console.warn("Deselection Error - No such row found, ignoring selection:"+t)},z.prototype.getSelectedData=function(){var t=[];return this.selectedRows.forEach(function(e){t.push(e.getData())}),t},z.prototype.getSelectedRows=function(){var t=[];return this.selectedRows.forEach(function(e){t.push(e.getComponent())}),t},z.prototype._rowSelectionChanged=function(){this.table.options.rowSelectionChanged.call(this.table,this.getSelectedData(),this.getSelectedRows())},c.prototype.registerModule("selectRow",z);var G=function(t){this.table=t,this.sortList=[],this.changed=!1};G.prototype.initializeColumn=function(t,e){var n,i,o=this,r=!1;switch(s(t.definition.sorter)){case"string":o.sorters[t.definition.sorter]?r=o.sorters[t.definition.sorter]:console.warn("Sort Error - No such sorter found: ",t.definition.sorter);break;case"function":r=t.definition.sorter}t.modules.sort={sorter:r,dir:"none",params:t.definition.sorterParams||{},startingDir:t.definition.headerSortStartingDir||"asc"},!1!==t.definition.headerSort&&((n=t.getElement()).classList.add("tabulator-sortable"),(i=document.createElement("div")).classList.add("tabulator-arrow"),e.appendChild(i),n.addEventListener("click",function(e){var n="",i=[],r=!1;t.modules.sort&&(n="asc"==t.modules.sort.dir?"desc":"desc"==t.modules.sort.dir?"asc":t.modules.sort.startingDir,o.table.options.columnHeaderSortMulti&&(e.shiftKey||e.ctrlKey)?((r=(i=o.getSort()).findIndex(function(e){return e.field===t.getField()}))>-1?(i[r].dir="asc"==i[r].dir?"desc":"asc",r!=i.length-1&&i.push(i.splice(r,1)[0])):i.push({column:t,dir:n}),o.setSort(i)):o.setSort(t,n),o.table.rowManager.sorterRefresh())}))},G.prototype.hasChanged=function(){var t=this.changed;return this.changed=!1,t},G.prototype.getSort=function(){var t=[];return this.sortList.forEach(function(e){e.column&&t.push({column:e.column.getComponent(),field:e.column.getField(),dir:e.dir})}),t},G.prototype.setSort=function(t,e){var n=this,i=[];Array.isArray(t)||(t=[{column:t,dir:e}]),t.forEach(function(t){var e;(e=n.table.columnManager.findColumn(t.column))?(t.column=e,i.push(t),n.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",t.column)}),n.sortList=i,this.table.options.persistentSort&&this.table.modExists("persistence",!0)&&this.table.modules.persistence.save("sort")},G.prototype.clear=function(){this.setSort([])},G.prototype.findSorter=function(t){var e,n=this.table.rowManager.activeRows[0],i="string";if(n&&(n=n.getData(),t.getField()))switch(void 0===(e=t.getFieldValue(n))?"undefined":s(e)){case"undefined":i="string";break;case"boolean":i="boolean";break;default:isNaN(e)||""===e?e.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(i="alphanum"):i="number"}return this.sorters[i]},G.prototype.sort=function(){var t,e=this;t=this.table.options.sortOrderReverse?e.sortList.slice().reverse():e.sortList,e.table.options.dataSorting&&e.table.options.dataSorting.call(e.table,e.getSort()),e.clearColumnHeaders(),e.table.options.ajaxSorting?t.forEach(function(t,n){e.setColumnHeader(t.column,t.dir)}):t.forEach(function(n,i){n.column&&n.column.modules.sort&&(n.column.modules.sort.sorter||(n.column.modules.sort.sorter=e.findSorter(n.column)),e._sortItem(n.column,n.dir,t,i)),e.setColumnHeader(n.column,n.dir)}),e.table.options.dataSorted&&e.table.options.dataSorted.call(e.table,e.getSort(),e.table.rowManager.getComponents(!0))},G.prototype.clearColumnHeaders=function(){this.table.columnManager.getRealColumns().forEach(function(t){t.modules.sort&&(t.modules.sort.dir="none",t.getElement().setAttribute("aria-sort","none"))})},G.prototype.setColumnHeader=function(t,e){t.modules.sort.dir=e,t.getElement().setAttribute("aria-sort",e)},G.prototype._sortItem=function(t,e,n,i){var o=this,r=o.table.rowManager.activeRows,a="function"==typeof t.modules.sort.params?t.modules.sort.params(t.getComponent(),e):t.modules.sort.params;r.sort(function(r,s){var l=o._sortRow(r,s,t,e,a);if(0===l&&i)for(var u=i-1;u>=0&&0===(l=o._sortRow(r,s,n[u].column,n[u].dir,a));u--);return l})},G.prototype._sortRow=function(t,e,n,i,o){var r,a,s="asc"==i?t:e,l="asc"==i?e:t;return t=void 0!==(t=n.getFieldValue(s.getData()))?t:"",e=void 0!==(e=n.getFieldValue(l.getData()))?e:"",r=s.getComponent(),a=l.getComponent(),n.modules.sort.sorter.call(this,t,e,r,a,n.getComponent(),i,o)},G.prototype.sorters={number:function(t,e,n,i,o,r,a){var s=a.alignEmptyValues,l=0;if(t=parseFloat(String(t).replace(",","")),e=parseFloat(String(e).replace(",","")),isNaN(t))l=isNaN(e)?0:-1;else{if(!isNaN(e))return t-e;l=1}return("top"===s&&"desc"===r||"bottom"===s&&"asc"===r)&&(l*=-1),l},string:function(t,e,n,i,o,r,a){var l,u=a.alignEmptyValues,d=0;if(t){if(e){switch(s(a.locale)){case"boolean":a.locale&&(l=this.table.modules.localize.getLocale());break;case"string":l=a.locale}return String(t).toLowerCase().localeCompare(String(e).toLowerCase(),l)}d=1}else d=e?-1:0;return("top"===u&&"desc"===r||"bottom"===u&&"asc"===r)&&(d*=-1),d},date:function(t,e,n,i,o,r,a){return a.format||(a.format="DD/MM/YYYY"),this.sorters.datetime.call(this,t,e,n,i,o,r,a)},time:function(t,e,n,i,o,r,a){return a.format||(a.format="hh:mm"),this.sorters.datetime.call(this,t,e,n,i,o,r,a)},datetime:function(t,e,n,i,o,r,a){var s=a.format||"DD/MM/YYYY hh:mm:ss",l=a.alignEmptyValues,u=0;if("undefined"!=typeof moment){if(t=moment(t,s),e=moment(e,s),t.isValid()){if(e.isValid())return t-e;u=1}else u=e.isValid()?-1:0;return("top"===l&&"desc"===r||"bottom"===l&&"asc"===r)&&(u*=-1),u}console.error("Sort Error - 'datetime' sorter is dependant on moment.js")},boolean:function(t,e,n,i,o,r,a){return(!0===t||"true"===t||"True"===t||1===t?1:0)-(!0===e||"true"===e||"True"===e||1===e?1:0)},array:function(t,e,n,i,o,r,a){var s=a.type||"length",l=a.alignEmptyValues,u=0;function d(t){switch(s){case"length":return t.length;case"sum":return t.reduce(function(t,e){return t+e});case"max":return Math.max.apply(null,t);case"min":return Math.min.apply(null,t);case"avg":return t.reduce(function(t,e){return t+e})/t.length}}if(Array.isArray(t)){if(Array.isArray(e))return(t?d(t):0)-(e?d(e):0);l=1}else l=Array.isArray(e)?-1:0;return("top"===l&&"desc"===r||"bottom"===l&&"asc"===r)&&(u*=-1),u},exists:function(t,e,n,i,o,r,a){return(void 0===t?0:1)-(void 0===e?0:1)},alphanum:function(t,e,n,i,o,r,a){var s,l,u,d,c,h=0,p=/(\d+)|(\D+)/g,f=/\d/,m=a.alignEmptyValues,g=0;if(t||0===t){if(e||0===e){if(isFinite(t)&&isFinite(e))return t-e;if((s=String(t).toLowerCase())===(l=String(e).toLowerCase()))return 0;if(!f.test(s)||!f.test(l))return s>l?1:-1;for(s=s.match(p),l=l.match(p),c=s.length>l.length?l.length:s.length;h<c;)if((u=s[h])!==(d=l[h++]))return isFinite(u)&&isFinite(d)?("0"===u.charAt(0)&&(u="."+u),"0"===d.charAt(0)&&(d="."+d),u-d):u>d?1:-1;return s.length>l.length}g=1}else g=e||0===e?-1:0;return("top"===m&&"desc"===r||"bottom"===m&&"asc"===r)&&(g*=-1),g}},c.prototype.registerModule("sort",G);var W=function(t){this.table=t};return W.prototype.initializeColumn=function(t){var e,n=this,i=[];t.definition.validator&&(Array.isArray(t.definition.validator)?t.definition.validator.forEach(function(t){(e=n._extractValidator(t))&&i.push(e)}):(e=this._extractValidator(t.definition.validator))&&i.push(e),t.modules.validate=!!i.length&&i)},W.prototype._extractValidator=function(t){var e,n,i;switch(void 0===t?"undefined":s(t)){case"string":return n=(e=t.split(":",2)).shift(),i=e[0],this._buildValidator(n,i);case"function":return this._buildValidator(t);case"object":return this._buildValidator(t.type,t.parameters)}},W.prototype._buildValidator=function(t,e){var n="function"==typeof t?t:this.validators[t];return n?{type:"function"==typeof t?"function":t,func:n,params:e}:(console.warn("Validator Setup Error - No matching validator found:",t),!1)},W.prototype.validate=function(t,e,n){var i=this,o=[];return t&&t.forEach(function(t){t.func.call(i,e,n,t.params)||o.push({type:t.type,parameters:t.params})}),!o.length||o},W.prototype.validators={integer:function(t,e,n){return""===e||null==e||"number"==typeof(e=Number(e))&&isFinite(e)&&Math.floor(e)===e},float:function(t,e,n){return""===e||null==e||"number"==typeof(e=Number(e))&&isFinite(e)&&e%1!=0},numeric:function(t,e,n){return""===e||null==e||!isNaN(e)},string:function(t,e,n){return""===e||null==e||isNaN(e)},max:function(t,e,n){return""===e||null==e||parseFloat(e)<=n},min:function(t,e,n){return""===e||null==e||parseFloat(e)>=n},minLength:function(t,e,n){return""===e||null==e||String(e).length>=n},maxLength:function(t,e,n){return""===e||null==e||String(e).length<=n},in:function(t,e,n){return""===e||null==e||("string"==typeof n&&(n=n.split("|")),""===e||n.indexOf(e)>-1)},regex:function(t,e,n){return""===e||null==e||new RegExp(n).test(e)},unique:function(t,e,n){if(""===e||null==e)return!0;var i=!0,o=t.getData(),r=t.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(t){var n=t.getData();n!==o&&e==r.getFieldValue(n)&&(i=!1)}),i},required:function(t,e,n){return""!==e&null!==e&&void 0!==e}},c.prototype.registerModule("validate",W),c},"object"===s(n)&&void 0!==t?t.exports=a():void 0===(r="function"==typeof(o=a)?o.call(n,i,n,t):o)||(t.exports=r)},function(t,e,n){window,t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(2);var r=[],a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=["January","February","March","April","May","June","July","August","September","October","November","December"],l={t:"top",r:"right",b:"bottom",l:"left",c:"centered"},u=["click","focusin","keydown","input"];function d(t,e){var n=e.calendar.querySelector(".qs-overlay"),i=n&&!n.classList.contains("qs-hidden");e.calendar.innerHTML=[function(t,e,n){return'\n    <div class="qs-controls '.concat(i?"qs-blur":"",'">\n      <div class="qs-arrow qs-left"></div>\n      <div class="qs-month-year">\n        <span class="qs-month">').concat(e.months[t.getMonth()],'</span>\n        <span class="qs-year">').concat(t.getFullYear(),'</span>\n      </div>\n      <div class="qs-arrow qs-right"></div>\n    </div>\n  ')}(t,e),function(t,e,n){var i=e.currentMonth,o=e.currentYear,r=e.dateSelected,a=e.maxDate,s=e.minDate,l=e.days,u=e.disabledDates,d=e.disabler,c=e.noWeekends,h=e.startDay,p=e.weekendIndices,f=new Date,g=o===f.getFullYear()&&i===f.getMonth(),_=m(new Date(t).setDate(1)),y=_.getDay()-h,v=y<0?7:0;_.setMonth(_.getMonth()+1),_.setDate(0);var b=_.getDate(),w=[],M=v+7*((y+b)/7|0);M+=(y+b)%7?7:0,0!==h&&0===y&&(M+=7);for(var x=1;x<=M;x++){var L=(x-1)%7,k=l[L],T=x-(y>=0?y:7+y),E=new Date(o,i,T),C=T<1||T>b,D="",S='<span class="qs-num">'.concat(T,"</span>");if(C)D="qs-empty",S="";else{var Y=s&&E<s||a&&E>a||d&&d(E)||u.includes(+E),R=p.includes(L),O=g&&!Y&&T===f.getDate();D=(Y=Y||c&&R)?"qs-disabled":O?"qs-current":""}+E!=+r||C||(D+=" qs-active"),w.push('<div class="qs-square qs-num '.concat(k," ").concat(D,'">').concat(S,"</div>"))}var P=l.map(function(t){return'<div class="qs-square qs-day">'.concat(t,"</div>")}).concat(w);if(P.length%7!=0)throw"Calendar not constructed properly. The # of squares should be a multiple of 7.";return P.unshift('<div class="qs-squares '.concat(n?"qs-blur":"",'">')),P.push("</div>"),P.join("")}(t,e,i),function(t,e){var n=t.overlayPlaceholder,i=t.overlayButton;return'\n    <div class="qs-overlay '.concat(e?"":"qs-hidden",'">\n      <div class="qs-close">&#10005;</div>\n      <input class="qs-overlay-year" placeholder="').concat(n,'" />\n      <div class="qs-submit qs-disabled">').concat(i,"</div>\n    </div>\n  ")}(e,i)].join(""),i&&setTimeout(function(){return y(!0,e)},10)}function c(t,e,n){var i=e.currentMonth,o=e.currentYear,r=e.calendar,a=e.el,s=e.onSelect,l=r.querySelector(".qs-active"),u=t.textContent;e.dateSelected=n?void 0:new Date(o,i,u),l&&l.classList.remove("qs-active"),n||t.classList.add("qs-active"),h(a,e,n),!n&&g(e),s&&s(e,n?void 0:new Date(e.dateSelected))}function h(t,e,n){if(!e.nonInput)return n?t.value="":e.formatter?e.formatter(t,e.dateSelected,e):void(t.value=e.dateSelected.toDateString())}function p(t,e,n){n?e.currentYear=n:(e.currentMonth+=t.contains("qs-right")?1:-1,12===e.currentMonth?(e.currentMonth=0,e.currentYear++):-1===e.currentMonth&&(e.currentMonth=11,e.currentYear--)),e.currentMonthName=e.months[e.currentMonth],d(new Date(e.currentYear,e.currentMonth,1),e),e.onMonthChange&&e.onMonthChange(e)}function f(t){return"[object Date]"==={}.toString.call(t)&&"Invalid Date"!==t.toString()}function m(t){var e=new Date(+t);if(null!=t&&f(e))return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function g(t,e){y(!0,t),!t.alwaysShow&&t.calendar.classList.add("qs-hidden"),!e&&t.onHide&&t.onHide(t)}function _(t,e){t.calendar.classList.remove("qs-hidden"),function(t){if(!t.noPosition){var e=t.el,n=t.calendar,o=t.position,r=t.parent,a=o.top,s=o.right;if(o.centered)return n.classList.add("qs-centered");var l=i([r,e,n].map(function(t){return t.getBoundingClientRect()}),3),u=l[0],d=l[1],c=l[2],h=d.top-u.top+r.scrollTop,p="\n    top:".concat(h-(a?c.height:-1*d.height),"px;\n    left:").concat(d.left-u.left+(s?d.width-c.width:0),"px;\n  ");n.setAttribute("style",p)}}(t),!e&&t.onShow&&t.onShow(t)}function y(t,e){var n=e.calendar,i=n.querySelector(".qs-overlay"),o=i.querySelector(".qs-overlay-year"),r=n.querySelector(".qs-controls"),a=n.querySelector(".qs-squares");t?(i.classList.add("qs-hidden"),r.classList.remove("qs-blur"),a.classList.remove("qs-blur"),o.value=""):(i.classList.remove("qs-hidden"),r.classList.add("qs-blur"),a.classList.add("qs-blur"),o.focus())}function v(t,e,n){var i=isNaN(+(new Date).setFullYear(e.value||void 0));if(13===(t.which||t.keyCode)||"click"===t.type){if(i||e.classList.contains("qs-disabled"))return;p(null,n,e.value)}else n.calendar.contains(e)&&n.calendar.querySelector(".qs-submit").classList[i?"add":"remove"]("qs-disabled")}function b(t){var e=t.type,n=t.target,i=n.classList,o=r.find(function(t){var e=t.calendar,i=t.el;return e.contains(n)||i===n}),a=o&&o.calendar.contains(n);if(!(o&&o.isMobile&&o.disableMobile))if("click"===e){if(!o)return r.forEach(g);var s=o.calendar,l=o.disableYearOverlay,u=!!s.querySelector(".qs-hidden"),d=s.querySelector(".qs-month-year").contains(n);if(o.noPosition&&!a)(s.classList.contains("qs-hidden")?_:g)(o);else if(i.contains("qs-arrow"))p(i,o);else if(d||i.contains("qs-close"))!l&&y(!u,o);else{if(i.contains("qs-num")){var h="SPAN"===n.nodeName?n.parentNode:n,f=["qs-disabled","qs-empty"].some(function(t){return h.classList.contains(t)});return h.classList.contains("qs-active")?c(h,o,!0):!f&&c(h,o)}i.contains("qs-submit")&&!i.contains("qs-disabled")&&v(t,s.querySelector(".qs-overlay-year"),o)}}else if("focusin"===e&&o)_(o),r.forEach(function(t){return t!==o&&g(t)});else if("keydown"===e&&o){var m=!o.calendar.querySelector(".qs-overlay").classList.contains("qs-hidden");13===(t.which||t.keyCode)&&m&&a?v(t,n,o):27===(t.which||t.keyCode)&&m&&a&&y(!0,o)}else if("input"===e){if(!o)return;var b=n.parentElement.querySelector(".qs-submit"),w=n.value.split("").reduce(function(t,e){return t||"0"!==e?e.match(/[0-9]/)?t+e:t:""},"").slice(0,4);n.value=w,b.classList[4===w.length?"remove":"add"]("qs-disabled")}}function w(){_(this,!0)}function M(){g(this,!0)}function x(t,e){var n=m(t),i=this.currentYear,o=this.currentMonth;if(void 0!==n&&!n)throw"`setDate` needs a JavaScript Date object.";if(void 0===n)return this.dateSelected=void 0,this.sibling&&(this.first?this.setMin():this.setMax()),h(this.el,this,!0),d(new Date(this.currentYear,this.currentMonth),this),this;if(this.disabledDates.some(function(t){return+t==+n})||n<this.minDate||n>this.maxDate)throw"You can't manually set a date that's disabled.";if(this.currentYear=n.getFullYear(),this.currentMonth=n.getMonth(),this.currentMonthName=this.months[n.getMonth()],this.dateSelected=n,h(this.el,this),(i===n.getFullYear()&&o===n.getMonth()||e)&&d(n,this),this.sibling){var r=this.first?"setMin":"setMax";this[r](n),this.sibling[r](n)}return this}function L(t){return T(this,t,!0)}function k(t){return T(this,t)}function T(t,e,n,i){if(null!=e&&!f(e))throw"Invalid date passed to set".concat(n?"Min":"Max");var o=t.dateSelected,r=m(e);if(n&&r>t.maxDate)throw"You can't set the minimum date past the maximum.";if(!n&&r<t.minDate)throw"You can't set the maximum date below the minimum.";return o&&(t.sibling?(n&&t.first||!n&&!t.first)&&(t.dateSelected=r):(n&&o<r||!n&&o>r)&&(t.dateSelected=void 0,t.nonInput||(t.el.value=""))),t[n?"minDate":"maxDate"]=r,d(o||t.startDate,t),!i&&t.sibling&&T(t.sibling,r,n,!0),t}function E(){var t=this,e=this.inlinePosition,n=this.parent,i=this.calendar,o=this.el,a=this.sibling;for(var s in e&&(r.some(function(e){return e!==t&&e.parent===n})||n.style.setProperty("position",null)),i.remove(),r=r.filter(function(t){return t.el!==o}),a&&delete a.sibling,this)delete this[s];r.length||u.forEach(function(t){return document.removeEventListener(t,b)})}t.exports=function(t,e){r.length||u.forEach(function(t){return document.addEventListener(t,b)});var n=function(t,e){var n="string"==typeof t?document.querySelector(t):t,u=function(t,e){if(r.find(function(t){return t.el===e}))throw"A datepicker already exists on that element.";var n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){o(t,e,n[e])})}return t}({},t),s=n.position,u=n.maxDate,d=n.minDate,c=n.dateSelected,h=n.customMonths,p=n.customDays,g=n.overlayPlaceholder,_=n.overlayButton,y=n.startDay,v=n.disabledDates;if(n.hasOwnProperty("id")&&null==n.id)throw"Id cannot be `null` or `undefined`";if(n.id){var b=r.reduce(function(t,e){return e.id===n.id&&t.push(e),t},[]);if(b.length>1)throw"Only two datepickers can share an id.";b.length&&(n.sibling=b[0])}n.disabledDates=(v||[]).map(function(t){if(!f(t))throw'You supplied an invalid date to "options.disabledDates".';if(+m(t)==+m(c))throw'"disabledDates" cannot contain the same date as "dateSelected".';return+m(t)});var w=["tr","tl","br","bl","c"].some(function(t){return s===t});if(s&&!w)throw'"options.position" must be one of the following: tl, tr, bl, br, or c.';if(n.position=function(t){var e=i(s||"bl",2),n=e[0],o=e[1],r={};return r[l[n]]=1,o&&(r[l[o]]=1),r}(),["startDate","dateSelected","minDate","maxDate"].forEach(function(t){if(n[t]){if(!f(n[t])||isNaN(+n[t]))throw'"options.'.concat(t,'" needs to be a valid JavaScript Date object.');n[t]=m(n[t])}}),n.startDate=m(n.startDate||n.dateSelected||new Date),u<d)throw'"maxDate" in options is less than "minDate".';if(c){if(d>c)throw'"dateSelected" in options is less than "minDate".';if(u<c)throw'"dateSelected" in options is greater than "maxDate".'}if(["onSelect","onShow","onHide","onMonthChange","formatter","disabler"].forEach(function(t){n[t]="function"==typeof n[t]&&n[t]}),[h,p].forEach(function(t,e){if(t){if(!Array.isArray(t)||t.length!==(e?7:12)||t.some(function(t){return"string"!=typeof t}))throw['"customMonths" must be an array with 12 strings.','"customDays" must be an array with 7 strings.'][e];n[e?"days":"months"]=t}}),y&&+y>0&&+y<7){var M=(n.customDays||a).slice(),x=M.splice(0,y);n.customDays=M.concat(x),n.startDay=+y,n.weekendIndices=[M.length-1,M.length]}else n.startDay=0,n.weekendIndices=[6,0];return"string"!=typeof g&&delete n.overlayPlaceholder,"string"!=typeof _&&delete n.overlayButton,n}(e||{startDate:m(new Date),position:"bl"},n),d=u.startDate,c=u.dateSelected,p=n===document.body,g=p?document.body:n.parentElement,y=document.createElement("div");y.className="qs-datepicker qs-hidden";var v={el:n,parent:g,nonInput:"INPUT"!==n.nodeName,noPosition:p,position:!p&&u.position,startDate:d,dateSelected:c,disabledDates:u.disabledDates,minDate:u.minDate,maxDate:u.maxDate,noWeekends:!!u.noWeekends,weekendIndices:u.weekendIndices,calendar:y,currentMonth:(d||c).getMonth(),currentMonthName:(u.months||s)[(d||c).getMonth()],currentYear:(d||c).getFullYear(),setDate:x,remove:E,setMin:L,setMax:k,show:w,hide:M,onSelect:u.onSelect,onShow:u.onShow,onHide:u.onHide,onMonthChange:u.onMonthChange,formatter:u.formatter,disabler:u.disabler,months:u.months||s,days:u.customDays||a,startDay:u.startDay,overlayPlaceholder:u.overlayPlaceholder||"4-digit year",overlayButton:u.overlayButton||"Submit",disableYearOverlay:u.disableYearOverlay,disableMobile:u.disableMobile,isMobile:"ontouchstart"in window,alwaysShow:!!u.alwaysShow,id:u.id};u.sibling&&(v.sibling=u.sibling,v.sibling.first=!0,u.sibling.sibling=v),c&&h(n,v);var b=getComputedStyle(g).position;return p||b&&"static"!==b||(v.inlinePosition=!0,g.style.setProperty("position","relative")),v.inlinePosition&&r.filter(function(t){return t.parent===v.parent}).forEach(function(t){return t.inlinePosition=!0}),r.push(v),g.appendChild(y),v.alwaysShow&&_(v),v}(t,e),c=n.startDate,p=n.dateSelected;return d(c||p,n),n}},function(t,e,n){}])},function(t,e,n){var i=n(171)();i.helpers=n(1),n(175)(i),i.Animation=n(17),i.animationService=n(18),i.defaults=n(3),i.Element=n(5),i.elements=n(7),i.Interaction=n(19),i.layouts=n(9),i.platform=n(20),i.plugins=n(21),i.Scale=n(10),i.scaleService=n(6),i.Ticks=n(11),i.Tooltip=n(22),n(186)(i),n(187)(i),n(188)(i),n(189)(i),n(190)(i),n(191)(i),n(192)(i),n(193)(i),n(196)(i),n(197)(i),n(198)(i),n(199)(i),n(200)(i),n(201)(i),n(202)(i),n(203)(i),n(204)(i),n(205)(i),n(206)(i),n(207)(i),n(208)(i),n(209)(i);var o=n(210);for(var r in o)o.hasOwnProperty(r)&&i.plugins.register(o[r]);i.platform.initialize(),t.exports=i,"undefined"!=typeof window&&(window.Chart=i),i.Legend=o.legend._element,i.Title=o.title._element,i.pluginService=i.plugins,i.PluginBase=i.Element.extend({}),i.canvasHelpers=i.helpers.canvas,i.layoutService=i.layouts},function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var o=i(n(214)),r=i(n(219)),a=i(n(220)),s=i(n(215)),l=n(2);function u(t){for(var e=function(t){if("FeatureCollection"!==t.type)return"Feature"!==t.type?l.featureCollection([l.feature(t)]):l.featureCollection([t]);return t}(t),n=r(e),i=!1,u=0;!i&&u<e.features.length;){var c,h=e.features[u].geometry,p=!1;if("Point"===h.type)n.geometry.coordinates[0]===h.coordinates[0]&&n.geometry.coordinates[1]===h.coordinates[1]&&(i=!0);else if("MultiPoint"===h.type){var f=!1;for(c=0;!f&&c<h.coordinates.length;)n.geometry.coordinates[0]===h.coordinates[c][0]&&n.geometry.coordinates[1]===h.coordinates[c][1]&&(i=!0,f=!0),c++}else if("LineString"===h.type)for(c=0;!p&&c<h.coordinates.length-1;)d(n.geometry.coordinates[0],n.geometry.coordinates[1],h.coordinates[c][0],h.coordinates[c][1],h.coordinates[c+1][0],h.coordinates[c+1][1])&&(p=!0,i=!0),c++;else if("MultiLineString"===h.type)for(var m=0;m<h.coordinates.length;){p=!1,c=0;for(var g=h.coordinates[m];!p&&c<g.length-1;)d(n.geometry.coordinates[0],n.geometry.coordinates[1],g[c][0],g[c][1],g[c+1][0],g[c+1][1])&&(p=!0,i=!0),c++;m++}else"Polygon"!==h.type&&"MultiPolygon"!==h.type||s(n,h)&&(i=!0);u++}if(i)return n;var _=l.featureCollection([]);for(u=0;u<e.features.length;u++)_.features=_.features.concat(o(e.features[u]).features);return l.point(a(n,_).geometry.coordinates)}function d(t,e,n,i,o,r){return Math.sqrt((o-n)*(o-n)+(r-i)*(r-i))===Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))+Math.sqrt((o-t)*(o-t)+(r-e)*(r-e))}t.exports=u,t.exports.default=u},function(t,e,n){"use strict";var i=n(4);function o(t){var e=[1/0,1/0,-1/0,-1/0];return i.coordEach(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}t.exports=o,t.exports.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);function o(t,e,n){if(null!==t)for(var i,r,a,s,l,u,d,c,h=0,p=0,f=t.type,m="FeatureCollection"===f,g="Feature"===f,_=m?t.features.length:1,y=0;y<_;y++){l=(c=!!(d=m?t.features[y].geometry:g?t.geometry:t)&&"GeometryCollection"===d.type)?d.geometries.length:1;for(var v=0;v<l;v++){var b=0,w=0;if(null!==(s=c?d.geometries[v]:d)){u=s.coordinates;var M=s.type;switch(h=!n||"Polygon"!==M&&"MultiPolygon"!==M?0:1,M){case null:break;case"Point":e(u,p,y,b,w),p++,b++;break;case"LineString":case"MultiPoint":for(i=0;i<u.length;i++)e(u[i],p,y,b,w),p++,"MultiPoint"===M&&b++;"LineString"===M&&b++;break;case"Polygon":case"MultiLineString":for(i=0;i<u.length;i++){for(r=0;r<u[i].length-h;r++)e(u[i][r],p,y,b,w),p++;"MultiLineString"===M&&b++,"Polygon"===M&&w++}"Polygon"===M&&b++;break;case"MultiPolygon":for(i=0;i<u.length;i++){for("MultiPolygon"===M&&(w=0),r=0;r<u[i].length;r++){for(a=0;a<u[i][r].length-h;a++)e(u[i][r][a],p,y,b,w),p++;w++}b++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)o(s.geometries[i],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function r(t,e,n,i){var r=n;return o(t,function(t,i,o,a,s){r=0===i&&void 0===n?t:e(r,t,i,o,a,s)},i),r}function a(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function l(t,e){var n,i,o,r,a,s,l,u,d,c,h=0,p="FeatureCollection"===t.type,f="Feature"===t.type,m=p?t.features.length:1;for(n=0;n<m;n++){for(s=p?t.features[n].geometry:f?t.geometry:t,u=p?t.features[n].properties:f?t.properties:{},d=p?t.features[n].bbox:f?t.bbox:void 0,c=p?t.features[n].id:f?t.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,o=0;o<a;o++)if(null!==(r=l?s.geometries[o]:s))switch(r.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(r,h,u,d,c);break;case"GeometryCollection":for(i=0;i<r.geometries.length;i++)e(r.geometries[i],h,u,d,c);break;default:throw new Error("Unknown Geometry Type")}else e(null,h,u,d,c);h++}}function u(t,e){l(t,function(t,n,o,r,a){var s,l=null===t?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return void e(i.feature(t,o,{bbox:r,id:a}),n,0)}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}t.coordinates.forEach(function(t,r){var a={type:s,coordinates:t};e(i.feature(a,o),n,r)})})}function d(t,e){u(t,function(t,n,o){var a=0;if(t.geometry){var s=t.geometry.type;"Point"!==s&&"MultiPoint"!==s&&r(t,function(r,s,l,u,d,c){var h=i.lineString([r,s],t.properties);return e(h,n,o,c,a),a++,s})}})}function c(t,e){if(!t)throw new Error("geojson is required");u(t,function(t,n,o){if(null!==t.geometry){var r=t.geometry.type,a=t.geometry.coordinates;switch(r){case"LineString":e(t,n,o,0,0);break;case"Polygon":for(var s=0;s<a.length;s++)e(i.lineString(a[s],t.properties),n,o,s)}}})}e.coordEach=o,e.coordReduce=r,e.propEach=a,e.propReduce=function(t,e,n){var i=n;return a(t,function(t,o){i=0===o&&void 0===n?t:e(i,t,o)}),i},e.featureEach=s,e.featureReduce=function(t,e,n){var i=n;return s(t,function(t,o){i=0===o&&void 0===n?t:e(i,t,o)}),i},e.coordAll=function(t){var e=[];return o(t,function(t){e.push(t)}),e},e.geomEach=l,e.geomReduce=function(t,e,n){var i=n;return l(t,function(t,o,r,a,s){i=0===o&&void 0===n?t:e(i,t,o,r,a,s)}),i},e.flattenEach=u,e.flattenReduce=function(t,e,n){var i=n;return u(t,function(t,o,r){i=0===o&&0===r&&void 0===n?t:e(i,t,o,r)}),i},e.segmentEach=d,e.segmentReduce=function(t,e,n){var i=n,o=!1;return d(t,function(t,r,a,s,l){i=!1===o&&void 0===n?t:e(i,t,r,a,s,l),o=!0}),i},e.lineEach=c,e.lineReduce=function(t,e,n){var i=n;return c(t,function(t,o,r,a){i=0===o&&void 0===n?t:e(i,t,o,r,a)}),i}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={meters:6371008.8,metres:6371008.8,millimeters:6371008800,millimetres:6371008800,centimeters:637100880,centimetres:637100880,kilometers:6371.0088,kilometres:6371.0088,miles:3958.761333810546,nauticalmiles:6371008.8/1852,inches:6371008.8*39.37,yards:6371008.8/1.0936,feet:20902260.511392,radians:1,degrees:6371008.8/111325},o={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/6371008.8,degrees:1/111325},r={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006};function a(t,e,n){if(!y(n=n||{}))throw new Error("options is invalid");var i=n.bbox,o=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");i&&v(i),o&&b(o);var r={type:"Feature"};return o&&(r.id=o),i&&(r.bbox=i),r.properties=e||{},r.geometry=t,r}function s(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!_(t[0])||!_(t[1]))throw new Error("coordinates must contain numbers");return a({type:"Point",coordinates:t},e,n)}function l(t,e,n){if(!t)throw new Error("coordinates is required");for(var i=0;i<t.length;i++){var o=t[i];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var r=0;r<o[o.length-1].length;r++){if(0===i&&0===r&&!_(o[0][0])||!_(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][r]!==o[0][r])throw new Error("First and last Position are not equivalent.")}}return a({type:"Polygon",coordinates:t},e,n)}function u(t,e,n){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!_(t[0][1])||!_(t[0][1]))throw new Error("coordinates must contain numbers");return a({type:"LineString",coordinates:t},e,n)}function d(t,e){if(!y(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&v(n),i&&b(i);var o={type:"FeatureCollection"};return i&&(o.id=i),n&&(o.bbox=n),o.features=t,o}function c(t,e,n){if(!t)throw new Error("coordinates is required");return a({type:"MultiLineString",coordinates:t},e,n)}function h(t,e,n){if(!t)throw new Error("coordinates is required");return a({type:"MultiPoint",coordinates:t},e,n)}function p(t,e,n){if(!t)throw new Error("coordinates is required");return a({type:"MultiPolygon",coordinates:t},e,n)}function f(t,e){if(null==t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=i[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function m(t,e){if(null==t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=i[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function g(t){if(null==t)throw new Error("radians is required");return 180*(t%(2*Math.PI))/Math.PI}function _(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function y(t){return!!t&&t.constructor===Object}function v(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!_(t))throw new Error("bbox must only contain numbers")})}function b(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}e.earthRadius=6371008.8,e.factors=i,e.unitsFactors=o,e.areaFactors=r,e.feature=a,e.geometry=function(t,e,n){if(!y(n=n||{}))throw new Error("options is invalid");var i,o=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(o&&v(o),t){case"Point":i=s(e).geometry;break;case"LineString":i=u(e).geometry;break;case"Polygon":i=l(e).geometry;break;case"MultiPoint":i=h(e).geometry;break;case"MultiLineString":i=c(e).geometry;break;case"MultiPolygon":i=p(e).geometry;break;default:throw new Error(t+" is invalid")}return o&&(i.bbox=o),i},e.point=s,e.points=function(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return d(t.map(function(t){return s(t,e)}),n)},e.polygon=l,e.polygons=function(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return d(t.map(function(t){return l(t,e)}),n)},e.lineString=u,e.lineStrings=function(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return d(t.map(function(t){return u(t,e)}),n)},e.featureCollection=d,e.multiLineString=c,e.multiPoint=h,e.multiPolygon=p,e.geometryCollection=function(t,e,n){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return a({type:"GeometryCollection",geometries:t},e,n)},e.round=function(t,e){if(null==t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=f,e.lengthToRadians=m,e.lengthToDegrees=function(t,e){return g(m(t,e))},e.bearingToAzimuth=function(t){if(null==t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=g,e.degreesToRadians=function(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(null==t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return f(m(t,e),n||"kilometers")},e.convertArea=function(t,e,n){if(null==t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var i=r[e||"meters"];if(!i)throw new Error("invalid original units");var o=r[n||"kilometers"];if(!o)throw new Error("invalid final units");return t/i*o},e.isNumber=_,e.isObject=y,e.validateBBox=v,e.validateId=b,e.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},e.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},e.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},e.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},e.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},e.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},e.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},function(t,e,n){"use strict";var i=n(4),o=n(2);function r(t){var e=[];return"FeatureCollection"===t.type?i.featureEach(t,function(t){i.coordEach(t,function(n){e.push(o.point(n,t.properties))})}):i.coordEach(t,function(n){e.push(o.point(n,t.properties))}),o.featureCollection(e)}t.exports=r,t.exports.default=r},function(t,e,n){"use strict";var i=n(4);function o(t){return i.geomReduce(t,function(t,e){return t+function t(e){var n,i=0;switch(e.type){case"Polygon":return a(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)i+=a(e.coordinates[n]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)i+=t(e.geometries[n]);return i}}(e)},0)}var r=6378137;function a(t){var e=0;if(t&&t.length>0){e+=Math.abs(s(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(s(t[n]))}return e}function s(t){var e,n,i,o,a,s,u=0,d=t.length;if(d>2){for(s=0;s<d;s++)s===d-2?(i=d-2,o=d-1,a=0):s===d-1?(i=d-1,o=0,a=1):(i=s,o=s+1,a=s+2),e=t[i],n=t[o],u+=(l(t[a][0])-l(e[0]))*Math.sin(l(n[1]));u=u*r*r/2}return u}function l(t){return t*Math.PI/180}t.exports=o,t.exports.default=o},function(t,e,n){"use strict";var i,o=(i=n(15))&&"object"==typeof i&&"default"in i?i.default:i,r=n(4),a=n(2);function s(t,e){if(e=e||{},!a.isObject(e))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return r.segmentReduce(t,function(t,n){var i=n.geometry.coordinates;return t+o(i[0],i[1],e)},0)}t.exports=s,t.exports.default=s},function(t,e,n){"use strict";t.exports=o;var i=n(216);function o(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}o.Varint=0,o.Fixed64=1,o.Bytes=2,o.Fixed32=5;function r(t){return t.type===o.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function s(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var o=n.pos-1;o>=t;o--)n.buf[o+i]=n.buf[o]}function l(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function u(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function c(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function _(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function y(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function v(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}o.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),o=i>>3,r=this.pos;this.type=7&i,t(o,e,this),this.pos===r&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=_(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=v(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=_(this.buf,this.pos)+4294967296*_(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=_(this.buf,this.pos)+4294967296*v(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=i.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=i.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return e=127&(n=i[this.pos++]),n<128?e:(e|=(127&(n=i[this.pos++]))<<7,n<128?e:(e|=(127&(n=i[this.pos++]))<<14,n<128?e:(e|=(127&(n=i[this.pos++]))<<21,n<128?e:function(t,e,n){var i,o,r=n.buf;if(o=r[n.pos++],i=(112&o)>>4,o<128)return a(t,i,e);if(o=r[n.pos++],i|=(127&o)<<3,o<128)return a(t,i,e);if(o=r[n.pos++],i|=(127&o)<<10,o<128)return a(t,i,e);if(o=r[n.pos++],i|=(127&o)<<17,o<128)return a(t,i,e);if(o=r[n.pos++],i|=(127&o)<<24,o<128)return a(t,i,e);if(o=r[n.pos++],i|=(1&o)<<31,o<128)return a(t,i,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=i[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=function(t,e,n){var i="",o=e;for(;o<n;){var r,a,s,l=t[o],u=null,d=l>239?4:l>223?3:l>191?2:1;if(o+d>n)break;1===d?l<128&&(u=l):2===d?128==(192&(r=t[o+1]))&&(u=(31&l)<<6|63&r)<=127&&(u=null):3===d?(r=t[o+1],a=t[o+2],128==(192&r)&&128==(192&a)&&((u=(15&l)<<12|(63&r)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===d&&(r=t[o+1],a=t[o+2],s=t[o+3],128==(192&r)&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&r)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,d=1):u>65535&&(u-=65536,i+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),i+=String.fromCharCode(u),o+=d}return i}(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==o.Bytes)return t.push(this.readVarint(e));var n=r(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==o.Bytes)return t.push(this.readSVarint());var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==o.Bytes)return t.push(this.readBoolean());var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==o.Bytes)return t.push(this.readFloat());var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==o.Bytes)return t.push(this.readDouble());var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==o.Bytes)return t.push(this.readFixed32());var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==o.Bytes)return t.push(this.readSFixed32());var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==o.Bytes)return t.push(this.readFixed64());var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==o.Bytes)return t.push(this.readSFixed64());var e=r(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===o.Varint)for(;this.buf[this.pos++]>127;);else if(e===o.Bytes)this.pos=this.readVarint()+this.pos;else if(e===o.Fixed32)this.pos+=4;else{if(e!==o.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),y(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),y(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),y(this.buf,-1&t,this.pos),y(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),y(this.buf,-1&t,this.pos),y(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,i;t>=0?(n=t%4294967296|0,i=t/4294967296|0):(i=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,i=i+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;if(e.buf[e.pos++]|=n|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(i,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var i,o,r=0;r<e.length;r++){if((i=e.charCodeAt(r))>55295&&i<57344){if(!o){i>56319||r+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):o=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,o=i;continue}i=o-55296<<10|i-56320|65536,o=null}else o&&(t[n++]=239,t[n++]=191,t[n++]=189,o=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&s(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),i.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),i.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&s(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,o.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,l,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,u,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,c,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,g,e)},writeBytesField:function(t,e){this.writeTag(t,o.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,o.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,o.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,o.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,o.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,o.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,o.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,o.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,o.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,o.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},,,,,,,,,,,,,,function(t,e,n){t.exports=n(217)},function(t,e,n){"use strict";n(3)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),t.exports=function(){var t=function(t,e){return this.construct(t,e),this};return t.Chart=t,t}},function(t,e,n){"use strict";var i=n(12),o={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-o.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*o.easeInBounce(2*t):.5*o.easeOutBounce(2*t-1)+.5}};t.exports={effects:o},i.easingEffects=o},function(t,e,n){"use strict";var i=n(12);e=t.exports={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,i,o,r){if(r){var a=Math.min(r,o/2-1e-7,i/2-1e-7);t.moveTo(e+a,n),t.lineTo(e+i-a,n),t.arcTo(e+i,n,e+i,n+a,a),t.lineTo(e+i,n+o-a),t.arcTo(e+i,n+o,e+i-a,n+o,a),t.lineTo(e+a,n+o),t.arcTo(e,n+o,e,n+o-a,a),t.lineTo(e,n+a),t.arcTo(e,n,e+a,n,a),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,i,o)},drawPoint:function(t,e,n,i,o,r){var a,s,l,u,d,c;if(r=r||0,!e||"object"!=typeof e||"[object HTMLImageElement]"!==(a=e.toString())&&"[object HTMLCanvasElement]"!==a){if(!(isNaN(n)||n<=0)){switch(t.save(),t.translate(i,o),t.rotate(r*Math.PI/180),t.beginPath(),e){default:t.arc(0,0,n,0,2*Math.PI),t.closePath();break;case"triangle":d=(s=3*n/Math.sqrt(3))*Math.sqrt(3)/2,t.moveTo(-s/2,d/3),t.lineTo(s/2,d/3),t.lineTo(0,-2*d/3),t.closePath();break;case"rect":c=1/Math.SQRT2*n,t.rect(-c,-c,2*c,2*c);break;case"rectRounded":var h=n/Math.SQRT2,p=-h,f=-h,m=Math.SQRT2*n;this.roundedRect(t,p,f,m,m,.425*n);break;case"rectRot":c=1/Math.SQRT2*n,t.moveTo(-c,0),t.lineTo(0,c),t.lineTo(c,0),t.lineTo(0,-c),t.closePath();break;case"cross":t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-n,0),t.lineTo(n,0);break;case"crossRot":l=Math.cos(Math.PI/4)*n,u=Math.sin(Math.PI/4)*n,t.moveTo(-l,-u),t.lineTo(l,u),t.moveTo(-l,u),t.lineTo(l,-u);break;case"star":t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-n,0),t.lineTo(n,0),l=Math.cos(Math.PI/4)*n,u=Math.sin(Math.PI/4)*n,t.moveTo(-l,-u),t.lineTo(l,u),t.moveTo(-l,u),t.lineTo(l,-u);break;case"line":t.moveTo(-n,0),t.lineTo(n,0);break;case"dash":t.moveTo(0,0),t.lineTo(n,0)}t.fill(),t.stroke(),t.restore()}}else t.drawImage(e,i-e.width/2,o-e.height/2,e.width,e.height)},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,i){if(n.steppedLine)return"after"===n.steppedLine&&!i||"after"!==n.steppedLine&&i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y),void t.lineTo(n.x,n.y);n.tension?t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}};i.clear=e.clear,i.drawRoundedRectangle=function(t){t.beginPath(),e.roundedRect.apply(e,arguments)}},function(t,e,n){"use strict";var i=n(12);t.exports={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,o,r;return i.isObject(t)?(e=+t.top||0,n=+t.right||0,o=+t.bottom||0,r=+t.left||0):e=n=o=r=+t||0,{top:e,right:n,bottom:o,left:r,height:e+o,width:r+n}},resolve:function(t,e,n){var o,r,a;for(o=0,r=t.length;o<r;++o)if(void 0!==(a=t[o])&&(void 0!==e&&"function"==typeof a&&(a=a(e)),void 0!==n&&i.isArray(a)&&(a=a[n]),void 0!==a))return a}}},function(t,e,n){"use strict";var i=n(16),o=n(3),r=n(1),a=n(6);t.exports=function(){function t(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}function e(t){return null!=t&&"none"!==t}function n(n,i,o){var a=document.defaultView,s=r._getParentNode(n),l=a.getComputedStyle(n)[i],u=a.getComputedStyle(s)[i],d=e(l),c=e(u),h=Number.POSITIVE_INFINITY;return d||c?Math.min(d?t(l,n,o):h,c?t(u,s,o):h):"none"}r.configMerge=function(){return r.merge(r.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,e,n,i){var o=e[t]||{},s=n[t];"scales"===t?e[t]=r.scaleMerge(o,s):"scale"===t?e[t]=r.merge(o,[a.getScaleDefaults(s.type),s]):r._merger(t,e,n,i)}})},r.scaleMerge=function(){return r.merge(r.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,e,n,i){if("xAxes"===t||"yAxes"===t){var o,s,l,u=n[t].length;for(e[t]||(e[t]=[]),o=0;o<u;++o)l=n[t][o],s=r.valueOrDefault(l.type,"xAxes"===t?"category":"linear"),o>=e[t].length&&e[t].push({}),!e[t][o].type||l.type&&l.type!==e[t][o].type?r.merge(e[t][o],[a.getScaleDefaults(s),l]):r.merge(e[t][o],l)}else r._merger(t,e,n,i)}})},r.where=function(t,e){if(r.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return r.each(t,function(t){e(t)&&n.push(t)}),n},r.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,o=t.length;i<o;++i)if(e.call(n,t[i],i,t))return i;return-1},r.findNextWhere=function(t,e,n){r.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<t.length;i++){var o=t[i];if(e(o))return o}},r.findPreviousWhere=function(t,e,n){r.isNullOrUndef(n)&&(n=t.length);for(var i=n-1;i>=0;i--){var o=t[i];if(e(o))return o}},r.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},r.almostEquals=function(t,e,n){return Math.abs(t-e)<n},r.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&n+e>t},r.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},r.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},r.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1},r.log10=Math.log10?function(t){return Math.log10(t)}:function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e},r.toRadians=function(t){return t*(Math.PI/180)},r.toDegrees=function(t){return t*(180/Math.PI)},r.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i),r=Math.atan2(i,n);return r<-.5*Math.PI&&(r+=2*Math.PI),{angle:r,distance:o}},r.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},r.aliasPixel=function(t){return t%2==0?0:.5},r.splineCurve=function(t,e,n,i){var o=t.skip?e:t,r=e,a=n.skip?e:n,s=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),l=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),u=s/(s+l),d=l/(s+l),c=i*(u=isNaN(u)?0:u),h=i*(d=isNaN(d)?0:d);return{previous:{x:r.x-c*(a.x-o.x),y:r.y-c*(a.y-o.y)},next:{x:r.x+h*(a.x-o.x),y:r.y+h*(a.y-o.y)}}},r.EPSILON=Number.EPSILON||1e-14,r.splineCurveMonotone=function(t){var e,n,i,o,a,s,l,u,d,c=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),h=c.length;for(e=0;e<h;++e)if(!(i=c[e]).model.skip){if(n=e>0?c[e-1]:null,(o=e<h-1?c[e+1]:null)&&!o.model.skip){var p=o.model.x-i.model.x;i.deltaK=0!==p?(o.model.y-i.model.y)/p:0}!n||n.model.skip?i.mK=i.deltaK:!o||o.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}for(e=0;e<h-1;++e)i=c[e],o=c[e+1],i.model.skip||o.model.skip||(r.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=o.mK=0:(a=i.mK/i.deltaK,s=o.mK/i.deltaK,(u=Math.pow(a,2)+Math.pow(s,2))<=9||(l=3/Math.sqrt(u),i.mK=a*l*i.deltaK,o.mK=s*l*i.deltaK)));for(e=0;e<h;++e)(i=c[e]).model.skip||(n=e>0?c[e-1]:null,o=e<h-1?c[e+1]:null,n&&!n.model.skip&&(d=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-d,i.model.controlPointPreviousY=i.model.y-d*i.mK),o&&!o.model.skip&&(d=(o.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+d,i.model.controlPointNextY=i.model.y+d*i.mK))},r.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},r.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},r.niceNum=function(t,e){var n=Math.floor(r.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},r.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},r.getRelativePosition=function(t,e){var n,i,o=t.originalEvent||t,a=t.target||t.srcElement,s=a.getBoundingClientRect(),l=o.touches;l&&l.length>0?(n=l[0].clientX,i=l[0].clientY):(n=o.clientX,i=o.clientY);var u=parseFloat(r.getStyle(a,"padding-left")),d=parseFloat(r.getStyle(a,"padding-top")),c=parseFloat(r.getStyle(a,"padding-right")),h=parseFloat(r.getStyle(a,"padding-bottom")),p=s.right-s.left-u-c,f=s.bottom-s.top-d-h;return{x:n=Math.round((n-s.left-u)/p*a.width/e.currentDevicePixelRatio),y:i=Math.round((i-s.top-d)/f*a.height/e.currentDevicePixelRatio)}},r.getConstraintWidth=function(t){return n(t,"max-width","clientWidth")},r.getConstraintHeight=function(t){return n(t,"max-height","clientHeight")},r._calculatePadding=function(t,e,n){return(e=r.getStyle(t,e)).indexOf("%")>-1?n/parseInt(e,10):parseInt(e,10)},r._getParentNode=function(t){var e=t.parentNode;return e&&e.host&&(e=e.host),e},r.getMaximumWidth=function(t){var e=r._getParentNode(t);if(!e)return t.clientWidth;var n=e.clientWidth,i=n-r._calculatePadding(e,"padding-left",n)-r._calculatePadding(e,"padding-right",n),o=r.getConstraintWidth(t);return isNaN(o)?i:Math.min(i,o)},r.getMaximumHeight=function(t){var e=r._getParentNode(t);if(!e)return t.clientHeight;var n=e.clientHeight,i=n-r._calculatePadding(e,"padding-top",n)-r._calculatePadding(e,"padding-bottom",n),o=r.getConstraintHeight(t);return isNaN(o)?i:Math.min(i,o)},r.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},r.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=t.canvas,o=t.height,r=t.width;i.height=o*n,i.width=r*n,t.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=o+"px",i.style.width=r+"px")}},r.fontString=function(t,e,n){return e+" "+t+"px "+n},r.longestText=function(t,e,n,i){var o=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(o=i.data={},a=i.garbageCollect=[],i.font=e),t.font=e;var s=0;r.each(n,function(e){null!=e&&!0!==r.isArray(e)?s=r.measureText(t,o,a,s,e):r.isArray(e)&&r.each(e,function(e){null==e||r.isArray(e)||(s=r.measureText(t,o,a,s,e))})});var l=a.length/2;if(l>n.length){for(var u=0;u<l;u++)delete o[a[u]];a.splice(0,l)}return s},r.measureText=function(t,e,n,i,o){var r=e[o];return r||(r=e[o]=t.measureText(o).width,n.push(o)),r>i&&(i=r),i},r.numberOfLabelLines=function(t){var e=1;return r.each(t,function(t){r.isArray(t)&&t.length>e&&(e=t.length)}),e},r.color=i?function(t){return t instanceof CanvasGradient&&(t=o.global.defaultColor),i(t)}:function(t){return console.error("Color.js not found!"),t},r.getHoverColor=function(t){return t instanceof CanvasPattern?t:r.color(t).saturate(.5).darken(.1).rgbString()}}},function(t,e,n){var i=n(177),o=function(){return new u};for(var r in i){o[r+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),i[t](e)}}(r);var a=/(\w+)2(\w+)/.exec(r),s=a[1],l=a[2];(o[s]=o[s]||{})[l]=o[r]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var n=i[t](e);if("string"==typeof n||void 0===n)return n;for(var o=0;o<n.length;o++)n[o]=Math.round(n[o]);return n}}(r)}var u=function(){this.convs={}};u.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},u.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},u.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,i=this.convs[n];e=o[n][t](i),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){u.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),t.exports=o},function(t,e){function n(t){var e,n,i=t[0]/255,o=t[1]/255,r=t[2]/255,a=Math.min(i,o,r),s=Math.max(i,o,r),l=s-a;return s==a?e=0:i==s?e=(o-r)/l:o==s?e=2+(r-i)/l:r==s&&(e=4+(i-o)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s==a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]}function i(t){var e,n,i=t[0],o=t[1],r=t[2],a=Math.min(i,o,r),s=Math.max(i,o,r),l=s-a;return n=0==s?0:l/s*1e3/10,s==a?e=0:i==s?e=(o-r)/l:o==s?e=2+(r-i)/l:r==s&&(e=4+(i-o)/l),(e=Math.min(60*e,360))<0&&(e+=360),[e,n,s/255*1e3/10]}function o(t){var e=t[0],i=t[1],o=t[2];return[n(t)[0],100*(1/255*Math.min(e,Math.min(i,o))),100*(o=1-1/255*Math.max(e,Math.max(i,o)))]}function a(t){var e,n=t[0]/255,i=t[1]/255,o=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-o)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-o-e)/(1-e)||0),100*e]}function s(t){return L[JSON.stringify(t)]}function l(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]}function u(t){var e=l(t),n=e[0],i=e[1],o=e[2];return i/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]}function d(t){var e,n,i,o,r,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return[r=255*l,r,r];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),o=[0,0,0];for(var u=0;u<3;u++)(i=a+1/3*-(u-1))<0&&i++,i>1&&i--,r=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,o[u]=255*r;return o}function c(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,o=Math.floor(e)%6,r=e-Math.floor(e),a=255*i*(1-n),s=255*i*(1-n*r),l=255*i*(1-n*(1-r));i*=255;switch(o){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}}function h(t){var e,n,i,o,a=t[0]/360,s=t[1]/100,l=t[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),i=6*a-(e=Math.floor(6*a)),0!=(1&e)&&(i=1-i),o=s+i*((n=1-l)-s),e){default:case 6:case 0:r=n,g=o,b=s;break;case 1:r=o,g=n,b=s;break;case 2:r=s,g=n,b=o;break;case 3:r=s,g=o,b=n;break;case 4:r=o,g=s,b=n;break;case 5:r=n,g=s,b=o}return[255*r,255*g,255*b]}function p(t){var e=t[0]/100,n=t[1]/100,i=t[2]/100,o=t[3]/100;return[255*(1-Math.min(1,e*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,i*(1-o)+o))]}function f(t){var e,n,i,o=t[0]/100,r=t[1]/100,a=t[2]/100;return n=-.9689*o+1.8758*r+.0415*a,i=.0557*o+-.204*r+1.057*a,e=(e=3.2406*o+-1.5372*r+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]}function m(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}function _(t){var e,n,i,o,r=t[0],a=t[1],s=t[2];return r<=8?o=(n=100*r/903.3)/100*7.787+16/116:(n=100*Math.pow((r+16)/116,3),o=Math.pow(n/100,1/3)),[e=e/95.047<=.008856?e=95.047*(a/500+o-16/116)/7.787:95.047*Math.pow(a/500+o,3),n,i=i/108.883<=.008859?i=108.883*(o-s/200-16/116)/7.787:108.883*Math.pow(o-s/200,3)]}function y(t){var e,n=t[0],i=t[1],o=t[2];return(e=360*Math.atan2(o,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+o*o),e]}function v(t){return f(_(t))}function w(t){var e,n=t[0],i=t[1];return e=t[2]/360*2*Math.PI,[n,i*Math.cos(e),i*Math.sin(e)]}function M(t){return x[t]}t.exports={rgb2hsl:n,rgb2hsv:i,rgb2hwb:o,rgb2cmyk:a,rgb2keyword:s,rgb2xyz:l,rgb2lab:u,rgb2lch:function(t){return y(u(t))},hsl2rgb:d,hsl2hsv:function(t){var e=t[0],n=t[1]/100,i=t[2]/100;if(0===i)return[0,0,0];return[e,100*(2*(n*=(i*=2)<=1?i:2-i)/(i+n)),100*((i+n)/2)]},hsl2hwb:function(t){return o(d(t))},hsl2cmyk:function(t){return a(d(t))},hsl2keyword:function(t){return s(d(t))},hsv2rgb:c,hsv2hsl:function(t){var e,n,i=t[0],o=t[1]/100,r=t[2]/100;return e=o*r,[i,100*(e=(e/=(n=(2-o)*r)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(t){return o(c(t))},hsv2cmyk:function(t){return a(c(t))},hsv2keyword:function(t){return s(c(t))},hwb2rgb:h,hwb2hsl:function(t){return n(h(t))},hwb2hsv:function(t){return i(h(t))},hwb2cmyk:function(t){return a(h(t))},hwb2keyword:function(t){return s(h(t))},cmyk2rgb:p,cmyk2hsl:function(t){return n(p(t))},cmyk2hsv:function(t){return i(p(t))},cmyk2hwb:function(t){return o(p(t))},cmyk2keyword:function(t){return s(p(t))},keyword2rgb:M,keyword2hsl:function(t){return n(M(t))},keyword2hsv:function(t){return i(M(t))},keyword2hwb:function(t){return o(M(t))},keyword2cmyk:function(t){return a(M(t))},keyword2lab:function(t){return u(M(t))},keyword2xyz:function(t){return l(M(t))},xyz2rgb:f,xyz2lab:m,xyz2lch:function(t){return y(m(t))},lab2xyz:_,lab2rgb:v,lab2lch:y,lch2lab:w,lch2xyz:function(t){return _(w(t))},lch2rgb:function(t){return v(w(t))}};var x={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},L={};for(var k in x)L[JSON.stringify(x[k])]=k},function(t,e,n){var i=n(179);function o(t){if(t){var e=[0,0,0],n=1,o=t.match(/^#([a-fA-F0-9]{3})$/i);if(o){o=o[1];for(var r=0;r<e.length;r++)e[r]=parseInt(o[r]+o[r],16)}else if(o=t.match(/^#([a-fA-F0-9]{6})$/i)){o=o[1];for(r=0;r<e.length;r++)e[r]=parseInt(o.slice(2*r,2*r+2),16)}else if(o=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(r=0;r<e.length;r++)e[r]=parseInt(o[r+1]);n=parseFloat(o[4])}else if(o=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(r=0;r<e.length;r++)e[r]=Math.round(2.55*parseFloat(o[r+1]));n=parseFloat(o[4])}else if(o=t.match(/(\w+)/)){if("transparent"==o[1])return[0,0,0,0];if(!(e=i[o[1]]))return}for(r=0;r<e.length;r++)e[r]=d(e[r],0,255);return n=n||0==n?d(n,0,1):1,e[3]=n,e}}function r(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[d(parseInt(e[1]),0,360),d(parseFloat(e[2]),0,100),d(parseFloat(e[3]),0,100),d(isNaN(n)?1:n,0,1)]}}}function a(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[d(parseInt(e[1]),0,360),d(parseFloat(e[2]),0,100),d(parseFloat(e[3]),0,100),d(isNaN(n)?1:n,0,1)]}}}function s(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function l(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function u(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function d(t,e,n){return Math.min(Math.max(e,t),n)}function c(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}t.exports={getRgba:o,getHsla:r,getRgb:function(t){var e=o(t);return e&&e.slice(0,3)},getHsl:function(t){var e=r(t);return e&&e.slice(0,3)},getHwb:a,getAlpha:function(t){var e=o(t);if(e)return e[3];if(e=r(t))return e[3];if(e=a(t))return e[3]},hexString:function(t){return"#"+c(t[0])+c(t[1])+c(t[2])},rgbString:function(t,e){if(e<1||t[3]&&t[3]<1)return s(t,e);return"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:s,percentString:function(t,e){if(e<1||t[3]&&t[3]<1)return l(t,e);var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),o=Math.round(t[2]/255*100);return"rgb("+n+"%, "+i+"%, "+o+"%)"},percentaString:l,hslString:function(t,e){if(e<1||t[3]&&t[3]<1)return u(t,e);return"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:u,hwbString:function(t,e){void 0===e&&(e=void 0!==t[3]?t[3]:1);return"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return h[t.slice(0,3)]}};var h={};for(var p in i)h[i[p]]=p},function(t,e,n){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,n){"use strict";var i=n(3),o=n(5),r=n(1);i._set("global",{elements:{arc:{backgroundColor:i.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),t.exports=o.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=r.getAngleFromPoint(n,{x:t,y:e}),o=i.angle,a=i.distance,s=n.startAngle,l=n.endAngle;l<s;)l+=2*Math.PI;for(;o>l;)o-=2*Math.PI;for(;o<s;)o+=2*Math.PI;var u=o>=s&&o<=l,d=a>=n.innerRadius&&a<=n.outerRadius;return u&&d}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t=this._chart.ctx,e=this._view,n=e.startAngle,i=e.endAngle;t.beginPath(),t.arc(e.x,e.y,e.outerRadius,n,i),t.arc(e.x,e.y,e.innerRadius,i,n,!0),t.closePath(),t.strokeStyle=e.borderColor,t.lineWidth=e.borderWidth,t.fillStyle=e.backgroundColor,t.fill(),t.lineJoin="bevel",e.borderWidth&&t.stroke()}})},function(t,e,n){"use strict";var i=n(3),o=n(5),r=n(1),a=i.global;i._set("global",{elements:{line:{tension:.4,backgroundColor:a.defaultColor,borderWidth:3,borderColor:a.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),t.exports=o.extend({draw:function(){var t,e,n,i,o=this._view,s=this._chart.ctx,l=o.spanGaps,u=this._children.slice(),d=a.elements.line,c=-1;for(this._loop&&u.length&&u.push(u[0]),s.save(),s.lineCap=o.borderCapStyle||d.borderCapStyle,s.setLineDash&&s.setLineDash(o.borderDash||d.borderDash),s.lineDashOffset=o.borderDashOffset||d.borderDashOffset,s.lineJoin=o.borderJoinStyle||d.borderJoinStyle,s.lineWidth=o.borderWidth||d.borderWidth,s.strokeStyle=o.borderColor||a.defaultColor,s.beginPath(),c=-1,t=0;t<u.length;++t)e=u[t],n=r.previousItem(u,t),i=e._view,0===t?i.skip||(s.moveTo(i.x,i.y),c=t):(n=-1===c?n:u[c],i.skip||(c!==t-1&&!l||-1===c?s.moveTo(i.x,i.y):r.canvas.lineTo(s,n._view,e._view),c=t));s.stroke(),s.restore()}})},function(t,e,n){"use strict";var i=n(3),o=n(5),r=n(1),a=i.global.defaultColor;function s(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}i._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:a,borderColor:a,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),t.exports=o.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:s,inXRange:s,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._model,o=this._chart.ctx,s=e.pointStyle,l=e.rotation,u=e.radius,d=e.x,c=e.y;e.skip||(void 0===t||n.x>=t.left&&1.01*t.right>=n.x&&n.y>=t.top&&1.01*t.bottom>=n.y)&&(o.strokeStyle=e.borderColor||a,o.lineWidth=r.valueOrDefault(e.borderWidth,i.global.elements.point.borderWidth),o.fillStyle=e.backgroundColor||a,r.canvas.drawPoint(o,s,u,d,c,l))}})},function(t,e,n){"use strict";var i=n(3),o=n(5);function r(t){return void 0!==t._view.width}function a(t){var e,n,i,o,a=t._view;if(r(t)){var s=a.width/2;e=a.x-s,n=a.x+s,i=Math.min(a.y,a.base),o=Math.max(a.y,a.base)}else{var l=a.height/2;e=Math.min(a.x,a.base),n=Math.max(a.x,a.base),i=a.y-l,o=a.y+l}return{left:e,top:i,right:n,bottom:o}}i._set("global",{elements:{rectangle:{backgroundColor:i.global.defaultColor,borderColor:i.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),t.exports=o.extend({draw:function(){var t,e,n,i,o,r,a,s=this._chart.ctx,l=this._view,u=l.borderWidth;if(l.horizontal?(t=l.base,e=l.x,n=l.y-l.height/2,i=l.y+l.height/2,o=e>t?1:-1,r=1,a=l.borderSkipped||"left"):(t=l.x-l.width/2,e=l.x+l.width/2,n=l.y,o=1,r=(i=l.base)>n?1:-1,a=l.borderSkipped||"bottom"),u){var d=Math.min(Math.abs(t-e),Math.abs(n-i)),c=(u=u>d?d:u)/2,h=t+("left"!==a?c*o:0),p=e+("right"!==a?-c*o:0),f=n+("top"!==a?c*r:0),m=i+("bottom"!==a?-c*r:0);h!==p&&(n=f,i=m),f!==m&&(t=h,e=p)}s.beginPath(),s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=u;var g=[[t,i],[t,n],[e,n],[e,i]],_=["bottom","left","top","right"].indexOf(a,0);function y(t){return g[(_+t)%4]}-1===_&&(_=0);var v=y(0);s.moveTo(v[0],v[1]);for(var b=1;b<4;b++)v=y(b),s.lineTo(v[0],v[1]);s.fill(),u&&s.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var n=!1;if(this._view){var i=a(this);n=t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom}return n},inLabelRange:function(t,e){if(!this._view)return!1;var n=a(this);return r(this)?t>=n.left&&t<=n.right:e>=n.top&&e<=n.bottom},inXRange:function(t){var e=a(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=a(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,n=this._view;return r(this)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}})},function(t,e){t.exports={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}}},function(t,e,n){"use strict";var i=n(1),o="$chartjs",r="chartjs-",a=r+"render-monitor",s=r+"render-animation",l=["animationstart","webkitAnimationStart"],u={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function d(t,e){var n=i.getStyle(t,e),o=n&&n.match(/^(\d+)(\.\d+)?px$/);return o?Number(o[1]):void 0}var c=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{passive:!0};function h(t,e,n){t.addEventListener(e,n,c)}function p(t,e,n){t.removeEventListener(e,n,c)}function f(t,e,n,i,o){return{type:t,chart:e,native:o||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function m(t,e,n){var u,d,c,p,m=t[o]||(t[o]={}),g=m.resizer=function(t){var e=document.createElement("div"),n=r+"size-monitor",i="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";e.style.cssText=i,e.className=n,e.innerHTML='<div class="'+n+'-expand" style="'+i+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+n+'-shrink" style="'+i+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var o=e.childNodes[0],a=e.childNodes[1];e._reset=function(){o.scrollLeft=1e6,o.scrollTop=1e6,a.scrollLeft=1e6,a.scrollTop=1e6};var s=function(){e._reset(),t()};return h(o,"scroll",s.bind(o,"expand")),h(a,"scroll",s.bind(a,"shrink")),e}((u=function(){if(m.resizer)return e(f("resize",n))},c=!1,p=[],function(){p=Array.prototype.slice.call(arguments),d=d||this,c||(c=!0,i.requestAnimFrame.call(window,function(){c=!1,u.apply(d,p)}))}));!function(t,e){var n=t[o]||(t[o]={}),r=n.renderProxy=function(t){t.animationName===s&&e()};i.each(l,function(e){h(t,e,r)}),n.reflow=!!t.offsetParent,t.classList.add(a)}(t,function(){if(m.resizer){var e=t.parentNode;e&&e!==g.parentNode&&e.insertBefore(g,e.firstChild),g._reset()}})}function g(t){var e=t[o]||{},n=e.resizer;delete e.resizer,function(t){var e=t[o]||{},n=e.renderProxy;n&&(i.each(l,function(e){p(t,e,n)}),delete e.renderProxy),t.classList.remove(a)}(t),n&&n.parentNode&&n.parentNode.removeChild(n)}t.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var t,e,n,i="from{opacity:0.99}to{opacity:1}";e="@-webkit-keyframes "+s+"{"+i+"}@keyframes "+s+"{"+i+"}."+a+"{-webkit-animation:"+s+" 0.001s;animation:"+s+" 0.001s;}",n=(t=this)._style||document.createElement("style"),t._style||(t._style=n,e="/* Chart.js */\n"+e,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(e))},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){var n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[o]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var a=d(t,"width");void 0!==a&&(t.width=a)}if(null===i||""===i)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var s=d(t,"height");void 0!==a&&(t.height=s)}}(t,e),n):null},releaseContext:function(t){var e=t.canvas;if(e[o]){var n=e[o].initial;["height","width"].forEach(function(t){var o=n[t];i.isNullOrUndef(o)?e.removeAttribute(t):e.setAttribute(t,o)}),i.each(n.style||{},function(t,n){e.style[n]=t}),e.width=e.width,delete e[o]}},addEventListener:function(t,e,n){var r=t.canvas;if("resize"!==e){var a=n[o]||(n[o]={});h(r,e,(a.proxies||(a.proxies={}))[t.id+"_"+e]=function(e){n(function(t,e){var n=u[t.type]||t.type,o=i.getRelativePosition(t,e);return f(n,e,o.x,o.y,t)}(e,t))})}else m(r,n,t)},removeEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var r=((n[o]||{}).proxies||{})[t.id+"_"+e];r&&p(i,e,r)}else g(i)}},i.addEvent=h,i.removeEvent=p},function(t,e,n){"use strict";var i=n(17),o=n(18),r=n(3),a=n(1),s=n(19),l=n(9),u=n(20),d=n(21),c=n(6),h=n(22);t.exports=function(t){function e(e){var n=e.options;a.each(e.scales,function(t){l.removeBox(e,t)}),n=a.configMerge(t.defaults.global,t.defaults[e.config.type],n),e.options=e.config.options=n,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=n.tooltips,e.tooltip.initialize()}function n(t){return"top"===t||"bottom"===t}t.types={},t.instances={},t.controllers={},a.extend(t.prototype,{construct:function(e,n){var i=this;n=function(t){var e=(t=t||{}).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=a.configMerge(r.global,r[t.type],t.options||{}),t}(n);var o=u.acquireContext(e,n),s=o&&o.canvas,l=s&&s.height,d=s&&s.width;i.id=a.uid(),i.ctx=o,i.canvas=s,i.config=n,i.width=d,i.height=l,i.aspectRatio=l?d/l:null,i.options=n.options,i._bufferedRender=!1,i.chart=i,i.controller=i,t.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(t){i.config.data=t}}),o&&s?(i.initialize(),i.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return d.notify(t,"beforeInit"),a.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.initToolTip(),d.notify(t,"afterInit"),t},clear:function(){return a.canvas.clear(this),this},stop:function(){return o.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,o=n.maintainAspectRatio&&e.aspectRatio||null,r=Math.max(0,Math.floor(a.getMaximumWidth(i))),s=Math.max(0,Math.floor(o?r/o:a.getMaximumHeight(i)));if((e.width!==r||e.height!==s)&&(i.width=e.width=r,i.height=e.height=s,i.style.width=r+"px",i.style.height=s+"px",a.retinaScale(e,n.devicePixelRatio),!t)){var l={width:r,height:s};d.notify(e,"resize",[l]),e.options.onResize&&e.options.onResize(e,l),e.stop(),e.update({duration:e.options.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;a.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),a.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,i=t.scales||{},o=[],r=Object.keys(i).reduce(function(t,e){return t[e]=!1,t},{});e.scales&&(o=o.concat((e.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(e.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),e.scale&&o.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),a.each(o,function(e){var o=e.options,s=o.id,l=a.valueOrDefault(o.type,e.dtype);n(o.position)!==n(e.dposition)&&(o.position=e.dposition),r[s]=!0;var u=null;if(s in i&&i[s].type===l)(u=i[s]).options=o,u.ctx=t.ctx,u.chart=t;else{var d=c.getScaleConstructor(l);if(!d)return;u=new d({id:s,type:l,options:o,ctx:t.ctx,chart:t}),i[u.id]=u}u.mergeTicksOptions(),e.isDefault&&(t.scale=u)}),a.each(r,function(t,e){t||delete i[e]}),t.scales=i,c.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,n=[],i=[];return a.each(e.data.datasets,function(o,r){var a=e.getDatasetMeta(r),s=o.type||e.config.type;if(a.type&&a.type!==s&&(e.destroyDatasetMeta(r),a=e.getDatasetMeta(r)),a.type=s,n.push(a.type),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{var l=t.controllers[a.type];if(void 0===l)throw new Error('"'+a.type+'" is not a chart type.');a.controller=new l(e,r),i.push(a.controller)}},e),i},resetElements:function(){var t=this;a.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var n=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),e(n),d._invalidate(n),!1!==d.notify(n,"beforeUpdate")){n.tooltip._data=n.data;var i=n.buildOrUpdateControllers();a.each(n.data.datasets,function(t,e){n.getDatasetMeta(e).controller.buildOrUpdateElements()},n),n.updateLayout(),n.options.animation&&n.options.animation.duration&&a.each(i,function(t){t.reset()}),n.updateDatasets(),n.tooltip.initialize(),n.lastActive=[],d.notify(n,"afterUpdate"),n._bufferedRender?n._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:n.render(t)}},updateLayout:function(){!1!==d.notify(this,"beforeLayout")&&(l.update(this,this.width,this.height),d.notify(this,"afterScaleUpdate"),d.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==d.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.updateDataset(t);d.notify(this,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this.getDatasetMeta(t),n={meta:e,index:t};!1!==d.notify(this,"beforeDatasetUpdate",[n])&&(e.controller.update(),d.notify(this,"afterDatasetUpdate",[n]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var n=t.duration,r=t.lazy;if(!1!==d.notify(e,"beforeRender")){var s=e.options.animation,l=function(t){d.notify(e,"afterRender"),a.callback(s&&s.onComplete,[t],e)};if(s&&(void 0!==n&&0!==n||void 0===n&&0!==s.duration)){var u=new i({numSteps:(n||s.duration)/16.66,easing:t.easing||s.easing,render:function(t,e){var n=a.easing.effects[e.easing],i=e.currentStep,o=i/e.numSteps;t.draw(n(o),o,i)},onAnimationProgress:s.onProgress,onAnimationComplete:l});o.addAnimation(e,u,n,r)}else e.draw(),l(new i({numSteps:0,chart:e}));return e}},draw:function(t){var e=this;e.clear(),a.isNullOrUndef(t)&&(t=1),e.transition(t),e.width<=0||e.height<=0||!1!==d.notify(e,"beforeDraw",[t])&&(a.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e._drawTooltip(t),d.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=0,n=(this.data.datasets||[]).length;e<n;++e)this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);this.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==d.notify(e,"beforeDatasetsDraw",[t])){for(var n=(e.data.datasets||[]).length-1;n>=0;--n)e.isDatasetVisible(n)&&e.drawDataset(n,t);d.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n=this.getDatasetMeta(t),i={meta:n,index:t,easingValue:e};!1!==d.notify(this,"beforeDatasetDraw",[i])&&(n.controller.draw(e),d.notify(this,"afterDatasetDraw",[i]))},_drawTooltip:function(t){var e=this.tooltip,n={tooltip:e,easingValue:t};!1!==d.notify(this,"beforeTooltipDraw",[n])&&(e.draw(),d.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return s.modes.single(this,t)},getElementsAtEvent:function(t){return s.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return s.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=s.modes[e];return"function"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return s.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var n=e._meta[this.id];return n||(n=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],i=n._meta&&n._meta[e];i&&(i.controller.destroy(),delete n._meta[e])},destroy:function(){var e,n,i=this,o=i.canvas;for(i.stop(),e=0,n=i.data.datasets.length;e<n;++e)i.destroyDatasetMeta(e);o&&(i.unbindEvents(),a.canvas.clear(i),u.releaseContext(i.ctx),i.canvas=null,i.ctx=null),d.notify(i,"destroy"),delete t.instances[i.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new h({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};a.each(t.options.events,function(i){u.addEventListener(t,i,n),e[i]=n}),t.options.responsive&&(n=function(){t.resize()},u.addEventListener(t,"resize",n),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,a.each(e,function(e,n){u.removeEventListener(t,n,e)}))},updateHoverStyle:function(t,e,n){var i,o,r,a=n?"setHoverStyle":"removeHoverStyle";for(o=0,r=t.length;o<r;++o)(i=t[o])&&this.getDatasetMeta(i._datasetIndex).controller[a](i)},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==d.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);n&&(i=n._start?n.handleEvent(t):i|n.handleEvent(t)),d.notify(e,"afterEvent",[t]);var o=e._bufferedRequest;return o?e.render(o):i&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,n=this,i=n.options||{},o=i.hover;return n.lastActive=n.lastActive||[],"mouseout"===t.type?n.active=[]:n.active=n.getElementsAtEventForMode(t,o.mode,o),a.callback(i.onHover||i.hover.onHover,[t.native,n.active],n),"mouseup"!==t.type&&"click"!==t.type||i.onClick&&i.onClick.call(n,t.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,o.mode,!1),n.active.length&&o.mode&&n.updateHoverStyle(n.active,o.mode,!0),e=!a.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,e}}),t.Controller=t}},function(t,e,n){"use strict";var i=n(1);t.exports=function(t){var e=["push","pop","shift","splice","unshift"];function n(t,n){var i=t._chartjs;if(i){var o=i.listeners,r=o.indexOf(n);-1!==r&&o.splice(r,1),o.length>0||(e.forEach(function(e){delete t[e]}),delete t._chartjs)}}t.DatasetController=function(t,e){this.initialize(t,e)},i.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null!==e.xAxisID&&e.xAxisID in t.chart.scales||(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in t.chart.scales||(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,n=this.getMeta(),i=this.getDataset().data||[],o=n.data;for(t=0,e=i.length;t<e;++t)o[t]=o[t]||this.createMetaData(t);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t,o,r=this,a=r.getDataset(),s=a.data||(a.data=[]);r._data!==s&&(r._data&&n(r._data,r),o=r,(t=s)._chartjs?t._chartjs.listeners.push(o):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),e.forEach(function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),o=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),r=o.apply(this,e);return i.each(t._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),r}})})),r._data=s),r.resyncElements()},update:i.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,o=0;o<i;++o)n[o].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},removeHoverStyle:function(t){i.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,o=t.custom||{},r=i.valueAtIndexOrDefault,a=i.getHoverColor,s=t._model;t.$previousStyle={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth},s.backgroundColor=o.hoverBackgroundColor?o.hoverBackgroundColor:r(e.hoverBackgroundColor,n,a(s.backgroundColor)),s.borderColor=o.hoverBorderColor?o.hoverBorderColor:r(e.hoverBorderColor,n,a(s.borderColor)),s.borderWidth=o.hoverBorderWidth?o.hoverBorderWidth:r(e.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,n=t.data.length,i=e.length;i<n?t.data.splice(i,n-i):i>n&&this.insertElements(n,i-n)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=i.inherits}},function(t,e,n){"use strict";var i=n(1),o=n(10);t.exports=function(t){var e=i.noop;t.LinearScaleBase=o.extend({getRightValue:function(t){return"string"==typeof t?+t:o.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=i.sign(t.min),o=i.sign(t.max);n<0&&o<0?t.max=0:n>0&&o>0&&(t.min=0)}var r=void 0!==e.min||void 0!==e.suggestedMin,a=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),r!==a&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:e,handleDirectionalChanges:e,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),o={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,precision:e.precision,stepSize:i.valueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=function(t,e){var n,o,r,a=[];if(t.stepSize&&t.stepSize>0)r=t.stepSize;else{var s=i.niceNum(e.max-e.min,!1);r=i.niceNum(s/(t.maxTicks-1),!0),void 0!==(o=t.precision)&&(n=Math.pow(10,o),r=Math.ceil(r*n)/n)}var l=Math.floor(e.min/r)*r,u=Math.ceil(e.max/r)*r;i.isNullOrUndef(t.min)||i.isNullOrUndef(t.max)||!t.stepSize||i.almostWhole((t.max-t.min)/t.stepSize,r/1e3)&&(l=t.min,u=t.max);var d=(u-l)/r;d=i.almostEquals(d,Math.round(d),r/1e3)?Math.round(d):Math.ceil(d),o=1,r<1&&(o=Math.pow(10,1-Math.floor(i.log10(r))),l=Math.round(l*o)/o,u=Math.round(u*o)/o),a.push(void 0!==t.min?t.min:l);for(var c=1;c<d;++c)a.push(Math.round((l+c*r)*o)/o);return a.push(void 0!==t.max?t.max:u),a}(o,t);t.handleDirectionalChanges(),t.max=i.max(r),t.min=i.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),o.prototype.convertTicksToLabels.call(t)}})}},function(t,e,n){"use strict";var i=n(10),o=n(6);t.exports=function(){var t=i.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t,e=this,n=e.getLabels();e.minIndex=0,e.maxIndex=n.length-1,void 0!==e.options.ticks.min&&(t=n.indexOf(e.options.ticks.min),e.minIndex=-1!==t?t:e.minIndex),void 0!==e.options.ticks.max&&(t=n.indexOf(e.options.ticks.max),e.maxIndex=-1!==t?t:e.maxIndex),e.min=n[e.minIndex],e.max=n[e.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var n=this,i=n.chart.data,o=n.isHorizontal();return i.yLabels&&!o?n.getRightValue(i.datasets[e].data[t]):n.ticks[t-n.minIndex]},getPixelForValue:function(t,e){var n,i=this,o=i.options.offset,r=Math.max(i.maxIndex+1-i.minIndex-(o?0:1),1);if(null!=t&&(n=i.isHorizontal()?t.x:t.y),void 0!==n||void 0!==t&&isNaN(e)){t=n||t;var a=i.getLabels().indexOf(t);e=-1!==a?a:e}if(i.isHorizontal()){var s=i.width/r,l=s*(e-i.minIndex);return o&&(l+=s/2),i.left+Math.round(l)}var u=i.height/r,d=u*(e-i.minIndex);return o&&(d+=u/2),i.top+Math.round(d)},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this,n=e.options.offset,i=Math.max(e._ticks.length-(n?0:1),1),o=e.isHorizontal(),r=(o?e.width:e.height)/i;return t-=o?e.left:e.top,n&&(t-=r/2),(t<=0?0:Math.round(t/r))+e.minIndex},getBasePixel:function(){return this.bottom}});o.registerScaleType("category",t,{position:"bottom"})}},function(t,e,n){"use strict";var i=n(3),o=n(1),r=n(6),a=n(11);t.exports=function(t){var e={position:"left",ticks:{callback:a.formatters.linear}},n=t.LinearScaleBase.extend({determineDataLimits:function(){var t=this,e=t.options,n=t.chart,i=n.data.datasets,r=t.isHorizontal();function a(e){return r?e.xAxisID===t.id:e.yAxisID===t.id}t.min=null,t.max=null;var s=e.stacked;if(void 0===s&&o.each(i,function(t,e){if(!s){var i=n.getDatasetMeta(e);n.isDatasetVisible(e)&&a(i)&&void 0!==i.stack&&(s=!0)}}),e.stacked||s){var l={};o.each(i,function(i,r){var s=n.getDatasetMeta(r),u=[s.type,void 0===e.stacked&&void 0===s.stack?r:"",s.stack].join(".");void 0===l[u]&&(l[u]={positiveValues:[],negativeValues:[]});var d=l[u].positiveValues,c=l[u].negativeValues;n.isDatasetVisible(r)&&a(s)&&o.each(i.data,function(n,i){var o=+t.getRightValue(n);isNaN(o)||s.data[i].hidden||(d[i]=d[i]||0,c[i]=c[i]||0,e.relativePoints?d[i]=100:o<0?c[i]+=o:d[i]+=o)})}),o.each(l,function(e){var n=e.positiveValues.concat(e.negativeValues),i=o.min(n),r=o.max(n);t.min=null===t.min?i:Math.min(t.min,i),t.max=null===t.max?r:Math.max(t.max,r)})}else o.each(i,function(e,i){var r=n.getDatasetMeta(i);n.isDatasetVisible(i)&&a(r)&&o.each(e.data,function(e,n){var i=+t.getRightValue(e);isNaN(i)||r.data[n].hidden||(null===t.min?t.min=i:i<t.min&&(t.min=i),null===t.max?t.max=i:i>t.max&&(t.max=i))})});t.min=isFinite(t.min)&&!isNaN(t.min)?t.min:0,t.max=isFinite(t.max)&&!isNaN(t.max)?t.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var t,e=this.options.ticks;if(this.isHorizontal())t=Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.width/50));else{var n=o.valueOrDefault(e.fontSize,i.global.defaultFontSize);t=Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.height/(2*n)))}return t},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this,n=e.start,i=+e.getRightValue(t),o=e.end-n;return e.isHorizontal()?e.left+e.width/o*(i-n):e.bottom-e.height/o*(i-n)},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),i=n?e.width:e.height,o=(n?t-e.left:e.bottom-t)/i;return e.start+(e.end-e.start)*o},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}});r.registerScaleType("linear",n,e)}},function(t,e,n){"use strict";var i=n(1),o=n(10),r=n(6),a=n(11);t.exports=function(t){var e={position:"left",ticks:{callback:a.formatters.logarithmic}},n=o.extend({determineDataLimits:function(){var t=this,e=t.options,n=t.chart,o=n.data.datasets,r=t.isHorizontal();function a(e){return r?e.xAxisID===t.id:e.yAxisID===t.id}t.min=null,t.max=null,t.minNotZero=null;var s=e.stacked;if(void 0===s&&i.each(o,function(t,e){if(!s){var i=n.getDatasetMeta(e);n.isDatasetVisible(e)&&a(i)&&void 0!==i.stack&&(s=!0)}}),e.stacked||s){var l={};i.each(o,function(o,r){var s=n.getDatasetMeta(r),u=[s.type,void 0===e.stacked&&void 0===s.stack?r:"",s.stack].join(".");n.isDatasetVisible(r)&&a(s)&&(void 0===l[u]&&(l[u]=[]),i.each(o.data,function(e,n){var i=l[u],o=+t.getRightValue(e);isNaN(o)||s.data[n].hidden||o<0||(i[n]=i[n]||0,i[n]+=o)}))}),i.each(l,function(e){if(e.length>0){var n=i.min(e),o=i.max(e);t.min=null===t.min?n:Math.min(t.min,n),t.max=null===t.max?o:Math.max(t.max,o)}})}else i.each(o,function(e,o){var r=n.getDatasetMeta(o);n.isDatasetVisible(o)&&a(r)&&i.each(e.data,function(e,n){var i=+t.getRightValue(e);isNaN(i)||r.data[n].hidden||i<0||(null===t.min?t.min=i:i<t.min&&(t.min=i),null===t.max?t.max=i:i>t.max&&(t.max=i),0!==i&&(null===t.minNotZero||i<t.minNotZero)&&(t.minNotZero=i))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks,n=i.valueOrDefault;t.min=n(e.min,t.min),t.max=n(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(i.log10(t.min))-1),t.max=Math.pow(10,Math.floor(i.log10(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(i.log10(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(i.log10(t.min))+1):10),null===t.minNotZero&&(t.min>0?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(i.log10(t.max))):t.minNotZero=1)},buildTicks:function(){var t=this,e=t.options.ticks,n=!t.isHorizontal(),o={min:e.min,max:e.max},r=t.ticks=function(t,e){var n,o,r=[],a=i.valueOrDefault,s=a(t.min,Math.pow(10,Math.floor(i.log10(e.min)))),l=Math.floor(i.log10(e.max)),u=Math.ceil(e.max/Math.pow(10,l));0===s?(n=Math.floor(i.log10(e.minNotZero)),o=Math.floor(e.minNotZero/Math.pow(10,n)),r.push(s),s=o*Math.pow(10,n)):(n=Math.floor(i.log10(s)),o=Math.floor(s/Math.pow(10,n)));var d=n<0?Math.pow(10,Math.abs(n)):1;do{r.push(s),10===++o&&(o=1,d=++n>=0?1:d),s=Math.round(o*Math.pow(10,n)*d)/d}while(n<l||n===l&&o<u);var c=a(t.max,s);return r.push(c),r}(o,t);t.max=i.max(r),t.min=i.min(r),e.reverse?(n=!n,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),o.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},_getFirstTickValue:function(t){var e=Math.floor(i.log10(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},getPixelForValue:function(e){var n,o,r,a,s,l=this,u=l.options.ticks.reverse,d=i.log10,c=l._getFirstTickValue(l.minNotZero),h=0;return e=+l.getRightValue(e),u?(r=l.end,a=l.start,s=-1):(r=l.start,a=l.end,s=1),l.isHorizontal()?(n=l.width,o=u?l.right:l.left):(n=l.height,s*=-1,o=u?l.top:l.bottom),e!==r&&(0===r&&(n-=h=i.getValueOrDefault(l.options.ticks.fontSize,t.defaults.global.defaultFontSize),r=c),0!==e&&(h+=n/(d(a)-d(r))*(d(e)-d(r))),o+=s*h),o},getValueForPixel:function(e){var n,o,r,a,s=this,l=s.options.ticks.reverse,u=i.log10,d=s._getFirstTickValue(s.minNotZero);if(l?(o=s.end,r=s.start):(o=s.start,r=s.end),s.isHorizontal()?(n=s.width,a=l?s.right-e:e-s.left):(n=s.height,a=l?e-s.top:s.bottom-e),a!==o){if(0===o){var c=i.getValueOrDefault(s.options.ticks.fontSize,t.defaults.global.defaultFontSize);a-=c,n-=c,o=d}a*=u(r)-u(o),a/=n,a=Math.pow(10,u(o)+a)}return a}});r.registerScaleType("logarithmic",n,e)}},function(t,e,n){"use strict";var i=n(3),o=n(1),r=n(6),a=n(11);t.exports=function(t){var e=i.global,n={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:a.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function s(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function l(t){var n=t.options.pointLabels,i=o.valueOrDefault(n.fontSize,e.defaultFontSize),r=o.valueOrDefault(n.fontStyle,e.defaultFontStyle),a=o.valueOrDefault(n.fontFamily,e.defaultFontFamily);return{size:i,style:r,family:a,font:o.fontString(i,r,a)}}function u(t,e,n,i,o){return t===i||t===o?{start:e-n/2,end:e+n/2}:t<i||t>o?{start:e-n-5,end:e}:{start:e,end:e+n+5}}function d(t){return 0===t||180===t?"center":t<180?"left":"right"}function c(t,e,n,i){if(o.isArray(e))for(var r=n.y,a=1.5*i,s=0;s<e.length;++s)t.fillText(e[s],n.x,r),r+=a;else t.fillText(e,n.x,n.y)}function h(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function p(t){return o.isNumber(t)?t:0}var f=t.LinearScaleBase.extend({setDimensions:function(){var t=this,n=t.options,i=n.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var r=o.min([t.height,t.width]),a=o.valueOrDefault(i.fontSize,e.defaultFontSize);t.drawingArea=n.display?r/2-(a/2+i.backdropPaddingY):r/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;o.each(e.data.datasets,function(r,a){if(e.isDatasetVisible(a)){var s=e.getDatasetMeta(a);o.each(r.data,function(e,o){var r=+t.getRightValue(e);isNaN(r)||s.data[o].hidden||(n=Math.min(r,n),i=Math.max(r,i))})}}),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=i===Number.NEGATIVE_INFINITY?0:i,t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,n=o.valueOrDefault(t.fontSize,e.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*n)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t,e;this.options.pointLabels.display?function(t){var e,n,i,r=l(t),a=Math.min(t.height/2,t.width/2),d={r:t.width,l:0,t:t.height,b:0},c={};t.ctx.font=r.font,t._pointLabelSizes=[];var h,p,f,m=s(t);for(e=0;e<m;e++){i=t.getPointPosition(e,a),h=t.ctx,p=r.size,f=t.pointLabels[e]||"",n=o.isArray(f)?{w:o.longestText(h,h.font,f),h:f.length*p+1.5*(f.length-1)*p}:{w:h.measureText(f).width,h:p},t._pointLabelSizes[e]=n;var g=t.getIndexAngle(e),_=o.toDegrees(g)%360,y=u(_,i.x,n.w,0,180),v=u(_,i.y,n.h,90,270);y.start<d.l&&(d.l=y.start,c.l=g),y.end>d.r&&(d.r=y.end,c.r=g),v.start<d.t&&(d.t=v.start,c.t=g),v.end>d.b&&(d.b=v.end,c.b=g)}t.setReductions(a,d,c)}(this):(t=this,e=Math.min(t.height/2,t.width/2),t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0))},setReductions:function(t,e,n){var i=e.l/Math.sin(n.l),o=Math.max(e.r-this.width,0)/Math.sin(n.r),r=-e.t/Math.cos(n.t),a=-Math.max(e.b-this.height,0)/Math.cos(n.b);i=p(i),o=p(o),r=p(r),a=p(a),this.drawingArea=Math.min(Math.round(t-(i+o)/2),Math.round(t-(r+a)/2)),this.setCenterPoint(i,o,r,a)},setCenterPoint:function(t,e,n,i){var o=this,r=o.width-e-o.drawingArea,a=t+o.drawingArea,s=n+o.drawingArea,l=o.height-i-o.drawingArea;o.xCenter=Math.round((a+r)/2+o.left),o.yCenter=Math.round((s+l)/2+o.top)},getIndexAngle:function(t){return t*(2*Math.PI/s(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(n)*e)+this.xCenter,y:Math.round(Math.sin(n)*e)+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this.min,e=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0)},draw:function(){var t=this,n=t.options,i=n.gridLines,r=n.ticks,a=o.valueOrDefault;if(n.display){var u=t.ctx,p=this.getIndexAngle(0),f=a(r.fontSize,e.defaultFontSize),m=a(r.fontStyle,e.defaultFontStyle),g=a(r.fontFamily,e.defaultFontFamily),_=o.fontString(f,m,g);o.each(t.ticks,function(n,l){if(l>0||r.reverse){var d=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]);if(i.display&&0!==l&&function(t,e,n,i){var r=t.ctx;if(r.strokeStyle=o.valueAtIndexOrDefault(e.color,i-1),r.lineWidth=o.valueAtIndexOrDefault(e.lineWidth,i-1),t.options.gridLines.circular)r.beginPath(),r.arc(t.xCenter,t.yCenter,n,0,2*Math.PI),r.closePath(),r.stroke();else{var a=s(t);if(0===a)return;r.beginPath();var l=t.getPointPosition(0,n);r.moveTo(l.x,l.y);for(var u=1;u<a;u++)l=t.getPointPosition(u,n),r.lineTo(l.x,l.y);r.closePath(),r.stroke()}}(t,i,d,l),r.display){var c=a(r.fontColor,e.defaultFontColor);if(u.font=_,u.save(),u.translate(t.xCenter,t.yCenter),u.rotate(p),r.showLabelBackdrop){var h=u.measureText(n).width;u.fillStyle=r.backdropColor,u.fillRect(-h/2-r.backdropPaddingX,-d-f/2-r.backdropPaddingY,h+2*r.backdropPaddingX,f+2*r.backdropPaddingY)}u.textAlign="center",u.textBaseline="middle",u.fillStyle=c,u.fillText(n,0,-d),u.restore()}}}),(n.angleLines.display||n.pointLabels.display)&&function(t){var n=t.ctx,i=t.options,r=i.angleLines,a=i.pointLabels;n.lineWidth=r.lineWidth,n.strokeStyle=r.color;var u=t.getDistanceFromCenterForValue(i.ticks.reverse?t.min:t.max),p=l(t);n.textBaseline="top";for(var f=s(t)-1;f>=0;f--){if(r.display){var m=t.getPointPosition(f,u);n.beginPath(),n.moveTo(t.xCenter,t.yCenter),n.lineTo(m.x,m.y),n.stroke(),n.closePath()}if(a.display){var g=t.getPointPosition(f,u+5),_=o.valueAtIndexOrDefault(a.fontColor,f,e.defaultFontColor);n.font=p.font,n.fillStyle=_;var y=t.getIndexAngle(f),v=o.toDegrees(y);n.textAlign=d(v),h(v,t._pointLabelSizes[f],g),c(n,t.pointLabels[f]||"",g,p.size)}}}(t)}}});r.registerScaleType("radialLinear",f,n)}},function(t,e,n){"use strict";var i=n(0);i="function"==typeof i?i:window.moment;var o=n(3),r=n(1),a=n(10),s=n(6),l=Number.MIN_SAFE_INTEGER||-9007199254740991,u=Number.MAX_SAFE_INTEGER||9007199254740991,d={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},c=Object.keys(d);function h(t,e){return t-e}function p(t){var e,n,i,o={},r=[];for(e=0,n=t.length;e<n;++e)o[i=t[e]]||(o[i]=!0,r.push(i));return r}function f(t,e,n,i){var o=function(t,e,n){for(var i,o,r,a=0,s=t.length-1;a>=0&&a<=s;){if(o=t[(i=a+s>>1)-1]||null,r=t[i],!o)return{lo:null,hi:r};if(r[e]<n)a=i+1;else{if(!(o[e]>n))return{lo:o,hi:r};s=i-1}}return{lo:r,hi:null}}(t,e,n),r=o.lo?o.hi?o.lo:t[t.length-2]:t[0],a=o.lo?o.hi?o.hi:t[t.length-1]:t[1],s=a[e]-r[e],l=s?(n-r[e])/s:0,u=(a[i]-r[i])*l;return r[i]+u}function m(t,e){var n=e.parser,o=e.parser||e.format;return"function"==typeof n?n(t):"string"==typeof t&&"string"==typeof o?i(t,o):(t instanceof i||(t=i(t)),t.isValid()?t:"function"==typeof o?o(t):t)}function g(t,e){if(r.isNullOrUndef(t))return null;var n=e.options.time,i=m(e.getRightValue(t),n);return i.isValid()?(n.round&&i.startOf(n.round),i.valueOf()):null}function _(t){for(var e=c.indexOf(t)+1,n=c.length;e<n;++e)if(d[c[e]].common)return c[e]}function y(t,e,n,o){var a,s=o.time,l=s.unit||function(t,e,n,i){var o,r,a,s=c.length;for(o=c.indexOf(t);o<s-1;++o)if(a=(r=d[c[o]]).steps?r.steps[r.steps.length-1]:u,r.common&&Math.ceil((n-e)/(a*r.size))<=i)return c[o];return c[s-1]}(s.minUnit,t,e,n),h=_(l),p=r.valueOrDefault(s.stepSize,s.unitStepSize),f="week"===l&&s.isoWeekday,m=o.ticks.major.enabled,g=d[l],y=i(t),v=i(e),b=[];for(p||(p=function(t,e,n,i){var o,r,a,s=e-t,l=d[n],u=l.size,c=l.steps;if(!c)return Math.ceil(s/(i*u));for(o=0,r=c.length;o<r&&(a=c[o],!(Math.ceil(s/(u*a))<=i));++o);return a}(t,e,l,n)),f&&(y=y.isoWeekday(f),v=v.isoWeekday(f)),y=y.startOf(f?"day":l),(v=v.startOf(f?"day":l))<e&&v.add(1,l),a=i(y),m&&h&&!f&&!s.round&&(a.startOf(h),a.add(~~((y-a)/(g.size*p))*p,l));a<v;a.add(p,l))b.push(+a);return b.push(+a),b}t.exports=function(){var t=a.extend({initialize:function(){if(!i)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),a.prototype.initialize.call(this)},update:function(){var t=this,e=t.options;return e.time&&e.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),a.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),a.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,n,o,a,s,d=this,c=d.chart,f=d.options.time,m=f.unit||"day",_=u,y=l,v=[],b=[],w=[];for(t=0,n=c.data.labels.length;t<n;++t)w.push(g(c.data.labels[t],d));for(t=0,n=(c.data.datasets||[]).length;t<n;++t)if(c.isDatasetVisible(t))if(a=c.data.datasets[t].data,r.isObject(a[0]))for(b[t]=[],e=0,o=a.length;e<o;++e)s=g(a[e],d),v.push(s),b[t][e]=s;else v.push.apply(v,w),b[t]=w.slice(0);else b[t]=[];w.length&&(w=p(w).sort(h),_=Math.min(_,w[0]),y=Math.max(y,w[w.length-1])),v.length&&(v=p(v).sort(h),_=Math.min(_,v[0]),y=Math.max(y,v[v.length-1])),_=g(f.min,d)||_,y=g(f.max,d)||y,_=_===u?+i().startOf(m):_,y=y===l?+i().endOf(m)+1:y,d.min=Math.min(_,y),d.max=Math.max(_+1,y),d._horizontal=d.isHorizontal(),d._table=[],d._timestamps={data:v,datasets:b,labels:w}},buildTicks:function(){var t,e,n,o=this,r=o.min,a=o.max,s=o.options,l=s.time,u=[],h=[];switch(s.ticks.source){case"data":u=o._timestamps.data;break;case"labels":u=o._timestamps.labels;break;case"auto":default:u=y(r,a,o.getLabelCapacity(r),s)}for("ticks"===s.bounds&&u.length&&(r=u[0],a=u[u.length-1]),r=g(l.min,o)||r,a=g(l.max,o)||a,t=0,e=u.length;t<e;++t)(n=u[t])>=r&&n<=a&&h.push(n);return o.min=r,o.max=a,o._unit=l.unit||function(t,e,n,o){var r,a,s=i.duration(i(o).diff(i(n)));for(r=c.length-1;r>=c.indexOf(e);r--)if(a=c[r],d[a].common&&s.as(a)>=t.length)return a;return c[e?c.indexOf(e):0]}(h,l.minUnit,o.min,o.max),o._majorUnit=_(o._unit),o._table=function(t,e,n,i){if("linear"===i||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var o,r,a,s,l,u=[],d=[e];for(o=0,r=t.length;o<r;++o)(s=t[o])>e&&s<n&&d.push(s);for(d.push(n),o=0,r=d.length;o<r;++o)l=d[o+1],a=d[o-1],s=d[o],void 0!==a&&void 0!==l&&Math.round((l+a)/2)===s||u.push({time:s,pos:o/(r-1)});return u}(o._timestamps.data,r,a,s.distribution),o._offsets=function(t,e,n,i,o){var r,a,s=0,l=0;return o.offset&&e.length&&(o.time.min||(r=e.length>1?e[1]:i,a=e[0],s=(f(t,"time",r,"pos")-f(t,"time",a,"pos"))/2),o.time.max||(r=e[e.length-1],a=e.length>1?e[e.length-2]:n,l=(f(t,"time",r,"pos")-f(t,"time",a,"pos"))/2)),{left:s,right:l}}(o._table,h,r,a,s),o._labelFormat=function(t,e){var n,i,o,r=t.length;for(n=0;n<r;n++){if(0!==(i=m(t[n],e)).millisecond())return"MMM D, YYYY h:mm:ss.SSS a";0===i.second()&&0===i.minute()&&0===i.hour()||(o=!0)}return o?"MMM D, YYYY h:mm:ss a":"MMM D, YYYY"}(o._timestamps.data,l),function(t,e){var n,o,r,a,s=[];for(n=0,o=t.length;n<o;++n)r=t[n],a=!!e&&r===+i(r).startOf(e),s.push({value:r,major:a});return s}(h,o._majorUnit)},getLabelForIndex:function(t,e){var n=this.chart.data,i=this.options.time,o=n.labels&&t<n.labels.length?n.labels[t]:"",a=n.datasets[e].data[t];return r.isObject(a)&&(o=this.getRightValue(a)),i.tooltipFormat?m(o,i).format(i.tooltipFormat):"string"==typeof o?o:m(o,i).format(this._labelFormat)},tickFormatFunction:function(t,e,n,i){var o=this.options,a=t.valueOf(),s=o.time.displayFormats,l=s[this._unit],u=this._majorUnit,d=s[u],c=t.clone().startOf(u).valueOf(),h=o.ticks.major,p=h.enabled&&u&&d&&a===c,f=t.format(i||(p?d:l)),m=p?h:o.ticks.minor,g=r.valueOrDefault(m.callback,m.userCallback);return g?g(f,e,n):f},convertTicksToLabels:function(t){var e,n,o=[];for(e=0,n=t.length;e<n;++e)o.push(this.tickFormatFunction(i(t[e].value),e,t));return o},getPixelForOffset:function(t){var e=this,n=e._horizontal?e.width:e.height,i=e._horizontal?e.left:e.top,o=f(e._table,"time",t,"pos");return i+n*(e._offsets.left+o)/(e._offsets.left+1+e._offsets.right)},getPixelForValue:function(t,e,n){var i=null;if(void 0!==e&&void 0!==n&&(i=this._timestamps.datasets[n][e]),null===i&&(i=g(t,this)),null!==i)return this.getPixelForOffset(i)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,n=e._horizontal?e.width:e.height,o=e._horizontal?e.left:e.top,r=(n?(t-o)/n:0)*(e._offsets.left+1+e._offsets.left)-e._offsets.right,a=f(e._table,"pos",r,"time");return i(a)},getLabelWidth:function(t){var e=this.options.ticks,n=this.ctx.measureText(t).width,i=r.toRadians(e.maxRotation),a=Math.cos(i),s=Math.sin(i);return n*a+r.valueOrDefault(e.fontSize,o.global.defaultFontSize)*s},getLabelCapacity:function(t){var e=this,n=e.options.time.displayFormats.millisecond,o=e.tickFormatFunction(i(t),0,[],n),r=e.getLabelWidth(o),a=e.isHorizontal()?e.width:e.height,s=Math.floor(a/r);return s>0?s:1}});s.registerScaleType("time",t,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var i={"./af":23,"./af.js":23,"./ar":24,"./ar-dz":25,"./ar-dz.js":25,"./ar-kw":26,"./ar-kw.js":26,"./ar-ly":27,"./ar-ly.js":27,"./ar-ma":28,"./ar-ma.js":28,"./ar-sa":29,"./ar-sa.js":29,"./ar-tn":30,"./ar-tn.js":30,"./ar.js":24,"./az":31,"./az.js":31,"./be":32,"./be.js":32,"./bg":33,"./bg.js":33,"./bm":34,"./bm.js":34,"./bn":35,"./bn.js":35,"./bo":36,"./bo.js":36,"./br":37,"./br.js":37,"./bs":38,"./bs.js":38,"./ca":39,"./ca.js":39,"./cs":40,"./cs.js":40,"./cv":41,"./cv.js":41,"./cy":42,"./cy.js":42,"./da":43,"./da.js":43,"./de":44,"./de-at":45,"./de-at.js":45,"./de-ch":46,"./de-ch.js":46,"./de.js":44,"./dv":47,"./dv.js":47,"./el":48,"./el.js":48,"./en-au":49,"./en-au.js":49,"./en-ca":50,"./en-ca.js":50,"./en-gb":51,"./en-gb.js":51,"./en-ie":52,"./en-ie.js":52,"./en-il":53,"./en-il.js":53,"./en-nz":54,"./en-nz.js":54,"./eo":55,"./eo.js":55,"./es":56,"./es-do":57,"./es-do.js":57,"./es-us":58,"./es-us.js":58,"./es.js":56,"./et":59,"./et.js":59,"./eu":60,"./eu.js":60,"./fa":61,"./fa.js":61,"./fi":62,"./fi.js":62,"./fo":63,"./fo.js":63,"./fr":64,"./fr-ca":65,"./fr-ca.js":65,"./fr-ch":66,"./fr-ch.js":66,"./fr.js":64,"./fy":67,"./fy.js":67,"./gd":68,"./gd.js":68,"./gl":69,"./gl.js":69,"./gom-latn":70,"./gom-latn.js":70,"./gu":71,"./gu.js":71,"./he":72,"./he.js":72,"./hi":73,"./hi.js":73,"./hr":74,"./hr.js":74,"./hu":75,"./hu.js":75,"./hy-am":76,"./hy-am.js":76,"./id":77,"./id.js":77,"./is":78,"./is.js":78,"./it":79,"./it.js":79,"./ja":80,"./ja.js":80,"./jv":81,"./jv.js":81,"./ka":82,"./ka.js":82,"./kk":83,"./kk.js":83,"./km":84,"./km.js":84,"./kn":85,"./kn.js":85,"./ko":86,"./ko.js":86,"./ky":87,"./ky.js":87,"./lb":88,"./lb.js":88,"./lo":89,"./lo.js":89,"./lt":90,"./lt.js":90,"./lv":91,"./lv.js":91,"./me":92,"./me.js":92,"./mi":93,"./mi.js":93,"./mk":94,"./mk.js":94,"./ml":95,"./ml.js":95,"./mn":96,"./mn.js":96,"./mr":97,"./mr.js":97,"./ms":98,"./ms-my":99,"./ms-my.js":99,"./ms.js":98,"./mt":100,"./mt.js":100,"./my":101,"./my.js":101,"./nb":102,"./nb.js":102,"./ne":103,"./ne.js":103,"./nl":104,"./nl-be":105,"./nl-be.js":105,"./nl.js":104,"./nn":106,"./nn.js":106,"./pa-in":107,"./pa-in.js":107,"./pl":108,"./pl.js":108,"./pt":109,"./pt-br":110,"./pt-br.js":110,"./pt.js":109,"./ro":111,"./ro.js":111,"./ru":112,"./ru.js":112,"./sd":113,"./sd.js":113,"./se":114,"./se.js":114,"./si":115,"./si.js":115,"./sk":116,"./sk.js":116,"./sl":117,"./sl.js":117,"./sq":118,"./sq.js":118,"./sr":119,"./sr-cyrl":120,"./sr-cyrl.js":120,"./sr.js":119,"./ss":121,"./ss.js":121,"./sv":122,"./sv.js":122,"./sw":123,"./sw.js":123,"./ta":124,"./ta.js":124,"./te":125,"./te.js":125,"./tet":126,"./tet.js":126,"./tg":127,"./tg.js":127,"./th":128,"./th.js":128,"./tl-ph":129,"./tl-ph.js":129,"./tlh":130,"./tlh.js":130,"./tr":131,"./tr.js":131,"./tzl":132,"./tzl.js":132,"./tzm":133,"./tzm-latn":134,"./tzm-latn.js":134,"./tzm.js":133,"./ug-cn":135,"./ug-cn.js":135,"./uk":136,"./uk.js":136,"./ur":137,"./ur.js":137,"./uz":138,"./uz-latn":139,"./uz-latn.js":139,"./uz.js":138,"./vi":140,"./vi.js":140,"./x-pseudo":141,"./x-pseudo.js":141,"./yo":142,"./yo.js":142,"./zh-cn":143,"./zh-cn.js":143,"./zh-hk":144,"./zh-hk.js":144,"./zh-tw":145,"./zh-tw.js":145};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id=195},function(t,e,n){"use strict";var i=n(3),o=n(7),r=n(1);i._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),i._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(t,e){var n="";return t.length>0&&(t[0].yLabel?n=t[0].yLabel:e.labels.length>0&&t[0].index<e.labels.length&&(n=e.labels[t[0].index])),n},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": "+t.xLabel}},mode:"index",axis:"y"}}),t.exports=function(t){t.controllers.bar=t.DatasetController.extend({dataElementType:o.Rectangle,initialize:function(){var e,n=this;t.DatasetController.prototype.initialize.apply(n,arguments),(e=n.getMeta()).stack=n.getDataset().stack,e.bar=!0},update:function(t){var e,n,i=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,n=i.length;e<n;++e)this.updateElement(i[e],e,t)},updateElement:function(t,e,n){var i=this,o=i.chart,a=i.getMeta(),s=i.getDataset(),l=t.custom||{},u=o.options.elements.rectangle;t._xScale=i.getScaleForId(a.xAxisID),t._yScale=i.getScaleForId(a.yAxisID),t._datasetIndex=i.index,t._index=e,t._model={datasetLabel:s.label,label:o.data.labels[e],borderSkipped:l.borderSkipped?l.borderSkipped:u.borderSkipped,backgroundColor:l.backgroundColor?l.backgroundColor:r.valueAtIndexOrDefault(s.backgroundColor,e,u.backgroundColor),borderColor:l.borderColor?l.borderColor:r.valueAtIndexOrDefault(s.borderColor,e,u.borderColor),borderWidth:l.borderWidth?l.borderWidth:r.valueAtIndexOrDefault(s.borderWidth,e,u.borderWidth)},i.updateElementGeometry(t,e,n),t.pivot()},updateElementGeometry:function(t,e,n){var i=this,o=t._model,r=i.getValueScale(),a=r.getBasePixel(),s=r.isHorizontal(),l=i._ruler||i.getRuler(),u=i.calculateBarValuePixels(i.index,e),d=i.calculateBarIndexPixels(i.index,e,l);o.horizontal=s,o.base=n?a:u.base,o.x=s?n?a:u.head:d.center,o.y=s?d.center:n?a:u.head,o.height=s?d.size:void 0,o.width=s?void 0:d.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},_getStacks:function(t){var e,n,i=this.chart,o=this.getIndexScale().options.stacked,r=void 0===t?i.data.datasets.length:t+1,a=[];for(e=0;e<r;++e)(n=i.getDatasetMeta(e)).bar&&i.isDatasetVisible(e)&&(!1===o||!0===o&&-1===a.indexOf(n.stack)||void 0===o&&(void 0===n.stack||-1===a.indexOf(n.stack)))&&a.push(n.stack);return a},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var n=this._getStacks(t),i=void 0!==e?n.indexOf(e):-1;return-1===i?n.length-1:i},getRuler:function(){var t,e,n=this.getIndexScale(),i=this.getStackCount(),o=this.index,a=n.isHorizontal(),s=a?n.left:n.top,l=s+(a?n.width:n.height),u=[];for(t=0,e=this.getMeta().data.length;t<e;++t)u.push(n.getPixelForValue(null,t,o));return{min:r.isNullOrUndef(n.options.barThickness)?function(t,e){var n,i,o,r,a=t.isHorizontal()?t.width:t.height,s=t.getTicks();for(o=1,r=e.length;o<r;++o)a=Math.min(a,e[o]-e[o-1]);for(o=0,r=s.length;o<r;++o)i=t.getPixelForTick(o),a=o>0?Math.min(a,i-n):a,n=i;return a}(n,u):-1,pixels:u,start:s,end:l,stackCount:i,scale:n}},calculateBarValuePixels:function(t,e){var n,i,o,r,a,s,l=this.chart,u=this.getMeta(),d=this.getValueScale(),c=l.data.datasets,h=d.getRightValue(c[t].data[e]),p=d.options.stacked,f=u.stack,m=0;if(p||void 0===p&&void 0!==f)for(n=0;n<t;++n)(i=l.getDatasetMeta(n)).bar&&i.stack===f&&i.controller.getValueScaleId()===d.id&&l.isDatasetVisible(n)&&(o=d.getRightValue(c[n].data[e]),(h<0&&o<0||h>=0&&o>0)&&(m+=o));return r=d.getPixelForValue(m),{size:s=((a=d.getPixelForValue(m+h))-r)/2,base:r,head:a,center:a+s/2}},calculateBarIndexPixels:function(t,e,n){var i=n.scale.options,o="flex"===i.barThickness?function(t,e,n){var i,o=e.pixels,r=o[t],a=t>0?o[t-1]:null,s=t<o.length-1?o[t+1]:null,l=n.categoryPercentage;return null===a&&(a=r-(null===s?e.end-r:s-r)),null===s&&(s=r+r-a),i=r-(r-a)/2*l,{chunk:(s-a)/2*l/e.stackCount,ratio:n.barPercentage,start:i}}(e,n,i):function(t,e,n){var i,o,a=n.barThickness,s=e.stackCount,l=e.pixels[t];return r.isNullOrUndef(a)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=a*s,o=1),{chunk:i/s,ratio:o,start:l-i/2}}(e,n,i),a=this.getStackIndex(t,this.getMeta().stack),s=o.start+o.chunk*a+o.chunk/2,l=Math.min(r.valueOrDefault(i.maxBarThickness,1/0),o.chunk*o.ratio);return{base:s-l/2,head:s+l/2,center:s,size:l}},draw:function(){var t=this.chart,e=this.getValueScale(),n=this.getMeta().data,i=this.getDataset(),o=n.length,a=0;for(r.canvas.clipArea(t.ctx,t.chartArea);a<o;++a)isNaN(e.getRightValue(i.data[a]))||n[a].draw();r.canvas.unclipArea(t.ctx)}}),t.controllers.horizontalBar=t.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},function(t,e,n){"use strict";var i=n(3),o=n(7),r=n(1);i._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return n+": ("+t.xLabel+", "+t.yLabel+", "+i.r+")"}}}}),t.exports=function(t){t.controllers.bubble=t.DatasetController.extend({dataElementType:o.Point,update:function(t){var e=this,n=e.getMeta().data;r.each(n,function(n,i){e.updateElement(n,i,t)})},updateElement:function(t,e,n){var i=this,o=i.getMeta(),r=t.custom||{},a=i.getScaleForId(o.xAxisID),s=i.getScaleForId(o.yAxisID),l=i._resolveElementOptions(t,e),u=i.getDataset().data[e],d=i.index,c=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof u?u:NaN,e,d),h=n?s.getBasePixel():s.getPixelForValue(u,e,d);t._xScale=a,t._yScale=s,t._options=l,t._datasetIndex=d,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:r.skip||isNaN(c)||isNaN(h),x:c,y:h},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=r.valueOrDefault(n.hoverBackgroundColor,r.getHoverColor(n.backgroundColor)),e.borderColor=r.valueOrDefault(n.hoverBorderColor,r.getHoverColor(n.borderColor)),e.borderWidth=r.valueOrDefault(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},_resolveElementOptions:function(t,e){var n,i,o,a=this.chart,s=a.data.datasets[this.index],l=t.custom||{},u=a.options.elements.point,d=r.options.resolve,c=s.data[e],h={},p={chart:a,dataIndex:e,dataset:s,datasetIndex:this.index},f=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(n=0,i=f.length;n<i;++n)h[o=f[n]]=d([l[o],s[o],u[o]],p,e);return h.radius=d([l.radius,c?c.r:void 0,s.radius,u.radius],p,e),h}})}},function(t,e,n){"use strict";var i=n(3),o=n(7),r=n(1);i._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,o=n.labels;if(i.length)for(var r=0;r<i[0].data.length;++r)e.push('<li><span style="background-color:'+i[0].backgroundColor[r]+'"></span>'),o[r]&&e.push(o[r]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,i){var o=t.getDatasetMeta(0),a=e.datasets[0],s=o.data[i],l=s&&s.custom||{},u=r.valueAtIndexOrDefault,d=t.options.elements.arc;return{text:n,fillStyle:l.backgroundColor?l.backgroundColor:u(a.backgroundColor,i,d.backgroundColor),strokeStyle:l.borderColor?l.borderColor:u(a.borderColor,i,d.borderColor),lineWidth:l.borderWidth?l.borderWidth:u(a.borderWidth,i,d.borderWidth),hidden:isNaN(a.data[i])||o.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,i,o,r=e.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(o=a.getDatasetMeta(n)).data[r]&&(o.data[r].hidden=!o.data[r].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],i=": "+e.datasets[t.datasetIndex].data[t.index];return r.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}}),i._set("pie",r.clone(i.doughnut)),i._set("pie",{cutoutPercentage:0}),t.exports=function(t){t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:o.Arc,linkScales:r.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e=this,n=e.chart,i=n.chartArea,o=n.options,a=o.elements.arc,s=i.right-i.left-a.borderWidth,l=i.bottom-i.top-a.borderWidth,u=Math.min(s,l),d={x:0,y:0},c=e.getMeta(),h=o.cutoutPercentage,p=o.circumference;if(p<2*Math.PI){var f=o.rotation%(2*Math.PI),m=(f+=2*Math.PI*(f>=Math.PI?-1:f<-Math.PI?1:0))+p,g={x:Math.cos(f),y:Math.sin(f)},_={x:Math.cos(m),y:Math.sin(m)},y=f<=0&&m>=0||f<=2*Math.PI&&2*Math.PI<=m,v=f<=.5*Math.PI&&.5*Math.PI<=m||f<=2.5*Math.PI&&2.5*Math.PI<=m,b=f<=-Math.PI&&-Math.PI<=m||f<=Math.PI&&Math.PI<=m,w=f<=.5*-Math.PI&&.5*-Math.PI<=m||f<=1.5*Math.PI&&1.5*Math.PI<=m,M=h/100,x={x:b?-1:Math.min(g.x*(g.x<0?1:M),_.x*(_.x<0?1:M)),y:w?-1:Math.min(g.y*(g.y<0?1:M),_.y*(_.y<0?1:M))},L={x:y?1:Math.max(g.x*(g.x>0?1:M),_.x*(_.x>0?1:M)),y:v?1:Math.max(g.y*(g.y>0?1:M),_.y*(_.y>0?1:M))},k={width:.5*(L.x-x.x),height:.5*(L.y-x.y)};u=Math.min(s/k.width,l/k.height),d={x:-.5*(L.x+x.x),y:-.5*(L.y+x.y)}}n.borderWidth=e.getMaxBorderWidth(c.data),n.outerRadius=Math.max((u-n.borderWidth)/2,0),n.innerRadius=Math.max(h?n.outerRadius/100*h:0,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),n.offsetX=d.x*n.outerRadius,n.offsetY=d.y*n.outerRadius,c.total=e.calculateTotal(),e.outerRadius=n.outerRadius-n.radiusLength*e.getRingIndex(e.index),e.innerRadius=Math.max(e.outerRadius-n.radiusLength,0),r.each(c.data,function(n,i){e.updateElement(n,i,t)})},updateElement:function(t,e,n){var i=this,o=i.chart,a=o.chartArea,s=o.options,l=s.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,c=s.rotation,h=s.rotation,p=i.getDataset(),f=n&&l.animateRotate?0:t.hidden?0:i.calculateCircumference(p.data[e])*(s.circumference/(2*Math.PI)),m=n&&l.animateScale?0:i.innerRadius,g=n&&l.animateScale?0:i.outerRadius,_=r.valueAtIndexOrDefault;r.extend(t,{_datasetIndex:i.index,_index:e,_model:{x:u+o.offsetX,y:d+o.offsetY,startAngle:c,endAngle:h,circumference:f,outerRadius:g,innerRadius:m,label:_(p.label,e,o.data.labels[e])}});var y=t._model,v=t.custom||{},b=r.valueAtIndexOrDefault,w=this.chart.options.elements.arc;y.backgroundColor=v.backgroundColor?v.backgroundColor:b(p.backgroundColor,e,w.backgroundColor),y.borderColor=v.borderColor?v.borderColor:b(p.borderColor,e,w.borderColor),y.borderWidth=v.borderWidth?v.borderWidth:b(p.borderWidth,e,w.borderWidth),n&&l.animateRotate||(y.startAngle=0===e?s.rotation:i.getMeta().data[e-1]._model.endAngle,y.endAngle=y.startAngle+y.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),n=this.getMeta(),i=0;return r.each(n.data,function(n,o){t=e.data[o],isNaN(t)||n.hidden||(i+=Math.abs(t))}),i},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){for(var e,n,i=0,o=this.index,r=t.length,a=0;a<r;a++)e=t[a]._model?t[a]._model.borderWidth:0,i=(n=t[a]._chart?t[a]._chart.config.data.datasets[o].hoverBorderWidth:0)>(i=e>i?e:i)?n:i;return i}})}},function(t,e,n){"use strict";var i=n(3),o=n(7),r=n(1);i._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),t.exports=function(t){function e(t,e){return r.valueOrDefault(t.showLine,e.showLines)}t.controllers.line=t.DatasetController.extend({datasetElementType:o.Line,dataElementType:o.Point,update:function(t){var n,i,o,a=this,s=a.getMeta(),l=s.dataset,u=s.data||[],d=a.chart.options,c=d.elements.line,h=a.getScaleForId(s.yAxisID),p=a.getDataset(),f=e(p,d);for(f&&(o=l.custom||{},void 0!==p.tension&&void 0===p.lineTension&&(p.lineTension=p.tension),l._scale=h,l._datasetIndex=a.index,l._children=u,l._model={spanGaps:p.spanGaps?p.spanGaps:d.spanGaps,tension:o.tension?o.tension:r.valueOrDefault(p.lineTension,c.tension),backgroundColor:o.backgroundColor?o.backgroundColor:p.backgroundColor||c.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:p.borderWidth||c.borderWidth,borderColor:o.borderColor?o.borderColor:p.borderColor||c.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:p.borderCapStyle||c.borderCapStyle,borderDash:o.borderDash?o.borderDash:p.borderDash||c.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:p.borderDashOffset||c.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:p.borderJoinStyle||c.borderJoinStyle,fill:o.fill?o.fill:void 0!==p.fill?p.fill:c.fill,steppedLine:o.steppedLine?o.steppedLine:r.valueOrDefault(p.steppedLine,c.stepped),cubicInterpolationMode:o.cubicInterpolationMode?o.cubicInterpolationMode:r.valueOrDefault(p.cubicInterpolationMode,c.cubicInterpolationMode)},l.pivot()),n=0,i=u.length;n<i;++n)a.updateElement(u[n],n,t);for(f&&0!==l._model.tension&&a.updateBezierControlPoints(),n=0,i=u.length;n<i;++n)u[n].pivot()},getPointBackgroundColor:function(t,e){var n=this.chart.options.elements.point.backgroundColor,i=this.getDataset(),o=t.custom||{};return o.backgroundColor?n=o.backgroundColor:i.pointBackgroundColor?n=r.valueAtIndexOrDefault(i.pointBackgroundColor,e,n):i.backgroundColor&&(n=i.backgroundColor),n},getPointBorderColor:function(t,e){var n=this.chart.options.elements.point.borderColor,i=this.getDataset(),o=t.custom||{};return o.borderColor?n=o.borderColor:i.pointBorderColor?n=r.valueAtIndexOrDefault(i.pointBorderColor,e,n):i.borderColor&&(n=i.borderColor),n},getPointBorderWidth:function(t,e){var n=this.chart.options.elements.point.borderWidth,i=this.getDataset(),o=t.custom||{};return isNaN(o.borderWidth)?!isNaN(i.pointBorderWidth)||r.isArray(i.pointBorderWidth)?n=r.valueAtIndexOrDefault(i.pointBorderWidth,e,n):isNaN(i.borderWidth)||(n=i.borderWidth):n=o.borderWidth,n},getPointRotation:function(t,e){var n=this.chart.options.elements.point.rotation,i=this.getDataset(),o=t.custom||{};return isNaN(o.rotation)?isNaN(i.pointRotation)&&!r.isArray(i.pointRotation)||(n=r.valueAtIndexOrDefault(i.pointRotation,e,n)):n=o.rotation,n},updateElement:function(t,e,n){var i,o,a=this,s=a.getMeta(),l=t.custom||{},u=a.getDataset(),d=a.index,c=u.data[e],h=a.getScaleForId(s.yAxisID),p=a.getScaleForId(s.xAxisID),f=a.chart.options.elements.point;void 0!==u.radius&&void 0===u.pointRadius&&(u.pointRadius=u.radius),void 0!==u.hitRadius&&void 0===u.pointHitRadius&&(u.pointHitRadius=u.hitRadius),i=p.getPixelForValue("object"==typeof c?c:NaN,e,d),o=n?h.getBasePixel():a.calculatePointY(c,e,d),t._xScale=p,t._yScale=h,t._datasetIndex=d,t._index=e,t._model={x:i,y:o,skip:l.skip||isNaN(i)||isNaN(o),radius:l.radius||r.valueAtIndexOrDefault(u.pointRadius,e,f.radius),pointStyle:l.pointStyle||r.valueAtIndexOrDefault(u.pointStyle,e,f.pointStyle),rotation:a.getPointRotation(t,e),backgroundColor:a.getPointBackgroundColor(t,e),borderColor:a.getPointBorderColor(t,e),borderWidth:a.getPointBorderWidth(t,e),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||r.valueAtIndexOrDefault(u.pointHitRadius,e,f.hitRadius)}},calculatePointY:function(t,e,n){var i,o,r,a=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),u=0,d=0;if(l.options.stacked){for(i=0;i<n;i++)if(o=a.data.datasets[i],"line"===(r=a.getDatasetMeta(i)).type&&r.yAxisID===l.id&&a.isDatasetVisible(i)){var c=Number(l.getRightValue(o.data[e]));c<0?d+=c||0:u+=c||0}var h=Number(l.getRightValue(t));return h<0?l.getPixelForValue(d+h):l.getPixelForValue(u+h)}return l.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,n,i,o=this.getMeta(),a=this.chart.chartArea,s=o.data||[];function l(t,e,n){return Math.max(Math.min(t,n),e)}if(o.dataset._model.spanGaps&&(s=s.filter(function(t){return!t._model.skip})),"monotone"===o.dataset._model.cubicInterpolationMode)r.splineCurveMonotone(s);else for(t=0,e=s.length;t<e;++t)n=s[t]._model,i=r.splineCurve(r.previousItem(s,t)._model,n,r.nextItem(s,t)._model,o.dataset._model.tension),n.controlPointPreviousX=i.previous.x,n.controlPointPreviousY=i.previous.y,n.controlPointNextX=i.next.x,n.controlPointNextY=i.next.y;if(this.chart.options.elements.line.capBezierPoints)for(t=0,e=s.length;t<e;++t)(n=s[t]._model).controlPointPreviousX=l(n.controlPointPreviousX,a.left,a.right),n.controlPointPreviousY=l(n.controlPointPreviousY,a.top,a.bottom),n.controlPointNextX=l(n.controlPointNextX,a.left,a.right),n.controlPointNextY=l(n.controlPointNextY,a.top,a.bottom)},draw:function(){var t,n=this.chart,i=this.getMeta(),o=i.data||[],a=n.chartArea,s=o.length,l=0;for(e(this.getDataset(),n.options)&&(t=(i.dataset._model.borderWidth||0)/2,r.canvas.clipArea(n.ctx,{left:a.left,right:a.right,top:a.top-t,bottom:a.bottom+t}),i.dataset.draw(),r.canvas.unclipArea(n.ctx));l<s;++l)o[l].draw(a)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},o=t._model;t.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth,radius:o.radius},o.backgroundColor=i.hoverBackgroundColor||r.valueAtIndexOrDefault(e.pointHoverBackgroundColor,n,r.getHoverColor(o.backgroundColor)),o.borderColor=i.hoverBorderColor||r.valueAtIndexOrDefault(e.pointHoverBorderColor,n,r.getHoverColor(o.borderColor)),o.borderWidth=i.hoverBorderWidth||r.valueAtIndexOrDefault(e.pointHoverBorderWidth,n,o.borderWidth),o.radius=i.hoverRadius||r.valueAtIndexOrDefault(e.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius)}})}},function(t,e,n){"use strict";var i=n(3),o=n(7),r=n(1);i._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,i=n.datasets,o=n.labels;if(i.length)for(var r=0;r<i[0].data.length;++r)e.push('<li><span style="background-color:'+i[0].backgroundColor[r]+'"></span>'),o[r]&&e.push(o[r]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,i){var o=t.getDatasetMeta(0),a=e.datasets[0],s=o.data[i].custom||{},l=r.valueAtIndexOrDefault,u=t.options.elements.arc;return{text:n,fillStyle:s.backgroundColor?s.backgroundColor:l(a.backgroundColor,i,u.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(a.borderColor,i,u.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(a.borderWidth,i,u.borderWidth),hidden:isNaN(a.data[i])||o.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,i,o,r=e.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(o=a.getDatasetMeta(n)).data[r].hidden=!o.data[r].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}}),t.exports=function(t){t.controllers.polarArea=t.DatasetController.extend({dataElementType:o.Arc,linkScales:r.noop,update:function(t){var e,n,i,o=this,a=o.getDataset(),s=o.getMeta(),l=o.chart.options.startAngle||0,u=o._starts=[],d=o._angles=[];for(o._updateRadius(),s.count=o.countVisibleElements(),e=0,n=a.data.length;e<n;e++)u[e]=l,i=o._computeAngle(e),d[e]=i,l+=i;r.each(s.data,function(e,n){o.updateElement(e,n,t)})},_updateRadius:function(){var t=this,e=t.chart,n=e.chartArea,i=e.options,o=i.elements.arc,r=Math.min(n.right-n.left,n.bottom-n.top);e.outerRadius=Math.max((r-o.borderWidth/2)/2,0),e.innerRadius=Math.max(i.cutoutPercentage?e.outerRadius/100*i.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,n){var i=this,o=i.chart,a=i.getDataset(),s=o.options,l=s.animation,u=o.scale,d=o.data.labels,c=u.xCenter,h=u.yCenter,p=s.startAngle,f=t.hidden?0:u.getDistanceFromCenterForValue(a.data[e]),m=i._starts[e],g=m+(t.hidden?0:i._angles[e]),_=l.animateScale?0:u.getDistanceFromCenterForValue(a.data[e]);r.extend(t,{_datasetIndex:i.index,_index:e,_scale:u,_model:{x:c,y:h,innerRadius:0,outerRadius:n?_:f,startAngle:n&&l.animateRotate?p:m,endAngle:n&&l.animateRotate?p:g,label:r.valueAtIndexOrDefault(d,e,d[e])}});var y=this.chart.options.elements.arc,v=t.custom||{},b=r.valueAtIndexOrDefault,w=t._model;w.backgroundColor=v.backgroundColor?v.backgroundColor:b(a.backgroundColor,e,y.backgroundColor),w.borderColor=v.borderColor?v.borderColor:b(a.borderColor,e,y.borderColor),w.borderWidth=v.borderWidth?v.borderWidth:b(a.borderWidth,e,y.borderWidth),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),n=0;return r.each(e.data,function(e,i){isNaN(t.data[i])||e.hidden||n++}),n},_computeAngle:function(t){var e=this,n=this.getMeta().count,i=e.getDataset(),o=e.getMeta();if(isNaN(i.data[t])||o.data[t].hidden)return 0;var a={chart:e.chart,dataIndex:t,dataset:i,datasetIndex:e.index};return r.options.resolve([e.chart.options.elements.arc.angle,2*Math.PI/n],a,t)}})}},function(t,e,n){"use strict";var i=n(3),o=n(7),r=n(1);i._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),t.exports=function(t){t.controllers.radar=t.DatasetController.extend({datasetElementType:o.Line,dataElementType:o.Point,linkScales:r.noop,update:function(t){var e=this,n=e.getMeta(),i=n.dataset,o=n.data,a=i.custom||{},s=e.getDataset(),l=e.chart.options.elements.line,u=e.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),r.extend(n.dataset,{_datasetIndex:e.index,_scale:u,_children:o,_loop:!0,_model:{tension:a.tension?a.tension:r.valueOrDefault(s.lineTension,l.tension),backgroundColor:a.backgroundColor?a.backgroundColor:s.backgroundColor||l.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:s.borderWidth||l.borderWidth,borderColor:a.borderColor?a.borderColor:s.borderColor||l.borderColor,fill:a.fill?a.fill:void 0!==s.fill?s.fill:l.fill,borderCapStyle:a.borderCapStyle?a.borderCapStyle:s.borderCapStyle||l.borderCapStyle,borderDash:a.borderDash?a.borderDash:s.borderDash||l.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:s.borderDashOffset||l.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:s.borderJoinStyle||l.borderJoinStyle}}),n.dataset.pivot(),r.each(o,function(n,i){e.updateElement(n,i,t)},e),e.updateBezierControlPoints()},updateElement:function(t,e,n){var i=this,o=t.custom||{},a=i.getDataset(),s=i.chart.scale,l=i.chart.options.elements.point,u=s.getPointPositionForValue(e,a.data[e]);void 0!==a.radius&&void 0===a.pointRadius&&(a.pointRadius=a.radius),void 0!==a.hitRadius&&void 0===a.pointHitRadius&&(a.pointHitRadius=a.hitRadius),r.extend(t,{_datasetIndex:i.index,_index:e,_scale:s,_model:{x:n?s.xCenter:u.x,y:n?s.yCenter:u.y,tension:o.tension?o.tension:r.valueOrDefault(a.lineTension,i.chart.options.elements.line.tension),radius:o.radius?o.radius:r.valueAtIndexOrDefault(a.pointRadius,e,l.radius),backgroundColor:o.backgroundColor?o.backgroundColor:r.valueAtIndexOrDefault(a.pointBackgroundColor,e,l.backgroundColor),borderColor:o.borderColor?o.borderColor:r.valueAtIndexOrDefault(a.pointBorderColor,e,l.borderColor),borderWidth:o.borderWidth?o.borderWidth:r.valueAtIndexOrDefault(a.pointBorderWidth,e,l.borderWidth),pointStyle:o.pointStyle?o.pointStyle:r.valueAtIndexOrDefault(a.pointStyle,e,l.pointStyle),rotation:o.rotation?o.rotation:r.valueAtIndexOrDefault(a.pointRotation,e,l.rotation),hitRadius:o.hitRadius?o.hitRadius:r.valueAtIndexOrDefault(a.pointHitRadius,e,l.hitRadius)}}),t._model.skip=o.skip?o.skip:isNaN(t._model.x)||isNaN(t._model.y)},updateBezierControlPoints:function(){var t=this.chart.chartArea,e=this.getMeta();r.each(e.data,function(n,i){var o=n._model,a=r.splineCurve(r.previousItem(e.data,i,!0)._model,o,r.nextItem(e.data,i,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(a.previous.x,t.right),t.left),o.controlPointPreviousY=Math.max(Math.min(a.previous.y,t.bottom),t.top),o.controlPointNextX=Math.max(Math.min(a.next.x,t.right),t.left),o.controlPointNextY=Math.max(Math.min(a.next.y,t.bottom),t.top),n.pivot()})},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t.custom||{},i=t._index,o=t._model;t.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth,radius:o.radius},o.radius=n.hoverRadius?n.hoverRadius:r.valueAtIndexOrDefault(e.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),o.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:r.valueAtIndexOrDefault(e.pointHoverBackgroundColor,i,r.getHoverColor(o.backgroundColor)),o.borderColor=n.hoverBorderColor?n.hoverBorderColor:r.valueAtIndexOrDefault(e.pointHoverBorderColor,i,r.getHoverColor(o.borderColor)),o.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:r.valueAtIndexOrDefault(e.pointHoverBorderWidth,i,o.borderWidth)}})}},function(t,e,n){"use strict";n(3)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),t.exports=function(t){t.controllers.scatter=t.controllers.line}},function(t,e,n){"use strict";t.exports=function(t){t.Bar=function(e,n){return n.type="bar",new t(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){t.Bubble=function(e,n){return n.type="bubble",new t(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){t.Doughnut=function(e,n){return n.type="doughnut",new t(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){t.Line=function(e,n){return n.type="line",new t(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){t.PolarArea=function(e,n){return n.type="polarArea",new t(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){t.Radar=function(e,n){return n.type="radar",new t(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){t.Scatter=function(e,n){return n.type="scatter",new t(e,n)}}},function(t,e,n){"use strict";t.exports={},t.exports.filler=n(211),t.exports.legend=n(212),t.exports.title=n(213)},function(t,e,n){"use strict";var i=n(3),o=n(7),r=n(1);i._set("global",{plugins:{filler:{propagate:!0}}});var a={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),o=i&&n.isDatasetVisible(e)&&i.dataset._children||[],r=o.length||0;return r?function(t,e){return e<r&&o[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,i=e?e.y:null;return function(t){return{x:null===n?t.x:n,y:null===i?t.y:i}}}};function s(t,e,n){var i,o=t._model||{},r=o.fill;if(void 0===r&&(r=!!o.backgroundColor),!1===r||null===r)return!1;if(!0===r)return"origin";if(i=parseFloat(r,10),isFinite(i)&&Math.floor(i)===i)return"-"!==r[0]&&"+"!==r[0]||(i=e+i),!(i===e||i<0||i>=n)&&i;switch(r){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return r;default:return!1}}function l(t){var e,n=t.el._model||{},i=t.el._scale||{},o=t.fill,r=null;if(isFinite(o))return null;if("start"===o?r=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===o?r=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?r=n.scaleZero:i.getBasePosition?r=i.getBasePosition():i.getBasePixel&&(r=i.getBasePixel()),null!=r){if(void 0!==r.x&&void 0!==r.y)return r;if("number"==typeof r&&isFinite(r))return{x:(e=i.isHorizontal())?r:null,y:e?null:r}}return null}function u(t,e,n){var i,o=t[e].fill,r=[e];if(!n)return o;for(;!1!==o&&-1===r.indexOf(o);){if(!isFinite(o))return o;if(!(i=t[o]))return!1;if(i.visible)return o;r.push(o),o=i.fill}return!1}function d(t){var e=t.fill,n="dataset";return!1===e?null:(isFinite(e)||(n="boundary"),a[n](t))}function c(t){return t&&!t.skip}function h(t,e,n,i,o){var a;if(i&&o){for(t.moveTo(e[0].x,e[0].y),a=1;a<i;++a)r.canvas.lineTo(t,e[a-1],e[a]);for(t.lineTo(n[o-1].x,n[o-1].y),a=o-1;a>0;--a)r.canvas.lineTo(t,n[a],n[a-1],!0)}}t.exports={id:"filler",afterDatasetsUpdate:function(t,e){var n,i,r,a,c=(t.data.datasets||[]).length,h=e.propagate,p=[];for(i=0;i<c;++i)a=null,(r=(n=t.getDatasetMeta(i)).dataset)&&r._model&&r instanceof o.Line&&(a={visible:t.isDatasetVisible(i),fill:s(r,i,c),chart:t,el:r}),n.$filler=a,p.push(a);for(i=0;i<c;++i)(a=p[i])&&(a.fill=u(p,i,h),a.boundary=l(a),a.mapper=d(a))},beforeDatasetDraw:function(t,e){var n=e.meta.$filler;if(n){var o=t.ctx,a=n.el,s=a._view,l=a._children||[],u=n.mapper,d=s.backgroundColor||i.global.defaultColor;u&&d&&l.length&&(r.canvas.clipArea(o,t.chartArea),function(t,e,n,i,o,r){var a,s,l,u,d,p,f,m=e.length,g=i.spanGaps,_=[],y=[],v=0,b=0;for(t.beginPath(),a=0,s=m+!!r;a<s;++a)d=n(u=e[l=a%m]._view,l,i),p=c(u),f=c(d),p&&f?(v=_.push(u),b=y.push(d)):v&&b&&(g?(p&&_.push(u),f&&y.push(d)):(h(t,_,y,v,b),v=b=0,_=[],y=[]));h(t,_,y,v,b),t.closePath(),t.fillStyle=o,t.fill()}(o,l,u,s,d,a._loop),r.canvas.unclipArea(o))}}}},function(t,e,n){"use strict";var i=n(3),o=n(5),r=n(1),a=n(9),s=r.noop;function l(t,e){return t.usePointStyle?e*Math.SQRT2:t.boxWidth}i._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,o=i.getDatasetMeta(n);o.hidden=null===o.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data;return r.isArray(e.datasets)?e.datasets.map(function(e,n){return{text:e.label,fillStyle:r.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!t.isDatasetVisible(n),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:n}},this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}});var u=o.extend({initialize:function(t){r.extend(this,t),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:s,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:s,beforeSetDimensions:s,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:s,beforeBuildLabels:s,buildLabels:function(){var t=this,e=t.options.labels||{},n=r.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter(function(n){return e.filter(n,t.chart.data)})),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:s,beforeFit:s,fit:function(){var t=this,e=t.options,n=e.labels,o=e.display,a=t.ctx,s=i.global,u=r.valueOrDefault,d=u(n.fontSize,s.defaultFontSize),c=u(n.fontStyle,s.defaultFontStyle),h=u(n.fontFamily,s.defaultFontFamily),p=r.fontString(d,c,h),f=t.legendHitBoxes=[],m=t.minSize,g=t.isHorizontal();if(g?(m.width=t.maxWidth,m.height=o?10:0):(m.width=o?10:0,m.height=t.maxHeight),o)if(a.font=p,g){var _=t.lineWidths=[0],y=t.legendItems.length?d+n.padding:0;a.textAlign="left",a.textBaseline="top",r.each(t.legendItems,function(e,i){var o=l(n,d)+d/2+a.measureText(e.text).width;_[_.length-1]+o+n.padding>=t.width&&(y+=d+n.padding,_[_.length]=t.left),f[i]={left:0,top:0,width:o,height:d},_[_.length-1]+=o+n.padding}),m.height+=y}else{var v=n.padding,b=t.columnWidths=[],w=n.padding,M=0,x=0,L=d+v;r.each(t.legendItems,function(t,e){var i=l(n,d)+d/2+a.measureText(t.text).width;x+L>m.height&&(w+=M+n.padding,b.push(M),M=0,x=0),M=Math.max(M,i),x+=L,f[e]={left:0,top:0,width:i,height:d}}),w+=M,b.push(M),m.width+=w}t.width=m.width,t.height=m.height},afterFit:s,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,n=e.labels,o=i.global,a=o.elements.line,s=t.width,u=t.lineWidths;if(e.display){var d,c=t.ctx,h=r.valueOrDefault,p=h(n.fontColor,o.defaultFontColor),f=h(n.fontSize,o.defaultFontSize),m=h(n.fontStyle,o.defaultFontStyle),g=h(n.fontFamily,o.defaultFontFamily),_=r.fontString(f,m,g);c.textAlign="left",c.textBaseline="middle",c.lineWidth=.5,c.strokeStyle=p,c.fillStyle=p,c.font=_;var y=l(n,f),v=t.legendHitBoxes,b=t.isHorizontal();d=b?{x:t.left+(s-u[0])/2,y:t.top+n.padding,line:0}:{x:t.left+n.padding,y:t.top+n.padding,line:0};var w=f+n.padding;r.each(t.legendItems,function(i,l){var p=c.measureText(i.text).width,m=y+f/2+p,g=d.x,_=d.y;b?g+m>=s&&(_=d.y+=w,d.line++,g=d.x=t.left+(s-u[d.line])/2):_+w>t.bottom&&(g=d.x=g+t.columnWidths[d.line]+n.padding,_=d.y=t.top+n.padding,d.line++),function(t,n,i){if(!(isNaN(y)||y<=0)){c.save(),c.fillStyle=h(i.fillStyle,o.defaultColor),c.lineCap=h(i.lineCap,a.borderCapStyle),c.lineDashOffset=h(i.lineDashOffset,a.borderDashOffset),c.lineJoin=h(i.lineJoin,a.borderJoinStyle),c.lineWidth=h(i.lineWidth,a.borderWidth),c.strokeStyle=h(i.strokeStyle,o.defaultColor);var s=0===h(i.lineWidth,a.borderWidth);if(c.setLineDash&&c.setLineDash(h(i.lineDash,a.borderDash)),e.labels&&e.labels.usePointStyle){var l=f*Math.SQRT2/2,u=l/Math.SQRT2,d=t+u,p=n+u;r.canvas.drawPoint(c,i.pointStyle,l,d,p)}else s||c.strokeRect(t,n,y,f),c.fillRect(t,n,y,f);c.restore()}}(g,_,i),v[l].left=g,v[l].top=_,function(t,e,n,i){var o=f/2,r=y+o+t,a=e+o;c.fillText(n.text,r,a),n.hidden&&(c.beginPath(),c.lineWidth=2,c.moveTo(r,a),c.lineTo(r+i,a),c.stroke())}(g,_,i,p),b?d.x+=m+n.padding:d.y+=w})}},handleEvent:function(t){var e=this,n=e.options,i="mouseup"===t.type?"click":t.type,o=!1;if("mousemove"===i){if(!n.onHover)return}else{if("click"!==i)return;if(!n.onClick)return}var r=t.x,a=t.y;if(r>=e.left&&r<=e.right&&a>=e.top&&a<=e.bottom)for(var s=e.legendHitBoxes,l=0;l<s.length;++l){var u=s[l];if(r>=u.left&&r<=u.left+u.width&&a>=u.top&&a<=u.top+u.height){if("click"===i){n.onClick.call(e,t.native,e.legendItems[l]),o=!0;break}if("mousemove"===i){n.onHover.call(e,t.native,e.legendItems[l]),o=!0;break}}}return o}});function d(t,e){var n=new u({ctx:t.ctx,options:e,chart:t});a.configure(t,n,e),a.addBox(t,n),t.legend=n}t.exports={id:"legend",_element:u,beforeInit:function(t){var e=t.options.legend;e&&d(t,e)},beforeUpdate:function(t){var e=t.options.legend,n=t.legend;e?(r.mergeIf(e,i.global.legend),n?(a.configure(t,n,e),n.options=e):d(t,e)):n&&(a.removeBox(t,n),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}}},function(t,e,n){"use strict";var i=n(3),o=n(5),r=n(1),a=n(9),s=r.noop;i._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}});var l=o.extend({initialize:function(t){r.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:s,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:s,beforeSetDimensions:s,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:s,beforeBuildLabels:s,buildLabels:s,afterBuildLabels:s,beforeFit:s,fit:function(){var t=this,e=r.valueOrDefault,n=t.options,o=n.display,a=e(n.fontSize,i.global.defaultFontSize),s=t.minSize,l=r.isArray(n.text)?n.text.length:1,u=r.options.toLineHeight(n.lineHeight,a),d=o?l*u+2*n.padding:0;t.isHorizontal()?(s.width=t.maxWidth,s.height=d):(s.width=d,s.height=t.maxHeight),t.width=s.width,t.height=s.height},afterFit:s,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=r.valueOrDefault,o=t.options,a=i.global;if(o.display){var s,l,u,d=n(o.fontSize,a.defaultFontSize),c=n(o.fontStyle,a.defaultFontStyle),h=n(o.fontFamily,a.defaultFontFamily),p=r.fontString(d,c,h),f=r.options.toLineHeight(o.lineHeight,d),m=f/2+o.padding,g=0,_=t.top,y=t.left,v=t.bottom,b=t.right;e.fillStyle=n(o.fontColor,a.defaultFontColor),e.font=p,t.isHorizontal()?(l=y+(b-y)/2,u=_+m,s=b-y):(l="left"===o.position?y+m:b-m,u=_+(v-_)/2,s=v-_,g=Math.PI*("left"===o.position?-.5:.5)),e.save(),e.translate(l,u),e.rotate(g),e.textAlign="center",e.textBaseline="middle";var w=o.text;if(r.isArray(w))for(var M=0,x=0;x<w.length;++x)e.fillText(w[x],0,M,s),M+=f;else e.fillText(w,0,0,s);e.restore()}}});function u(t,e){var n=new l({ctx:t.ctx,options:e,chart:t});a.configure(t,n,e),a.addBox(t,n),t.titleBlock=n}t.exports={id:"title",_element:l,beforeInit:function(t){var e=t.options.title;e&&u(t,e)},beforeUpdate:function(t){var e=t.options.title,n=t.titleBlock;e?(r.mergeIf(e,i.global.title),n?(a.configure(t,n,e),n.options=e):u(t,e)):n&&(a.removeBox(t,n),delete t.titleBlock)}}},function(t,e,n){"use strict";n.r(e);var i=n(4),o=n(2);e.default=function(t){var e=[];return"FeatureCollection"===t.type?Object(i.featureEach)(t,function(t){Object(i.coordEach)(t,function(n){e.push(Object(o.point)(n,t.properties))})}):Object(i.coordEach)(t,function(n){e.push(Object(o.point)(n,t.properties))}),Object(o.featureCollection)(e)}},function(t,e,n){"use strict";n.r(e);var i=n(8);function o(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var o=0,r=e.length-1;o<e.length;r=o++){var a=e[o][0],s=e[o][1],l=e[r][0],u=e[r][1];if(t[1]*(a-l)+s*(l-t[0])+u*(t[0]-a)==0&&(a-t[0])*(l-t[0])<=0&&(s-t[1])*(u-t[1])<=0)return!n;s>t[1]!=u>t[1]&&t[0]<(l-a)*(t[1]-s)/(u-s)+a&&(i=!i)}return i}e.default=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var a=Object(i.a)(t),s=Object(i.b)(e),l=e.geometry?e.geometry.type:e.type,u=e.bbox;if(u&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(a,u))return!1;"Polygon"===l&&(s=[s]);for(var d=0,c=!1;d<s.length&&!c;d++)if(o(a,s[d][0],r)){for(var h=!1,p=1;p<s[d].length&&!h;)o(a,s[d][p],!r)&&(h=!0),p++;h||(c=!0)}return c}},function(t,e){e.read=function(t,e,n,i,o){var r,a,s=8*o-i-1,l=(1<<s)-1,u=l>>1,d=-7,c=n?o-1:0,h=n?-1:1,p=t[e+c];for(c+=h,r=p&(1<<-d)-1,p>>=-d,d+=s;d>0;r=256*r+t[e+c],c+=h,d-=8);for(a=r&(1<<-d)-1,r>>=-d,d+=i;d>0;a=256*a+t[e+c],c+=h,d-=8);if(0===r)r=1-u;else{if(r===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),r-=u}return(p?-1:1)*a*Math.pow(2,r-i)},e.write=function(t,e,n,i,o,r){var a,s,l,u=8*r-o-1,d=(1<<u)-1,c=d>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,f=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=d):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+c>=1?h/l:h*Math.pow(2,1-c))*l>=2&&(a++,l/=2),a+c>=d?(s=0,a=d):a+c>=1?(s=(e*l-1)*Math.pow(2,o),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,o),a=0));o>=8;t[n+p]=255&s,p+=f,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[n+p]=255&a,p+=f,a/=256,u-=8);t[n+p-f]|=128*m}},function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"svg_symbols",function(){return f}),n.d(i,"indexInParent",function(){return k}),n.d(i,"debounce",function(){return T}),n.d(i,"paramString",function(){return E}),n.d(i,"toggleExpanderParent",function(){return D}),n.d(i,"scrolly",function(){return C}),n.d(i,"copyToClipboard",function(){return S}),n.d(i,"createElement",function(){return Y}),n.d(i,"dropdown",function(){return R}),n.d(i,"dropdownCustom",function(){return O}),n.d(i,"dataURLtoBlob",function(){return P}),n.d(i,"getCircularReplacer",function(){return F}),n.d(i,"datePicker",function(){return A}),n.d(i,"formatDate",function(){return H}),n.d(i,"formatDateTime",function(){return N}),n.d(i,"meltDateStr",function(){return j}),n.d(i,"deepMerge",function(){return z}),n.d(i,"compose",function(){return et}),n.d(i,"wire",function(){return h}),n.d(i,"bind",function(){return l}),n.d(i,"chart",function(){return q}),n.d(i,"Tabulator",function(){return U}),n.d(i,"chroma",function(){return p}),n.d(i,"turf",function(){return nt});var o={};n.r(o),n.d(o,"Circle",function(){return Nc}),n.d(o,"Geometry",function(){return Eo}),n.d(o,"GeometryCollection",function(){return Br}),n.d(o,"LineString",function(){return ir}),n.d(o,"MultiLineString",function(){return rr}),n.d(o,"MultiPoint",function(){return ur}),n.d(o,"MultiPolygon",function(){return Er}),n.d(o,"Point",function(){return sr}),n.d(o,"Polygon",function(){return xr});var r=()=>({version:"XYZ v2.0.x",release:"https://github.com/GEOLYTIX/xyz/releases/tag/v1.6.1",gazetteer:{},host:null,hooks:null,layers:{},locations:{},log:null,map:null,nanoid:null,style:{defaults:{vertex:{pane:"drawing_vertex",stroke:!0,color:"darkgrey",fillColor:"steelblue",fillOpacity:.9,weight:1,radius:6},trail:{pane:"drawing_trail",stroke:!0,color:"#666",dashArray:"5 5",weight:1},path:{pane:"drawing",stroke:!0,color:"#666",fill:!0,fillColor:"#cf9",weight:1},path_line:{pane:"drawing",stroke:!0,color:"#666",weight:2},point:{pane:"drawing",stroke:!0,color:"darkgrey",fillColor:"steelblue",weight:2,radius:8},colours:[{hex:"#c62828",name:"Fire Engine Red"},{hex:"#f50057",name:"Folly"},{hex:"#9c27b0",name:"Dark Orchid"},{hex:"#673ab7",name:"Plump Purple"},{hex:"#3f51b5",name:"Violet Blue"},{hex:"#2196f3",name:"Dodger Blue"},{hex:"#03a9f4",name:"Vivid Cerulean"},{hex:"#00bcd4",name:"Turquoise Surf"},{hex:"#009688",name:"Dark Cyan"},{hex:"#4caf50",name:"Middle Green"},{hex:"#8bc34a",name:"Dollar Bill"},{hex:"#cddc39",name:"Pear"},{hex:"#ffeb3b",name:"Banana Yellow"},{hex:"#ffb300",name:"UCLA Gold"},{hex:"#fb8c00",name:"Dark Orange"},{hex:"#f4511e",name:"Orioles Orange"},{hex:"#8d6e63",name:"Dark Chestnut"},{hex:"#777777",name:"Sonic Silver"},{hex:"#bdbdbd",name:"X11 Gray"},{hex:"#aaaaaa",name:"Dark Medium Gray"},{hex:"#78909c",name:"Light Slate Gray"}]}},tableview:{},mapview:{},token:null,utils:{},workspace:{}}),a=function(t){function e(){return this}function n(t){return t.join(U).replace(ot,r).replace(it,i)}function i(t,e,n,i){return"<"+e+n.replace(rt,o)+i}function o(t,e,n){return e+(n||'"')+q+(n||'"')}function r(t,e,n){return $.test(e)?t:"<"+e+n+"></"+e+">"}function a(t,e,n,i){return{name:i,node:e,path:n,type:t}}function s(t,e){for(var n=e.length,i=0;i<n;)t=t.childNodes[e[i++]];return t}function l(t,e,n,i){for(var o=t.childNodes,r=o.length,s=0;s<r;){var d=o[s];switch(d.nodeType){case K:var c=i.concat(s);u(d,e,n,c),l(d,e,n,c);break;case X:d.textContent===q&&(n.shift(),e.push(Z.test(t.nodeName)?a("text",t,i):a("any",d,i.concat(s))));break;case J:Z.test(t.nodeName)&&V.call(d.textContent)===U&&(n.shift(),e.push(a("text",t,i)))}s++}}function u(e,n,i,o){for(var r=new M,s=e.attributes,l=[],u=l.slice.call(s,0),d=u.length,c=0;c<d;){var h=u[c++];if(h.value===q){var p=h.name;if(!r.has(p)){var f=i.shift().replace(/^(?:|[\S\s]*?\s)(\S+?)\s*=\s*['"]?$/,"$1"),m=s[f]||s[f.toLowerCase()];r.set(p,m),n.push(a("attr",m,o,f))}l.push(h)}}for(d=l.length,c=0;c<d;){var g=l[c++];/^id$/i.test(g.name)?e.removeAttribute(g.name):e.removeAttributeNode(g)}var _=e.nodeName;if(/^script$/i.test(_)){var y=t.createElement(_);for(d=s.length,c=0;c<d;)y.setAttributeNode(s[c++].cloneNode(!0));y.textContent=e.textContent,e.parentNode.replaceChild(y,e)}}function d(t,e){var i=n(e),o=t.transform;o&&(i=o(i));var r=W(i,t.type);!function(t){for(var e=t.childNodes,n=e.length;n--;){var i=e[n];1!==i.nodeType&&0===V.call(i.textContent).length&&t.removeChild(i)}}(r);var a=[];l(r,a,e.slice(0),[]);var u={content:r,updates:function(n){for(var i=[],o=a.length,r=0;r<o;){var l=a[r++],u=s(n,l.path);switch(l.type){case"any":i.push(t.any(u,[]));break;case"attr":i.push(t.attribute(u,l.name,l.node));break;case"text":i.push(t.text(u)),u.textContent=""}}return function(){var t=arguments.length,r=t-1,a=1;if(o!==r)throw new Error(r+" values instead of "+o+"\n"+e.join(", "));for(;a<t;)i[a-1](arguments[a++]);return n}}};return at.set(e,u),u}function c(e,n){var i=at.get(n)||d(e,n),o=B.call(t,i.content,!0),r={content:o,template:n,updates:i.updates(o)};return st.set(e,r),r}function h(t){return this.type=t,function(t){return function(e){var n=st.get(t);return null!=n&&n.template===e||(n=c(t,e)),n.updates.apply(null,arguments),n.content}}(this)}function p(t){for(var e=arguments.length,n=[wt(t)],i=1;i<e;)n.push(arguments[i++]);return n}function f(){var t=Tt.get(this),e=p.apply(null,arguments);return t&&t.template===e[0]?t.tagger.apply(null,e):m.apply(this,e),this}function m(t){var e=new h(dt in this?"svg":"html");Tt.set(this,{tagger:e,template:t}),this.textContent="",this.appendChild(e.apply(null,arguments))}function g(t){return arguments.length<2?null==t?xt("html"):"string"==typeof t?g.wire(null,t):"raw"in t?xt("html")(t):"nodeType"in t?g.bind(t):Lt(t,"html"):("raw"in t?xt("html"):g.wire).apply(null,arguments)}/*! (c) Andrea Giammarchi - ISC */var _={};try{_.WeakMap=WeakMap}catch(t){_.WeakMap=function(t,e){function n(e){o(this,"_",{value:"_@ungap/weakmap"+t++}),e&&e.forEach(i,this)}function i(t){this.set(t[0],t[1])}var o=e.defineProperty,r=e.hasOwnProperty,a=n.prototype;return a.delete=function(t){return this.has(t)&&delete t[this._]},a.get=function(t){return this.has(t)?t[this._]:void 0},a.has=function(t){return r.call(t,this._)},a.set=function(t,e){return o(t,this._,{configurable:!0,value:e}),this},n}(Math.random(),Object)}var y=_.WeakMap,v={};try{v.WeakSet=WeakSet}catch(t){!function(t,e){function n(){e(this,"_",{value:"_@ungap/weakmap"+t++})}var i=n.prototype;i.add=function(t){return this.has(t)||e(t,this._,{value:!0,configurable:!0}),this},i.has=function(t){return this.hasOwnProperty.call(t,this._)},i.delete=function(t){return this.has(t)&&delete t[this._]},v.WeakSet=n}(Math.random(),Object.defineProperty)}var b=v.WeakSet,w={};try{w.Map=Map}catch(t){w.Map=function(){function t(t){return-1<(e=n.indexOf(t))}var e=0,n=[],i=[];return{delete:function(o){var r=t(o);return r&&(n.splice(e,1),i.splice(e,1)),r},get:function(n){return t(n)?i[e]:void 0},has:function(e){return t(e)},set:function(o,r){return i[t(o)?e:n.push(o)-1]=r,this}}}}var M=w.Map,x=function(t,e,n,i,o,r){if(o-i<2)e.insertBefore(t(n[i],1),r);else{for(var a=e.ownerDocument.createDocumentFragment();i<o;)a.appendChild(t(n[i++],1));e.insertBefore(a,r)}},L=function(t,e){return t==e},k=function(t){return t},T=function(t,e,n,i,o,r,a){var s=r-o;if(s<1)return-1;for(;n-e>=s;){for(var l=e,u=o;l<n&&u<r&&a(t[l],i[u]);)l++,u++;if(u===r)return e;e=l+1}return-1},E=function(t,e,n,i,o){return n<i?t(e[n],0):0<n?t(e[n-1],-0).nextSibling:o},C=function(t,e,n,i,o){if(o-i<2)e.removeChild(t(n[i],-1));else{var r=e.ownerDocument.createRange();r.setStartBefore(t(n[i],-1)),r.setEndAfter(t(n[o-1],-1)),r.deleteContents()}},D=function(t,e,n){for(var i=1,o=e;i<o;){var r=(i+o)/2>>>0;n<t[r]?o=r:i=r+1}return i},S=function(t,e,n,i,o,r,a,s,l,u,d,c,h){!function(t,e,n,i,o,r,a,s,l){for(var u=new M,d=t.length,c=a,h=0;h<d;)switch(t[h++]){case 0:o++,c++;break;case 1:u.set(i[o],1),x(e,n,i,o++,o,c<s?e(r[c],0):l);break;case-1:c++}for(h=0;h<d;)switch(t[h++]){case 0:a++;break;case-1:u.has(r[a])?a++:C(e,n,r,a++,a)}}(function(t,e,n,i,o,r,a){var s,l,u,d,c,h,p,f=n+r,m=[];t:for(s=0;s<=f;s++){if(s>50)return null;for(p=s-1,c=s?m[s-1]:[0,0],h=m[s]=[],l=-s;l<=s;l+=2){for(u=(d=l===-s||l!==s&&c[p+l-1]<c[p+l+1]?c[p+l+1]:c[p+l-1]+1)-l;d<r&&u<n&&a(i[o+d],t[e+u]);)d++,u++;if(d===r&&u===n)break t;h[s+l]=d}}var g=Array(s/2+f/2),_=g.length-1;for(s=m.length-1;s>=0;s--){for(;d>0&&u>0&&a(i[o+d-1],t[e+u-1]);)g[_--]=0,d--,u--;if(!s)break;p=s-1,c=s?m[s-1]:[0,0],(l=d-u)===-s||l!==s&&c[p+l-1]<c[p+l+1]?(u--,g[_--]=1):(d--,g[_--]=-1)}return g}(n,i,r,a,s,u,c)||function(t,e,n,i,o,r,a,s){var l=0,u=i<s?i:s,d=Array(u++),c=Array(u);c[0]=-1;for(var h=1;h<u;h++)c[h]=a;for(var p=new M,f=r;f<a;f++)p.set(o[f],f);for(var m=e;m<n;m++){var g=p.get(t[m]);null!=g&&-1<(l=D(c,u,g))&&(c[l]=g,d[l]={newi:m,oldi:g,prev:d[l-1]})}for(l=--u,--a;c[l]>a;)--l;u=s+i-l;var _=Array(u),y=d[l];for(--n;y;){for(var v=y,b=v.newi,w=v.oldi;n>b;)_[--u]=1,--n;for(;a>w;)_[--u]=-1,--a;_[--u]=0,--n,--a,y=y.prev}for(;n>=e;)_[--u]=1,--n;for(;a>=r;)_[--u]=-1,--a;return _}(n,i,o,r,a,s,l,u),t,e,n,i,a,s,d,h)},Y=function(t,e,n,i){i||(i={});for(var o=i.compare||L,r=i.node||k,a=null==i.before?null:r(i.before,0),s=e.length,l=s,u=0,d=n.length,c=0;u<l&&c<d&&o(e[u],n[c]);)u++,c++;for(;u<l&&c<d&&o(e[l-1],n[d-1]);)l--,d--;var h=u===l,p=c===d;if(h&&p)return n;if(h&&c<d)return x(r,t,n,c,d,E(r,e,u,s,a)),n;if(p&&u<l)return C(r,t,e,u,l),n;var f=l-u,m=d-c,g=-1;if(f<m){if(-1<(g=T(n,c,d,e,u,l,o)))return x(r,t,n,c,g,r(e[u],0)),x(r,t,n,g+f,d,E(r,e,l,s,a)),n}else if(m<f&&-1<(g=T(e,u,l,n,c,d,o)))return C(r,t,e,u,g),C(r,t,e,g+m,l),n;return f<2||m<2?(x(r,t,n,c,d,r(e[u],0)),C(r,t,e,u,l),n):f===m&&function(t,e,n,i,o,r){for(;i<o&&r(n[i],t[e-1]);)i++,e--;return 0===e}(n,d,e,u,l,o)?(x(r,t,n,c,d,E(r,e,l,s,a)),n):(S(r,t,n,c,d,m,e,u,l,f,s,o,a),n)},R={};R.CustomEvent="function"==typeof CustomEvent?CustomEvent:function(e){function n(e,n){n||(n={});var i=t.createEvent("CustomEvent");return i.initCustomEvent(e,!!n.bubbles,!!n.cancelable,n.detail),i}return n.prototype=new n("").constructor.prototype,n}();var O=R.CustomEvent,P=function(t,e){var n="_"+t+"$";return{get:function(){return this[n]||F(this,n,e.call(this,t))},set:function(t){F(this,n,t)}}},F=function(t,e,n){return Object.defineProperty(t,e,{configurable:!0,value:"function"==typeof n?function(){return t._wire$=n.apply(this,arguments)}:n})[e]};Object.defineProperties(e.prototype,{ELEMENT_NODE:{value:1},nodeType:{value:-1}});var I={},A={},j=[],H=A.hasOwnProperty,N=0,z={attributes:I,define:function(t,e){t.indexOf("-")<0?(t in A||(N=j.push(t)),A[t]=e):I[t]=e},invoke:function(t,e){for(var n=0;n<N;n++){var i=j[n];if(H.call(t,i))return A[i](t[i],e)}}},G=Array.isArray||function(t){var e=t.call([]);return function(n){return t.call(n)===e}}({}.toString),W=function(t){function e(t,e){for(var n=e.length;n--;)t.appendChild(e[0])}function n(e){return e===o?t.createDocumentFragment():t.createElementNS("http://www.w3.org/1999/xhtml",e)}function i(t){var i=n(o),r=n("div");return r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t+"</svg>",e(i,r.firstChild.childNodes),i}var o="fragment",r="content"in n("template")?function(t){var e=n("template");return e.innerHTML=t,e.content}:function(t){var i=n(o),r=n("template"),a=null;if(/^[^\S]*?<(col(?:group)?|t(?:head|body|foot|r|d|h))/i.test(t)){var s=RegExp.$1;r.innerHTML="<table>"+t+"</table>",a=r.querySelectorAll(s)}else r.innerHTML=t,a=r.childNodes;return e(i,a),i};return function(t,e){return("svg"===e?i:r)(t)}}(t),B=function(t,e,n,i,o){var r="importNode"in t,a=t.createDocumentFragment();return a.appendChild(t.createTextNode("g")),a.appendChild(t.createTextNode("")),(r?t.importNode(a,!0):a.cloneNode(!0)).childNodes.length<2?function t(e,n){for(var i=e.cloneNode(),o=e.childNodes||[],r=o.length,a=0;n&&a<r;a++)i.appendChild(t(o[a],n));return i}:r?t.importNode:function(t,e){return t.cloneNode(!!e)}}(t),V="".trim||function(){return String(this).replace(/^\s+|\s+/g,"")},q="-"+Math.random().toFixed(6)+"%";(function(t,e,n){return"content"in t&&(t.innerHTML='<p tabindex="'+q+'"></p>',t.content.childNodes[0].getAttribute("tabindex")==q)})(t.createElement("template"))||(q="_dt: "+q.slice(1,-1)+";");var U="\x3c!--"+q+"--\x3e",X=8,K=1,J=3,Z=/^(?:style|textarea)$/i,$=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,Q=" \\f\\n\\r\\t",tt="[ "+Q+"]+[^  \\f\\n\\r\\t\\/>\"'=]+",et="<([A-Za-z]+[A-Za-z0-9:_-]*)((?:",nt="(?:\\s*=\\s*(?:'[^']*?'|\"[^\"]*?\"|<[^>]*?>|[^  \\f\\n\\r\\t\\/>\"'=]+))?)",it=new RegExp(et+tt+nt+"+)([ "+Q+"]*/?>)","g"),ot=new RegExp(et+tt+nt+"*)([ "+Q+"]*/>)","g"),rt=new RegExp("("+tt+"\\s*=\\s*)(['\"]?)"+U+"\\2","gi"),at=new y,st=new y,lt=function(){function t(t,e,n){return e+"-"+n.toLowerCase()}function e(e){var n,i=[];for(n in e)i.push(n.replace(o,t),":",e[n],";");return i.join("")}function n(t,n){var o,r;return function(a){var s,l,u,d;switch(typeof a){case"object":if(a){if("object"===o){if(!n&&r!==a)for(l in r)l in a||(t[l]="")}else n?t.value="":t.cssText="";for(l in s=n?{}:t,a)u="number"!=typeof(d=a[l])||i.test(l)?d:d+"px",!n&&/^--/.test(l)?s.setProperty(l,u):s[l]=u;o="object",n?t.value=e(r=s):r=a;break}default:r!=a&&(o="string",r=a,n?t.value=a||"":t.cssText=a||"")}}}var i=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,o=/([^A-Z])([A-Z]+)/g;return function(t,e){return"ownerSVGElement"in t?function(t,e){var i;return e?i=e.cloneNode(!0):(t.setAttribute("style","--hyper:style;"),i=t.getAttributeNode("style")),i.value="",t.setAttributeNode(i),n(i,!0)}(t,e):n(t.style,!1)}}(),ut=function(t,e){function n(e){var n=this.childNodes=t.call(e,0);this.firstChild=n[0],this.lastChild=n[n.length-1],this.ownerDocument=n[0].ownerDocument,this._=null}return(e=n.prototype).ELEMENT_NODE=1,e.nodeType=111,e.remove=function(t){var e=this.childNodes,n=this.firstChild,i=this.lastChild;if(this._=null,t&&2===e.length)i.parentNode.removeChild(i);else{var o=this.ownerDocument.createRange();o.setStartBefore(t?e[1]:n),o.setEndAfter(i),o.deleteContents()}return n},e.valueOf=function(t){var e=this._,n=null==e;if(n&&(e=this._=this.ownerDocument.createDocumentFragment()),n||t)for(var i=this.childNodes,o=0,r=i.length;o<r;o++)e.appendChild(i[o]);return e},n}([].slice),dt="ownerSVGElement",ct=e.prototype.nodeType,ht=ut.prototype.nodeType,pt=/*! (c) Andrea Giammarchi */
function(t){var e="connected",n="dis"+e,i=t.Event,o=t.WeakSet,r=!0,a=new o;return function(t){return r&&(r=!r,function(t){function r(t){d=new u;for(var i,o=t.length,r=0;r<o;r++)s((i=t[r]).removedNodes,n,e),s(i.addedNodes,e,n);d=null}function s(t,e,n){for(var o,r=new i(e),a=t.length,s=0;s<a;1===(o=t[s++]).nodeType&&l(o,r,e,n));}function l(t,e,n,i){a.has(t)&&!d[n].has(t)&&(d[i].delete(t),d[n].add(t),t.dispatchEvent(e));for(var o=t.children||[],r=o.length,s=0;s<r;l(o[s++],e,n,i));}function u(){this[e]=new o,this[n]=new o}var d=null;try{new MutationObserver(r).observe(t,{subtree:!0,childList:!0})}catch(e){var c=0,h=[],p=function(t){h.push(t),clearTimeout(c),c=setTimeout(function(){r(h.splice(c=0,h.length))},0)};t.addEventListener("DOMNodeRemoved",function(t){p({addedNodes:[],removedNodes:[t.target]})},!0),t.addEventListener("DOMNodeInserted",function(t){p({addedNodes:[t.target],removedNodes:[]})},!0)}}(t.ownerDocument)),a.add(t),t}}({Event:O,WeakSet:b}),ft=function(t){return{html:t}},mt=function t(e,n){switch(e.nodeType){case ht:return 1/n<0?n?e.remove(!0):e.lastChild:n?e.valueOf(!0):e.firstChild;case ct:return t(e.render(),n);default:return e}},gt=function(t,e){e(t.placeholder),"text"in t?Promise.resolve(t.text).then(String).then(e):"any"in t?Promise.resolve(t.any).then(e):"html"in t?Promise.resolve(t.html).then(ft).then(e):Promise.resolve(z.invoke(t,e)).then(e)},_t=function(t){return null!=t&&"then"in t},yt=/^(?:form|list)$/i,vt=[].slice,bt=function(t,e){return t.ownerDocument.createTextNode(e)};h.prototype={attribute:function(t,e,n){var i,o=dt in t;if("style"===e)return lt(t,n,o);if(/^on/.test(e)){var r=e.slice(2);return"connected"===r||"disconnected"===r?pt(t):e.toLowerCase()in t&&(r=r.toLowerCase()),function(e){i!==e&&(i&&t.removeEventListener(r,i,!1),i=e,e&&t.addEventListener(r,e,!1))}}if("data"===e||!o&&e in t&&!yt.test(e))return function(n){i!==n&&(i=n,t[e]!==n&&(t[e]=n,null==n&&t.removeAttribute(e)))};if(e in z.attributes)return function(n){var o=z.attributes[e](t,n);i!==o&&(i=o,null==o?t.removeAttribute(e):t.setAttribute(e,o))};var a=!1,s=n.cloneNode(!0);return function(e){i!==e&&(i=e,s.value!==e&&(null==e?(a&&(a=!1,t.removeAttributeNode(s)),s.value=e):(s.value=e,a||(a=!0,t.setAttributeNode(s)))))}},any:function(t,e){var n,i={node:mt,before:t},o=dt in t?"svg":"html",r=!1;return function a(s){switch(typeof s){case"string":case"number":case"boolean":r?n!==s&&(n=s,e[0].textContent=s):(r=!0,n=s,e=Y(t.parentNode,e,[bt(t,s)],i));break;case"function":a(s(t));break;case"object":case"undefined":if(null==s){r=!1,e=Y(t.parentNode,e,[],i);break}default:if(r=!1,n=s,G(s))if(0===s.length)e.length&&(e=Y(t.parentNode,e,[],i));else switch(typeof s[0]){case"string":case"number":case"boolean":a({html:s});break;case"object":if(G(s[0])&&(s=s.concat.apply([],s)),_t(s[0])){Promise.all(s).then(a);break}default:e=Y(t.parentNode,e,s,i)}else!function(t){return"ELEMENT_NODE"in t}(s)?_t(s)?s.then(a):"placeholder"in s?gt(s,a):"text"in s?a(String(s.text)):"any"in s?a(s.any):"html"in s?e=Y(t.parentNode,e,vt.call(W([].concat(s.html).join(""),o).childNodes),i):a("length"in s?vt.call(s):z.invoke(s,a)):e=Y(t.parentNode,e,11===s.nodeType?vt.call(s.childNodes):[s],i)}}},text:function(t){var e;return function n(i){if(e!==i){e=i;var o=typeof i;"object"===o&&i?_t(i)?i.then(n):"placeholder"in i?gt(i,n):n("text"in i?String(i.text):"any"in i?i.any:"html"in i?[].concat(i.html).join(""):"length"in i?vt.call(i).join(""):z.invoke(i,n)):"function"===o?n(i(t)):t.textContent=null==i?"":i}}}};/*! (c) Andrea Giammarchi - ISC */
var wt=function(){function e(t){return n?t:i(t)}var n=!1,i=function(o){if(!("raw"in o)||o.propertyIsEnumerable("raw")||!Object.isFrozen(o.raw)||/Firefox\/(\d+)/.test((t.defaultView.navigator||{}).userAgent)&&parseFloat(RegExp.$1)<55){var r={};i=function(t){for(var e=".",n=0;n<t.length;n++)e+=t[n].length+"."+t[n];return r[e]||(r[e]=t)}}else n=!0;return e(o)};return e}(),Mt=new y,xt=function(t){var e,n,i;return function(){var o=p.apply(null,arguments);return i!==o[0]?(i=o[0],n=new h(t),e=kt(n.apply(n,o))):n.apply(n,o),e}},Lt=function(t,e){var n=e.indexOf(":"),i=Mt.get(t),o=e;return-1<n&&(o=e.slice(n+1),e=e.slice(0,n)||"html"),i||Mt.set(t,i={}),i[o]||(i[o]=xt(e))},kt=function(t){var e=t.childNodes,n=e.length;return 1===n?e[0]:n?new ut(e):t},Tt=new y,Et=z.define,Ct=h.prototype;return g.Component=e,g.bind=function(t){return f.bind(t)},g.define=Et,g.diff=Y,g.hyper=g,g.observe=pt,g.tagger=Ct,g.wire=function(t,e){return null==t?xt(e||"html"):Lt(t,e||"html")},g._={WeakMap:y,WeakSet:b},function(t){var n=new y,i=Object.create,o=function(t,e){var n={w:null,p:null};return e.set(t,n),n};Object.defineProperties(e,{for:{configurable:!0,value:function(t,e){return function(t,e,n,r){var a=e.get(t)||o(t,e);switch(typeof r){case"object":case"function":var s=a.w||(a.w=new y);return s.get(r)||function(t,e,n){return t.set(e,n),n}(s,r,new t(n));default:var l=a.p||(a.p=i(null));return l[r]||(l[r]=new t(n))}}(this,n.get(t)||function(t){var e=new M;return n.set(t,e),e}(t),t,null==e?"default":e)}}}),Object.defineProperties(e.prototype,{handleEvent:{value:function(t){var e=t.currentTarget;this["getAttribute"in e&&e.getAttribute("data-call")||"on"+t.type](t)}},html:P("html",t),svg:P("svg",t),state:P("state",function(){return this.defaultState}),defaultState:{get:function(){return{}}},dispatch:{value:function(t,e){var n=this._wire$;if(n){var i=new O(t,{bubbles:!0,cancelable:!0,detail:e});return i.component=this,(n.dispatchEvent?n:n.firstChild).dispatchEvent(i)}return!1}},setState:{value:function(t,e){var n=this.state,i="function"==typeof t?t.call(this,n):t;for(var o in i)n[o]=i[o];return!1!==e&&this.render(),this}}})}(xt),g}(document);
/*! (c) Andrea Giammarchi (ISC) */const{Component:s,bind:l,define:u,diff:d,hyper:c,wire:h}=a;var p=n(13),f=t=>{if("string"==typeof t)return t;if(t.svg)return t.svg;const e={dot:g(t),target:_(t),triangle:y(t),square:v(t),semiCircle:b(t),markerLetter:w(t),markerColor:M(t),geo:x()};return t.type?e[t.type]:g({color:"#666"})};const m=new XMLSerializer;function g(t){const e=h()`<svg
    width=866
    height=1000
    viewBox='0 0 866 1000'
    xmlns='http://www.w3.org/2000/svg'
    >`;return e.appendChild(h(null,"svg")`<circle
      cx=466
      cy=532
      r=395
      fill=${p(t.fillColor||"#fff").darken()}>`),e.appendChild(h(null,"svg")`<circle
      cx=400
      cy=468
      r=395
      fill=${t.fillColor||"#fff"}>`),"data:image/svg+xml,"+encodeURIComponent(m.serializeToString(e))}function _(t){const e=h()`<svg 
    width=1000
    height=1000
    viewBox='0 0 1000 1000'
    xmlns='http://www.w3.org/2000/svg'
    >`;let n=h(null,"svg")`
    <circle
    cx=540
    cy=540
    fill='#333'
    opacity=0.4>`;n.setAttribute("r",400),e.appendChild(n);let i=h(null,"svg")`
    <circle
    cx=500
    cy=500
    fill=${t.fillColor||"#FFF"}>`;return i.setAttribute("r",400),e.appendChild(i),t.layers?(Object.entries(t.layers).forEach(t=>{let n=h(null,"svg")`
      <circle
      cx=500
      cy=500
      fill=${t[1]}>`;n.setAttribute("r",400*parseFloat(t[0])),e.appendChild(n)}),"data:image/svg+xml,"+encodeURIComponent(m.serializeToString(e))):"data:image/svg+xml,"+encodeURIComponent(m.serializeToString(e))}function y(t){const e=h()`<svg 
    width=1000
    height=1000
    viewBox='0 0 1000 1000'
    xmlns='http://www.w3.org/2000/svg'
    >`;let n="M0,-19.618873042551414L16.990442448471224,9.809436521275707L-16.990442448471224,9.809436521275707Z",i=h(null,"svg")`<path 
      fill='#333'
      opacity=0.4
      >`;i.setAttribute("d",n),i.setAttribute("transform","translate(540 520) rotate(180) scale(-20, -20)"),e.appendChild(i);let o=h(null,"svg")`<path
    fill=${t.fillColor||"#FFF"}
    >`;return o.setAttribute("d",n),o.setAttribute("transform","translate(500 500) rotate(180) scale(-20, -20)"),e.appendChild(o),t.layers?(Object.entries(t.layers).map(t=>{let i=h(null,"svg")`<path
      fill=${t[1]}
      >`;i.setAttribute("d",n),i.setAttribute("transform",`translate(500 500) rotate(180) scale(${-20*t[0]}, ${-20*t[0]})`),e.appendChild(i)}),"data:image/svg+xml,"+encodeURIComponent(m.serializeToString(e))):"data:image/svg+xml,"+encodeURIComponent(m.serializeToString(e))}function v(t){let e=1e3,n=800;const i=h()`<svg 
    width=1000
    height=1000
    viewBox='0 0 1000 1000'
    xmlns='http://www.w3.org/2000/svg'
    >`;let o=h(null,"svg")`<rect
    fill='#333'
    opacity=0.3
    >`;o.setAttribute("width",n),o.setAttribute("height",n),o.setAttribute("x",110),o.setAttribute("y",110),i.appendChild(o);let r=h(null,"svg")`<rect
    fill=${t.fillColor||"#FFF"}
    >`;return r.setAttribute("width",n),r.setAttribute("height",n),r.setAttribute("x",100),r.setAttribute("y",100),i.appendChild(r),t.layers?(Object.entries(t.layers).map(t=>{let o=t[0]*n,r=h(null,"svg")`<rect
        fill=${t[1]}
        >`;r.setAttribute("width",o),r.setAttribute("height",o),r.setAttribute("x",(e-o)/2),r.setAttribute("y",(e-o)/2),i.appendChild(r)}),"data:image/svg+xml,"+encodeURIComponent(m.serializeToString(i))):"data:image/svg+xml,"+encodeURIComponent(m.serializeToString(i))}function b(t){const e=h()`<svg 
    width=1000
    height=1000
    viewBox='0 0 1000 1000'
    xmlns='http://www.w3.org/2000/svg'>
    <defs>
    <clipPath id="cut-off-shade">
    <rect x="0" y="0" width="1000" height="710"/>
    </clipPath>
    <clipPath id="cut-off">
    <rect x="0" y="0" width="1000" height="700"/>
    </clipPath>
    </defs>
    <circle cx="510" cy="710" r="400" fill="#333" opacity="0.3" clip-path="url(#cut-off-shade)"/>
    </svg>`;return e.appendChild(h(null,"svg")`<circle
    cx=500
    cy=700
    r=400
    fill=${t.fillColor}
    clip-path='url(#cut-off)'
    >`),t.layers&&Object.entries(t.layers).map(t=>{let n=parseInt(400*parseFloat(t[0])),i=t[1],o=h(null,"svg")`<circle
            cx=500
            cy=700
            fill=${i}
            clip-path='url(#cut-off)'
            >`;o.setAttribute("r",n),e.appendChild(o)}),"data:image/svg+xml,"+encodeURIComponent(m.serializeToString(e))}function w(t){const e=h()`
    <svg
    width=1000
    height=1000
    viewBox='0 0 1000 1000'
    xmlns='http://www.w3.org/2000/svg'>`;return e.appendChild(h(null,"svg")`
    <path
    style="opacity: 0.5;"
    fill=${t.color}
    d="M570,20C370,20,210,180,210,380C210,460,230,520,280,610C380,780,570,1000,570,1000C570,1000,760,780,860,610C910,520,930,460,930,380C930,180,770,20,570,20Z"/>`),e.appendChild(h(null,"svg")`
    <path
    fill=${t.color}
    d="M500,20C300,20,140,180,140,380C140,440,160,520,210,610C310,780,500,1000,500,1000C500,1000,690,780,790,610C840,520,860,460,860,380C860,180,700,20,500,20Z"/>`),e.appendChild(h(null,"svg")`
    <circle
    cx=500
    cy=360
    r=250
    opacity=0.8
    fill="rgb(255, 255, 255)"/>`),e.appendChild(h(null,"svg")`
    <text
      x=500
      y=500
      style="text-anchor: middle; font-weight: 600; font-size: 470px; font-family: sans-serif; fill: rgb(85, 85, 85);">
        ${t.letter}`),"data:image/svg+xml,"+encodeURIComponent(m.serializeToString(e))}function M(t){const e=h()`
    <svg
    width=1000
    height=1000
    viewBox='0 0 1000 1000'
    xmlns='http://www.w3.org/2000/svg'>`;return e.appendChild(h(null,"svg")`
      <path
      style="opacity: 0.5;"
      fill=${t.colorMarker}
      d="M570,20C370,20,210,180,210,380C210,460,230,520,280,610C380,780,570,1000,570,1000C570,1000,760,780,860,610C910,520,930,460,930,380C930,180,770,20,570,20Z"/>`),e.appendChild(h(null,"svg")`
      <path
      fill=${t.colorMarker}
      d="M500,20C300,20,140,180,140,380C140,440,160,520,210,610C310,780,500,1000,500,1000C500,1000,690,780,790,610C840,520,860,460,860,380C860,180,700,20,500,20Z"/>`),e.appendChild(h(null,"svg")`
    <circle
    cx=500
    cy=360
    r=250
    opacity=0.8
    fill="rgb(255, 255, 255)"/>`),e.appendChild(h(null,"svg")`
    <circle
    cx=500
    cy=360
    r=180
    opacity=0.8
    fill=${t.colorDot}/>`),"data:image/svg+xml,"+encodeURIComponent(m.serializeToString(e))}function x(){const t=h()`<svg
  width=1000
  height=1000
  viewBox='0 0 1000 1000'
  xmlns='http://www.w3.org/2000/svg'
  >`;t.appendChild(h(null,"svg")`<circle
    cx=500
    cy=500
    r=350
    stroke='#090'
    opacity=0.8
    stroke-width=75
    fill=none
    >`),t.appendChild(h(null,"svg")`<circle
      cx=500
      cy=500
      r=200
      fill='#090'
      opacity=0.8
      >`);let e=h(null,"svg")`<path
    stroke='#090'
    opacity=0.8
    stroke-width=75
    >`;return e.setAttribute("d","M500,150L500,0M500,850L500,1000M0,500L150,500M850,500L1000,500"),t.appendChild(e),"data:image/svg+xml,"+encodeURIComponent(m.serializeToString(t))}function k(t){if(!t)return-1;let e=t.parentNode.childNodes,n=0;for(let i=0;i<e.length;i++){if(e[i]===t)return n;1===e[i].nodeType&&n++}}function T(t,e){let n;return function(){clearTimeout(n),n=setTimeout(function(){n=null,t.apply(this,arguments)},e)}}function E(t){const e=[];return Object.keys(t).forEach(n=>{(t[n]&&(t[n].length>0||"number"==typeof t[n])||!0===t[n])&&e.push(encodeURI(n+"="+t[n]))}),e.join("&")}function C(t){let e=t.querySelector(".scrolly_track"),n=t.querySelector(".scrolly_bar");n.style.height=e.clientHeight*t.clientHeight/t.scrollHeight+"px",n.style.top=e.clientHeight*t.scrollTop/t.scrollHeight+"px",t.addEventListener("scroll",()=>{n.style.height=e.clientHeight*t.clientHeight/t.scrollHeight+"px",n.style.top=e.clientHeight*t.scrollTop/t.scrollHeight+"px"}),n.addEventListener("mousedown",i=>{i.preventDefault();let o=n.offsetTop,r=i.pageY,a=i=>{n.style.top=Math.min(e.clientHeight-n.clientHeight,Math.max(0,o+i.pageY-r))+"px",t.scrollTop=t.scrollHeight*n.offsetTop/e.clientHeight};document.addEventListener("mousemove",a),document.addEventListener("mouseup",()=>document.removeEventListener("mousemove",a))})}function D(t){if(t.expandedTag||(t.expandedTag="expanded"),t.expandableTag||(t.expandableTag="expandable"),t.expandable.classList.contains(t.expandedTag))return t.expandable.classList.remove(t.expandedTag),void(t.scrolly&&setTimeout(()=>C(t.scrolly),400));t.accordeon&&[...t.expandable.parentElement.children].forEach(e=>{e.classList.remove(t.expandedTag),t.scrolly&&setTimeout(()=>C(t.scrolly),400)}),t.expandable.classList.contains(t.expandableTag)&&(t.expandable.classList.add(t.expandedTag),t.scrolly&&setTimeout(()=>C(t.scrolly),400))}function S(t){let e=document.createElement("textarea");e.style.visibility="none",e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove()}function Y(t){let e=document.createElement(t.tag);return t.options&&Object.keys(t.options).forEach(n=>{t.options[n]&&(e[n]=t.options[n])}),t.style&&Object.keys(t.style).forEach(n=>e.style[n]=t.style[n]),t.appendTo&&t.appendTo.appendChild(e),t.eventListener&&e.addEventListener(t.eventListener.event,t.eventListener.funct),e}function R(t){t.title&&Y({tag:"div",options:{textContent:t.title},appendTo:t.appendTo});const e=Y({tag:"select",style:t.style?t.style:null,appendTo:t.appendTo});t.entries.length?t.entries.forEach(n=>{Y({tag:"option",options:{textContent:"object"==typeof n?n[t.label]||Object.values(n)[0]:n,value:"object"==typeof n?n[t.val]||Object.keys(n)[0]:n},appendTo:e})}):Object.keys(t.entries).forEach(n=>{Y({tag:"option",options:{textContent:t.label&&t.entries[n][t.label]||n,value:t.val&&t.entries[n][t.val]||n},appendTo:e})}),e.disabled=1===e.childElementCount,e.onchange=t.onchange,t.selected||(e.selectedIndex=0);for(let n=0;n<e.length;n++)e[n].value==t.selected&&(e.selectedIndex=n);return e}function O(t){let e=[{placeholder:t.placeholder||"Select from list"}];t.entries.map(t=>e.push(t));let n=Y({tag:"div",options:{classList:"xyz-custom-select"},appendTo:t.appendTo}),i=R({appendTo:n,entries:e,style:{display:"none"}});Y({tag:"div",options:{classList:"select-selected",innerHTML:i.options[i.selectedIndex].innerHTML},eventListener:{event:"click",funct:t=>{t.stopPropagation(),function(t){let e,n=[],i=document.querySelectorAll(".xyz-custom-select .select-items"),o=document.querySelectorAll(".xyz-custom-select .select-selected");for(e=0;e<o.length;e++)t==o[e]?n.push(e):o[e].classList.remove("select-arrow-active");for(e=0;e<i.length;e++)n.indexOf(e)&&i[e].classList.add("select-hide")}(t.target),t.target.nextSibling.classList.toggle("select-hide"),t.target.classList.toggle("select-arrow-active"),document.body.addEventListener("click",t=>{let e=document.querySelectorAll(".xyz-custom-select .select-items");for(let t=0;t<e.length;t++)e[t].classList.add("select-hide");return t.stopPropagation(),!1})}},appendTo:n}).dataset.field=t.field;let o=Y({tag:"div",options:{classList:"select-items select-hide"},style:{maxHeight:t.height?`${t.height}px`:"300px",overflowY:"scroll"},appendTo:n});for(let e=1;e<i.options.length;e++){Y({tag:"div",options:{innerHTML:i.options[e].innerHTML},eventListener:{event:"click",funct:e=>{let n=e.target.parentNode.parentNode.getElementsByTagName("select")[0],i=e.target.parentNode.previousSibling;for(let t=0;t<n.length;t++)if(n.options[t].textContent==e.target.textContent){n.selectedIndex=t,i.textContent=e.target.textContent;let o=e.target.parentNode.querySelectorAll(".same-as-selected");for(let t=0;t<o.length;t++)o[t].removeAttribute("class");e.target.setAttribute("class","same-as-selected");break}i.click(),"function"==typeof t.callback&&t.callback(e)}},appendTo:o}).dataset.field=i.options[e].value}}function P(t){if(-1==t.indexOf(";base64,")){let e=t.split(","),n=e[0].split(":")[1],i=e[1];return new Blob([i],{type:n})}let e=t.split(";base64,"),n=e[0].split(":")[1],i=window.atob(e[1]),o=new Uint8Array(i.length);for(let t=0;t<i.length;++t)o[t]=i.charCodeAt(t);return new Blob([o],{type:n})}const F=()=>{const t=new WeakSet;return(e,n)=>{if("object"==typeof n&&null!==n){if(t.has(n))return;t.add(n)}return n}};var I=n(147);function A(t){return I(t.element,{position:t.position,formatter:t.formatter,onSelect:t.onSelect,onShow:t.onShow})}function j(t){return Math.round(new Date(t).getTime()/1e3)}function H(t){if(!t)return;if(t=parseInt(t)?t:t.getValue(),isNaN(parseInt(t)))return" ";let e=new Date(1e3*t),n=e.getFullYear(),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],o=e.getDate();return`${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e.getDay()]} ${o} ${i} ${n}`}function N(t){if(!t)return;if(t=parseInt(t)?t:t.getValue(),isNaN(parseInt(t)))return" ";let e=H(t),n=new Date(1e3*t),i=n.getHours(),o="0"+n.getMinutes(),r="0"+n.getSeconds();return`${e}, ${i}:${o.substr(-2)}:${r.substr(-2)}`}function z(t,e,n){var i=Array.isArray(e),o=(n||{arrayMerge:B}).arrayMerge||B;return i?Array.isArray(t)?o(t,e,n):W(e,n):function(t,e,n){var i={};G(t)&&Object.keys(t).forEach(function(e){i[e]=W(t[e],n)});return Object.keys(e).forEach(function(o){G(e[o])&&t[o]?i[o]=z(t[o],e[o],n):i[o]=W(e[o],n)}),i}(t,e,n)}function G(t){return t&&"object"==typeof t&&"[object RegExp]"!==Object.prototype.toString.call(t)&&"[object Date]"!==Object.prototype.toString.call(t)}function W(t,e){var n;return e&&!0===e.clone&&G(t)?z((n=t,Array.isArray(n)?[]:{}),t,e):t}function B(t,e,n){var i=t.slice();return e.forEach(function(e,o){void 0===i[o]?i[o]=W(e,n):G(e)?i[o]=z(t[o],e,n):-1===t.indexOf(e)&&i.push(W(e,n))}),i}var V=n(148),q=t=>{const e=Y({tag:"div",style:{position:"relative"}}),n=Y({tag:"canvas",options:{height:t.chart.height||void 0},appendTo:e});let i=t.fields.map(t=>t.stack);i.length&&(i=i.filter((t,e)=>i.indexOf(t)>=e));const o=i.length>1?i:t.fields.map(t=>t.label),r=t.fields.map(t=>"integer"===t.type?parseInt(t.value):t.value);t.fields.map(t=>t.displayValue);let a=[];if(i.length>1){let e={};a=[],Object.values(t.fields).map(t=>{e[t.label]={},e[t.label].data=[]}),Object.values(t.fields).map(n=>{Object.keys(e).map(i=>{if(i===n.label){let o=Object.keys(e).indexOf(i);e[i].data.push(Number(n.value)),e[i].label=n.label,e[i].backgroundColor=t.chart.backgroundColor[o]||"#cf9",e[i].borderColor=t.chart.borderColor[o]||"#079e00"}})}),Object.values(e).map(t=>a.push(t))}else t.chart.excludeNull&&r.map(t=>{t||o.splice(r.indexOf(t),1)}),a[0]={label:t.label,backgroundColor:t.chart.backgroundColor||"#cf9",borderColor:t.chart.borderColor||"#079e00",data:t.chart.excludeNull?r.filter(t=>null!=t):r};return new V(n,{type:t.chart.type||"line",data:{labels:o,datasets:a},options:{title:{display:t.chart.title||!0,position:"bottom",text:t.label},responsive:!0,legend:{display:t.chart.legend},scales:{yAxes:"pie"==t.chart.type||"doughnut"==t.chart.type?[]:[{ticks:{callback:(e,n,i)=>t.chart.unit?function(t,e){let n;switch(t.chart.unit){case"k":n=e/1e3+"k";break;case"M":n=e/1e6+"M"}return n}(t,e):e},scaleLabel:{display:!!t.chart.unit,labelString:!!t.chart.unit&&function(t){let e;switch(t.chart.unit){case"k":e="1k = 1 000";break;case"M":e="1M = 1 000 000"}return e}(t)},stacked:!("bar"!=t.chart.type&&"horizontalBar"!=t.chart.type||!i.length||!(i.length>1))}],xAxes:!i.length||i.length<1||"pie"==t.chart.type||"doughnut"==t.chart.type?[]:[{stacked:!("bar"!=t.chart.type&&"horizontalBar"!=t.chart.type||!i.length||!(i.length>1))}]},tooltips:{mode:"index",xAlign:t.chart.xAlign||null,yAlign:t.chart.yAlign||null,callbacks:{title:()=>""}}}}),e},U=n(146),X=n(149),K=n(150),J=n(151),Z=n(152),$=n(153),Q=n(154),tt=n(155);const et=(...t)=>e=>t.forEach(t=>t(e)),nt={pointOnFeature:X,bbox:K,meta:J,helpers:Z,explode:$,area:Q,length:tt};var it=t=>{return{fetchWS:async function(){const e=await fetch(t.host+"/workspace/get?"+t.utils.paramString({token:t.token})),n=await e.json();t.workspace.locales=n.locales},setWS:e,loadLocale:n,admin:function(){const n=document.getElementById("workspace");n.style.display="block",document.getElementById("btnCloseWS").onclick=()=>{n.style.display="none",document.getElementById("codemirror").innerHTML=""};const i=CodeMirror(document.getElementById("codemirror"),{value:"{}",lineNumbers:!0,mode:"application/json",gutters:["CodeMirror-lint-markers"],lint:!0,lineWrapping:!0,autofocus:!0}),o=document.getElementById("fileInputWS");o.addEventListener("change",function(){let t=new FileReader;t.onload=function(){try{o.value=null,i.setValue(this.result),i.refresh()}catch(t){alert("Failed to parse JSON")}},t.readAsText(this.files[0])}),document.getElementById("btnFileWS").onclick=()=>o.click(),document.getElementById("btnUploadWS").onclick=()=>{const n=new XMLHttpRequest;n.open("POST",document.head.dataset.dir+"/workspace/check?token="+document.body.dataset.token),n.setRequestHeader("Content-Type","application/json"),n.responseType="json",n.onload=n=>{if(200!==n.target.status&&alert("I am not here. This is not happening."),confirm(n.target.response.join("\r\n"))){const n=new XMLHttpRequest;n.open("POST",document.head.dataset.dir+"/workspace/set?token="+document.body.dataset.token),n.setRequestHeader("Content-Type","application/json"),n.responseType="json",n.onload=n=>{200!==n.target.status&&alert("I am not here. This is not happening.");const i=t.hooks.current.locale;e({locale:i,callback:()=>{t.hooks.removeAll(),t.hooks.set({locale:i}),t.workspace.loadLocale({locale:i}),t.desktop.mask.style.display="none"}})},n.send(JSON.stringify({settings:i.getValue()}))}else t.desktop.mask.style.display="none"},t.utils.bind(t.desktop.mask)`<p class="msg">Updating Workspace</p>`,t.desktop.mask.style.display="block",n.send(JSON.stringify({settings:i.getValue()}))};const r=new XMLHttpRequest;r.open("GET",document.head.dataset.dir+"/workspace/get?token="+document.body.dataset.token),r.responseType="json",r.onload=t=>{i.setValue(JSON.stringify(t.target.response,null,"  ")),i.refresh()},r.send()}};function e(e){const i=new XMLHttpRequest;i.open("GET",t.host+"/workspace/get?"+t.utils.paramString({token:t.token})),i.setRequestHeader("Content-Type","application/json"),i.responseType="json",i.onload=i=>{if(200!==i.target.status)return console.error("Failed to retrieve workspace from XYZ host!");t.workspace.locales=i.target.response.locales,e.locale&&n(e),e.callback&&e.callback(t)},i.send()}function n(e={}){const n=t.workspace.locales[e.locale]&&e.locale||t.hooks&&t.hooks.current.locale||Object.keys(t.workspace.locales)[0];t.workspace.locale=Object.assign({key:n},t.workspace.locales[n]),t.layers.list={},Object.keys(t.workspace.locale.layers).filter(t=>-1===t.indexOf("__")).forEach(e=>{t.layers.list[e]=Object.assign({},t.layers.layer(t.workspace.locale.layers[e]))})}},ot=t=>{function e(e){Array.isArray(t.hooks.current[e])?t.hooks.current[e]=[]:delete t.hooks.current[e],n()}function n(){try{history.pushState({hooks:!0},"hooks","?"+t.utils.paramString(t.hooks.current))}catch(t){console.log(t)}}t.hooks={current:{layers:[],locations:[]},set:function(e){Object.assign(t.hooks.current,e),n()},remove:e,removeAll:function(){Object.keys(t.hooks.current).forEach(t=>e(t)),n()},push:function(e,i){t.hooks.current[e]?t.hooks.current[e].indexOf(i)<0&&t.hooks.current[e].push(i):t.hooks.current[e]=[i];n()},filter:function(e,i){t.hooks.current[e]=t.hooks.current[e].filter(t=>t!==i),n()}},window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(e,n,i)=>{t.hooks.current[n]?t.hooks.current[n]=decodeURI(i).split(","):t.hooks.current[n]=i})},rt=t=>(function(e,n={}){const i=this;i.xhr&&i.xhr.abort(),i.loader&&(i.loader.style.display="block"),i.result&&(i.result.innerHTML=""),i.xhr=new XMLHttpRequest,i.xhr.open("GET",t.host+"/api/gazetteer/autocomplete?"+t.utils.paramString({locale:t.workspace.locale.key,q:encodeURIComponent(e),source:n.source,token:t.token})),i.xhr.setRequestHeader("Content-Type","application/json"),i.xhr.responseType="json",i.xhr.onload=e=>{if(i.loader&&(i.loader.style.display="none"),200!==e.target.status)return;const o=e.target.response;if(n.callback)return n.callback(o);0!==o.length?Object.values(o).forEach(e=>{const n=t.utils.wire()`<li>${e.label}</li>`;Object.entries(e).forEach(t=>n["data-"+t[0]]=t[1]),i.result.appendChild(n)}):i.result.appendChild(t.utils.wire()`
      <li style="padding: 5px 0;">No results for this search.</li>`)},i.xhr.send()}),at=t=>(function(e){const n=this;if(n.result&&(n.result.innerHTML=""),n.input&&(n.input.value=e.label),"glx"!==e.source)if("mapbox"!==e.source){if("google"===e.source){const i=new XMLHttpRequest;i.open("GET",t.host+"/api/gazetteer/googleplaces?id="+e.id+"&token="+t.token),i.responseType="json",i.onload=t=>{200===t.target.status&&n.createFeature(t.target.response)},i.send()}}else n.createFeature({type:"Point",coordinates:e.marker});else t.locations.select({locale:t.workspace.locale.key,layer:e.layer,table:e.table,id:e.id,marker:e.marker.split(","),_flyTo:!0})}),st=t=>(function(e){e="string"==typeof e?JSON.parse(e):e,this.layer&&t.map.removeLayer(this.layer),this.layer=t.mapview.geoJSON({geometry:e.geometry,pane:"gazetteer",style:{icon:{url:this.icon,size:40,anchor:[20,40]}}}),t.map.fitBounds(this.layer.getBounds())}),lt=t=>{const e={init:function(n){if(!n)return;Object.assign(e,n),e.toggle&&(e.toggle.style.display="none",e.toggle.classList.remove("active"));e.group&&e.group.remove();if(!t.workspace.locale.gazetteer)return;e.group=t.utils.wire()`<div class="gazetteer input_group">`,e.target.appendChild(e.group),e.input=t.utils.wire()`<input type="text" required placeholder=${t.workspace.locale.gazetteer.placeholder||""}>`,e.input.addEventListener("keyup",t=>{!new Set([37,38,39,40,13]).has(t.keyCode||t.charCode)&&t.target.value.length>0&&e.search(t.target.value)}),e.input.addEventListener("keydown",n=>{const i=n.keyCode||n.charCode,o=e.result.querySelectorAll("li");if(38!==i)if(40!==i){if(46===i||8===i)return e.xhr&&e.xhr.abort(),e.result.innerHTML="",void(e.layer&&t.map.removeLayer(e.layer));if(13===i){let i=n.target.value.split(",").map(parseFloat);i[1]>-90&&i[1]<90&&i[0]>-180&&i[0]<180&&(e.xhr&&e.xhr.abort(),o=[],e.result.innerHTML="",e.createFeature({type:"Point",coordinates:[i[1],i[0]]}));let r=o[t.utils.indexInParent(e.result.querySelector(".active"))];return!r&&o.length>0&&(r=o[0]),void(r["data-id"]&&e.select({label:r.innerText,id:r["data-id"],source:r["data-source"],layer:r["data-layer"],table:r["data-table"],marker:r["data-marker"]}))}}else{let n=t.utils.indexInParent(e.result.querySelector(".active"));n<o.length-1&&[o[n],o[n+1]].forEach(t=>t.classList.toggle("active"))}else{let n=t.utils.indexInParent(e.result.querySelector(".active"));n>0&&[o[n],o[n-1]].forEach(t=>t.classList.toggle("active"))}}),e.input.addEventListener("focusout",()=>{e.xhr&&e.xhr.abort(),setTimeout(()=>e.result.innerHTML="",400)}),e.group.appendChild(e.input),e.group.appendChild(t.utils.wire()`<span class="bar">`),e.loader=t.utils.wire()`<div class="loader" style="display: none;">`,e.group.appendChild(e.loader),e.result=t.utils.wire()`<ul></ul>`,e.result.addEventListener("click",t=>{t.target["data-source"]&&t.target["data-id"]&&e.select({label:t.target.innerText,id:t.target["data-id"],source:t.target["data-source"],layer:t.target["data-layer"],table:t.target["data-table"],marker:t.target["data-marker"]})}),e.group.appendChild(e.result),e.toggle&&(e.toggle.style.display="block",e.group.style.display="none",e.toggle.onclick=()=>{if(e.toggle.classList.toggle("active"),"block"===e.group.style.display)return e.group.style.display="none";e.group.style.display="block",e.input.focus()});e.clear&&(e.clear=n.clear,e.clear.addEventListener("click",()=>e.input.value=""))},search:rt(t),select:at(t),createFeature:st(t),icon:t.utils.svg_symbols({type:"markerColor",style:{colorMarker:"#64dd17",colorDot:"#33691e"}}),style:{stroke:!0,color:"#090",weight:2,fillColor:"#cf9",fillOpacity:.2,fill:!0}};return e},ut=t=>(function(){if(!this.tables)return this.table;let e,n=parseInt(t.mapview.getZoom()),i=Object.keys(this.tables),o=parseInt(i[0]),r=parseInt(i[i.length-1]);return e=this.tables[n],e=n<o?this.tables[o]:e,e=n>r?this.tables[r]:e}),dt=t=>(function(){if(!this.tables)return this.table;let t=Object.keys(this.tables);return this.tables[t[0]]||this.tables[t[1]]}),ct=t=>(function(){if(!this.tables)return this.table;let t=Object.keys(this.tables);return this.tables[t[t.length-1]]||this.tables[t[t.length-2]]}),ht=t=>(function(){const e=new XMLHttpRequest,n=Object.assign({},this.filter.legend,this.filter.current);e.open("GET",t.host+"/api/layer/extent?"+t.utils.paramString({locale:t.workspace.locale.key,layer:this.key,filter:JSON.stringify(n),token:t.token})),e.onload=e=>{if(200===e.target.status){var n=e.target.response.split(",");t.map.getView().fit(n,{duration:1e3})}},e.send()}),pt=t=>(function(){const e=this;e.display=!0,t.map.addLayer(e.L),e.style&&e.style.label&&e.style.label.display&&t.map.addLayer(e.label),t.mapview.attribution.check(),e.view.header&&(e.view.header.toggleDisplay.textContent="layers"),t.hooks&&t.hooks.push("layers",e.key),e.group&&t.layers.listview.groups&&t.layers.listview.groups[e.group]&&t.layers.listview.groups[e.group].chkVisibleLayer(),e.tableview&&t.tableview.node&&Object.keys(e.tableview.tables).forEach(t=>{const n=e.tableview.tables[t];n.display&&n.show()})}),ft=t=>(function(){const e=this;e.display=!1,e.L&&t.map.removeLayer(e.L),e.style&&e.style.label&&e.label&&t.map.removeLayer(e.label),e.attribution&&t.mapview.attribution.remove(e.attribution),t.mapview.attribution.check(),e.view.loader&&(e.view.loader.style.display="none"),e.view.header&&(e.view.header.toggleDisplay.textContent="layers_clear"),t.hooks&&t.hooks.filter("layers",e.key),e.group&&t.layers.listview.groups&&t.layers.listview.groups[e.group]&&t.layers.listview.groups[e.group].chkVisibleLayer(),e.tableview&&Object.keys(e.tableview.tables).forEach(t=>{const n=e.tableview.tables[t];n.tab&&n.remove()})}),mt=t=>e=>(e.tableCurrent=ut(t),e.tableMin=dt(),e.tableMax=ct(),e.zoomToExtent=ht(t),e.show=pt(t),e.remove=ft(t),e.view={loader:t.utils.wire()`<div class="loader" style="display: none">`},e.style&&e.style.themes&&(e.style.theme=e.style.themes[Object.keys(e.style.themes)[0]]),t.layers.format[e.format](e),e),gt=(t,e,n)=>{const i=t.utils.createElement({tag:"div",options:{classList:"block"},appendTo:e.filter.list});return t.utils.createElement({tag:"div",options:{textContent:n.label,classList:"title"},appendTo:i}),t.utils.createElement({tag:"i",options:{textContent:"clear",classList:"material-icons cancel-btn"},appendTo:i,eventListener:{event:"click",funct:()=>{i.remove(),delete e.filter.current[n.field],Object.keys(e.filter.current).length<1&&(e.filter.clear_all.style.display="none",e.filter.check_count()),Object.values(e.filter.select.options).forEach(t=>{t.value===n.field&&(t.disabled=!1)}),e.show()}}}),i},_t=(t,e)=>{if(!e.infoj)return;if(!e.infoj.some(t=>t.filter))return;e.filter.current={};const n=e.infoj.filter(t=>t.filter);n.unshift("Select filter from list.");const i=t.utils.createElement({tag:"div",options:{classList:"panel expandable"},appendTo:e.view.dashboard});t.utils.createElement({tag:"div",options:{className:"btn_text cursor noselect",textContent:"Filter"},appendTo:i,eventListener:{event:"click",funct:e=>{e.stopPropagation(),t.utils.toggleExpanderParent({expandable:i,accordeon:!0,scrolly:t.desktop&&t.desktop.listviews})}}}),e.filter.select=t.utils.dropdown({appendTo:i,entries:n,label:"label",val:"field",onchange:i=>{const o=n.find(t=>t.field===i.target.value);return e.filter.select.options[e.filter.select.selectedIndex].disabled=!0,e.filter.select.selectedIndex=0,e.filter.clear_all.style.display="block","date"==o.filter?((t,e,n)=>{const i=gt(t,e,n);t.utils.createElement({tag:"div",options:{classList:"range-label",textContent:"After "},appendTo:i});const o=t.utils.createElement({tag:"input",options:{classList:"range-input",type:"text",readonly:"readonly"},appendTo:i});t.utils.createElement({tag:"div",appendTo:i,style:{width:"100%",height:"10px"}}),t.utils.createElement({tag:"div",options:{classList:"range-label",textContent:"Before "},appendTo:i});const r=t.utils.createElement({tag:"input",options:{classList:"range-input",type:"text",readonly:"readonly"},appendTo:i});let a;function s(){clearTimeout(a),a=setTimeout(()=>{a=null,e.filter.current[n.field]={},e.filter.current[n.field].gt=t.utils.meltDateStr(o.value)||null,e.filter.current[n.field].lt=t.utils.meltDateStr(r.value)||null,e.filter.check_count(),e.show()},500)}t.utils.datePicker({element:o,position:"c",formatter:(e,i)=>{const o=t.utils.meltDateStr(new Date(i));e.value="datetime"===n.type?t.utils.formatDateTime(o):t.utils.formatDate(o)},onSelect:(t,e)=>{s(),t.calendar.style.top="-10000px"},onShow:t=>{const e=t.el.getBoundingClientRect().top;t.calendar.style.top=e-100+"px"}}),t.utils.datePicker({element:r,position:"c",formatter:(e,i)=>{const o=t.utils.meltDateStr(new Date(i));e.value="datetime"===n.type?t.utils.formatDateTime(o):t.utils.formatDate(o)},onSelect:(t,e)=>{s(),t.calendar.style.top="-10000px"},onShow:t=>{const e=t.el.getBoundingClientRect().top;t.calendar.style.top=e-100+"px"}})})(t,e,o):"numeric"===o.filter?((t,e,n)=>{const i=new XMLHttpRequest,o=e.filter&&Object.assign({},e.filter.legend,e.filter.current);i.open("GET",t.host+"/api/location/field/range?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.key,table:e.table,field:n.field,filter:JSON.stringify(o),token:t.token})),i.onload=i=>{const o=JSON.parse(i.target.response),r=gt(t,e,n),a=function(t){let e;switch(t.type){case"integer":e=1;break;case"numeric":e=.01}return e}(n);r.appendChild(t.utils.wire()`<div class="range-label">Greater or equal`);const s=t.utils.wire()`
    <input
      class="range-input"
      type="number"
      min=${o.min}
      value=${o.min}
      max=${o.max}
      step=${a}
      onkeyup=${t=>{u.value=t.target.value,p()}}>`;r.appendChild(s);var l=t.utils.wire()`<div class="range">`;r.appendChild(l);const u=t.utils.wire()`
    <input
      type="range"
      min=${o.min}
      value=${o.min}
      max=${o.max}
      step=${a}
      oninput=${t=>{s.value=t.target.value,p()}}>`;r.appendChild(u),r.appendChild(t.utils.wire()`<div class="range-label">Smaller or equal`);const d=t.utils.wire()`
    <input
      class="range-input"
      type="number"
      min=${o.min}
      value=${o.max}
      max=${o.max}
      step=${a}
      onkeyup=${t=>{c.value=t.target.value,p()}}>`;r.appendChild(d);l=t.utils.wire()`<div class="range">`;r.appendChild(l);const c=t.utils.wire()`
    <input
      type="range"
      min=${o.min}
      value=${o.max}
      max=${o.max}
      step=${a}
      oninput=${t=>{d.value=t.target.value,p()}}>`;let h;function p(){clearTimeout(h),h=setTimeout(()=>{h=null,e.filter.current[n.field]={},e.filter.current[n.field].gte=parseFloat(s.value),e.filter.current[n.field].lte=parseFloat(d.value),e.filter.check_count(),e.reload()},500)}r.appendChild(c)},i.send()})(t,e,o):"like"===o.filter||"match"===o.filter?((t,e,n)=>{const i=gt(t,e,n);t.utils.createElement({tag:"input",options:{placeholder:"Search."},appendTo:i,eventListener:{event:"keyup",funct:t=>{e.filter.current[n.field]={},e.filter.current[n.field][n.filter]=t.target.value,e.filter.check_count(),e.show()}}})})(t,e,o):o.filter.in?((t,e,n)=>{const i=gt(t,e,n);n.filter.in.forEach(o=>{i.appendChild(t.utils.wire()`
    <label class="checkbox">${o}
    <input type="checkbox"
      onchange=${function(t){e.filter.current[n.field]||(e.filter.current[n.field]={in:[]});if(t.target.checked)e.filter.current[n.field].in.push(t.target.parentNode.innerText);else{let i=e.filter.current[n.field].in.indexOf(t.target.parentNode.innerText);e.filter.current[n.field].in.splice(i,1)}e.filter.check_count(),e.show()}}>
    <div class="checkbox_i">`)})})(t,e,o):"boolean"===o.filter?((t,e,n)=>{const i=gt(t,e,n);e.filter.current[n.field]||(e.filter.current[n.field]={}),e.filter.current[n.field].boolean=!0,i.appendChild(t.utils.wire()`
  <label class="checkbox">${n.name||"True"}
  <input type="checkbox"
    checked=true 
    onchange=${function(t){t.target.checked?e.filter.current[n.field].boolean=!0:e.filter.current[n.field].boolean=!1;e.filter.check_count(),e.show()}}>
  <div class="checkbox_i">`),e.filter.check_count(),e.show()})(t,e,o):void 0}}),e.filter.clear_all=t.utils.createElement({tag:"div",options:{classList:"btn_small cursor noselect",textContent:"Clear all filters"},appendTo:i,eventListener:{event:"click",funct:t=>{t.target.style.display="none",e.filter.run_output.style.display="none",e.filter.list.innerHTML=null,Object.values(e.filter.select.options).forEach(t=>t.disabled=!1),e.filter.current={},e.show()}}}),e.filter.list=t.utils.createElement({tag:"div",appendTo:i}),e.filter.run_output=((t,e,n)=>t.utils.createElement({tag:"button",options:{className:"btn_wide noselect",textContent:"Run Output",disabled:!0},appendTo:e,eventListener:{event:"click",funct:e=>{if(e.target.disabled)return;const i=new XMLHttpRequest,o=Object.assign({},n.filter.legend,n.filter.current);i.open("GET",t.host+"/api/location/select/aggregate?"+t.utils.paramString({locale:t.workspace.locale.key,layer:n.key,table:n.table,filter:JSON.stringify(o),token:t.token})),i.onload=e=>{if(200!==e.target.status)return;const i=JSON.parse(e.target.response),o=t.locations.decorate({geometry:JSON.parse(i.geomj),infoj:i.infoj,layer:n.key,style:{color:record.color,fillColor:record.color,letter:record.letter,stroke:!0,fill:!1}});o.view(),o.geometry.coordinates.length?(o.Marker=t.mapview.geoJSON({geometry:{type:"Point",coordinates:t.utils.turf.pointOnFeature(o.geometry).geometry.coordinates},pane:"select_marker",style:{icon:{url:t.utils.svg_symbols({type:"markerLetter",letter:record.letter,color:record.color}),size:40,anchor:[20,40]}}}),o.flyTo(),record.location=o,t.locations.listview.add(record)):alert("Not enough features found to calculate aggregate data. Try zooming to layer extent.")},i.send()}}}))(t,i,e),e.filter.infoj||(e.filter.run_output.style.display="none"),e.filter.check_count=((t,e)=>()=>{const n=new XMLHttpRequest,i=e.filter&&Object.assign({},e.filter.legend,e.filter.current);n.open("GET",t.host+"/api/layer/count?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.key,table:e.table,filter:JSON.stringify(i),token:t.token})),n.onload=t=>{200===t.target.status&&(e.filter.run_output.disabled=!(parseInt(t.target.response)>1),parseInt(t.target.response)>1&&e.zoomToExtent())},n.send()})(t,e)},yt=(t,e,n,i)=>{i&&e.style.legend.appendChild(t.utils.wire()`
  <div class="block-title">${i}`);const o={};let r;o._=t.utils.wire()`<div class="block">`,e.style.legend.appendChild(o._),o.stroke_color=t.utils.wire()`<div class="title">Stroke Colour: `,o._.appendChild(o.stroke_color),o.strokeColor=t.utils.wire()`
  <span class="cursor colour-label"
  onclick=${t=>{o.colorSelect="strokeColor",o.colour_swatch.style.display="table"}}>${n.strokeColor}`,o.stroke_color.appendChild(o.strokeColor),o.fill_colour=t.utils.wire()`<div class="title">Fill Colour: `,o._.appendChild(o.fill_colour),o.fillColor=t.utils.wire()`
  <span class="cursor colour-label"
  onclick=${t=>{o.colorSelect="fillColor",o.colour_swatch.style.display="table"}}>${n.fillColor}`,o.fill_colour.appendChild(o.fillColor),o.sample_poly=t.utils.wire()`
  <div class="sample-poly"
  style="${"background-colour:"+(n.fillColor||"#fff")+"; border:"+(n.strokeWidth||1)+"px solid "+n.strokeColor}">`,o._.appendChild(o.sample_poly),o.colour_swatch=t.utils.wire()`<tr class="colour-swatch" style="display: none">`,o._.appendChild(o.colour_swatch),t.style.defaults.colours.forEach(i=>{o.colour_swatch.appendChild(t.utils.wire()`
    <td class="colour-td" title=${i.name} style="${"background-color:"+i.hex}"
    onclick=${t=>{o[o.colorSelect].textContent=i.hex,n[o.colorSelect]=i.hex,o.sample_poly.style.backgroundColor=n.fillColor,o.sample_poly.style.border=(n.strokeWidth||1)+"px solid "+n.strokeColor,o.colour_swatch.style.display="none",e.reload()}}>`)}),o._.appendChild(t.utils.wire()`<div class="title">Stroke Weight:`),o._.appendChild(t.utils.wire()`
  <div class="range">
  <input
    type="range"
    min=1
    value=${n.strokeWidth||1}
    max=5
    oninput=${t=>{n.strokeWidth=parseInt(t.target.value),o.sample_poly.style.border=n.strokeWidth+"px solid "+n.strokeColor,clearTimeout(r),r=setTimeout(()=>{r=null,e.reload()},500)}}>`),o._.appendChild(t.utils.wire()`<div class="title">Fill Opacity:`),o._.appendChild(t.utils.wire()`
  <div class="range">
  <input
    type="range"
    min=0.1
    value=${n.fillOpacity||1}
    max=1
    step=0.1
    oninput=${t=>{n.fillOpacity=t.target.value,clearTimeout(r),r=setTimeout(()=>{r=null,e.reload()},500)}}>`)},vt=(t,e,n,i)=>{i&&t.utils.createElement({tag:"div",options:{textContent:i,classList:"block-title"},appendTo:e.style.legend});const o={};o._=t.utils.createElement({tag:"div",options:{classList:"block"},appendTo:e.style.legend}),o.fill_colour=t.utils.createElement({tag:"div",options:{textContent:"Fill Colour: ",classList:"title"},appendTo:o._}),o.fillColor=t.utils.createElement({tag:"span",options:{textContent:n.fillColor,classList:"cursor colour-label"},appendTo:o.fill_colour,eventListener:{event:"click",funct:()=>{o.colorSelect="fillColor",o.colour_swatch.style.display="table"}}}),o.sample=t.utils.createElement({tag:"div",options:{classList:"sample-circle"},style:{backgroundColor:t.utils.chroma(n.fillColor).alpha(1).rgba()},appendTo:o._}),t.utils.createElement({tag:"br",appendTo:o._}),o.colour_swatch=t.utils.createElement({tag:"tr",options:{classList:"colour-swatch"},style:{display:"none"},appendTo:o._}),t.style.defaults.colours.forEach(i=>{t.utils.createElement({tag:"td",options:{classList:"colour-td",title:i.name},style:{backgroundColor:i.hex},appendTo:o.colour_swatch,eventListener:{event:"click",funct:()=>{o[o.colorSelect].textContent=i.hex,n[o.colorSelect]=i.hex,o.sample.style.backgroundColor=t.utils.chroma(n.fillColor).alpha(1).rgba(),o.colour_swatch.style.display="none",e.get()}}})})},bt=t=>e=>{const n=e.style.legend.appendChild(t.utils.wire()`<svg 
  xmlns='http://www.w3.org/2000/svg'
  >`);let i=10;if(e.filter.legend={},e.filter.legend[e.style.theme.field]={ni:[]},Object.entries(e.style.theme.cat).forEach(o=>{let r=Object.assign({},e.style.default,o[1].style);if(void 0===r.fillOpacity){let e=t.utils.wire(null,"svg")`<line
      x1=4
      x2=18
      stroke=${r.color}
      stroke-width=${r.weight||1}
      >`;e.setAttribute("y1",i+10),e.setAttribute("y2",i+10),n.appendChild(e)}else{let e=t.utils.wire(null,"svg")`<rect
      x=4
      width=14
      height=14
      fill=${r.fillColor||"#FFF"}
      fill-opacity=${r.fillOpacity}
      stroke=${r.strokeColor}
      stroke-width=${r.weight||1}
      >`;e.setAttribute("y",i+3),n.appendChild(e)}let a=t.utils.wire(null,"svg")`<text
    x=25
    style='font-size:12px; alignment-baseline:central; cursor:pointer;'
    >${o[1].label||o[0]}
    </text>`;a.setAttribute("y",i+11),a.addEventListener("click",t=>{"line-through"===t.target.style.textDecoration?(t.target.style.textDecoration="none",t.target.style.opacity=1,t.target.style.fillOpacity=1,e.filter.legend[e.style.theme.field].ni.splice(e.filter.legend[e.style.theme.field].ni.indexOf(o[0]),1)):(t.target.style.textDecoration="line-through",t.target.style.opacity=.8,t.target.style.fillOpacity=.8,e.filter.legend[e.style.theme.field].ni.push(o[0])),e.reload()}),n.appendChild(a),i+=20}),e.style.theme.other){if(void 0===e.style.default.fillOpacity){let o=t.utils.wire(null,"svg")`<line
      x1=4
      x2=18
      stroke=${e.style.default.color}
      stroke-width=${e.style.default.weight||1}
      >`;o.setAttribute("y1",i+10),o.setAttribute("y2",i+10),n.appendChild(o)}else{let o=t.utils.wire(null,"svg")`<rect
      x=4
      width=14
      height=14
      fill=${e.style.default.fillColor||"#FFF"}
      fill-opacity=${e.style.default.fillOpacity}
      stroke=${e.style.default.strokeColor}
      stroke-width=${e.style.default.weight||1}
      >`;o.setAttribute("y",i+3),n.appendChild(o)}let o=t.utils.wire(null,"svg")`<text
    x=25
    style='font-size:12px; alignment-baseline:central; cursor:pointer;'
    >other
    </text>`;o.setAttribute("y",i+11),o.addEventListener("click",t=>{"line-through"===t.target.style.textDecoration?(t.target.style.textDecoration="none",t.target.style.opacity=1,t.target.style.fillOpacity=1,e.filter.legend[e.style.theme.field].in=[]):(t.target.style.textDecoration="line-through",t.target.style.opacity=.8,t.target.style.fillOpacity=.8,e.filter.legend[e.style.theme.field].in=Object.keys(e.style.theme.cat)),e.reload()}),n.appendChild(o),i+=20}n.style.height=`${i}px`},wt=t=>e=>{const n=t.utils.wire()`<svg>`;e.style.legend.appendChild(n);let i=10;e.style.theme.cat_arr.forEach(o=>{let r=Object.assign({},e.style.default,o.style);n.appendChild(t.utils.wire(null,"svg")`
      <rect
        x=4
        y=${i+3}
        width=14
        height=14
        fill=${r.fillColor}
        fill-opacity=${r.fillOpacity}
        stroke=${r.color}/>`),n.appendChild(t.utils.wire(null,"svg")`
      <text
        x=25
        y=${i+11}
        style="font-size: 12px; dominant-baseline: central">
          ${o.label||o.value}`),i+=20})},Mt=t=>e=>{const n=e.style.legend.appendChild(t.utils.wire()`<svg 
    xmlns='http://www.w3.org/2000/svg'
    >`);let i=10;if(e.filter.legend={},e.filter.legend[e.style.theme.field]={ni:[]},Object.entries(e.style.theme.cat).forEach(o=>{let r=t.utils.wire(null,"svg")`<image
      x=0
      width=20
      height=20
    >`;r.setAttribute("y",i),r.setAttribute("href",t.utils.svg_symbols(Object.assign({},e.style.marker,o[1].style))),n.appendChild(r);let a=t.utils.wire(null,"svg")`<text
    x=25
    style='font-size:12px; alignment-baseline:central; cursor:pointer;'
    >${o[1].label||o[0]}
    </text>`;a.setAttribute("y",i+13),a.addEventListener("click",t=>{"line-through"===t.target.style.textDecoration?(t.target.style.textDecoration="none",t.target.style.opacity=1,t.target.style.fillOpacity=1,e.filter.legend[e.style.theme.field].ni.splice(e.filter.legend[e.style.theme.field].ni.indexOf(o[0]),1)):(t.target.style.textDecoration="line-through",t.target.style.opacity=.8,t.target.style.fillOpacity=.8,e.filter.legend[e.style.theme.field].ni.push(o[0])),e.reload()}),n.appendChild(a),i+=23}),e.style.theme.other){let o=t.utils.wire(null,"svg")`<image
      x=0
      width=20
      height=20
      />`;o.setAttribute("y",i),o.setAttribute("href",t.utils.svg_symbols(e.style.marker)),n.appendChild(o);let r=t.utils.wire(null,"svg")`<text
    x=25
    style='font-size:12px; alignment-baseline:central; cursor:pointer;'
    >other
    </text>`;r.setAttribute("y",i+13),r.addEventListener("click",t=>{"line-through"===t.target.style.textDecoration?(t.target.style.textDecoration="none",t.target.style.opacity=1,t.target.style.fillOpacity=1,e.filter.legend[e.style.theme.field].in=[]):(t.target.style.textDecoration="line-through",t.target.style.opacity=.8,t.target.style.fillOpacity=.8,e.filter.legend[e.style.theme.field].in=Object.keys(e.style.theme.cat)),e.reload()}),i+=20,n.appendChild(r)}let o=t.utils.wire(null,"svg")`<image
  x=0
  width=40
  height=40
  />`;o.setAttribute("y",i+5),o.setAttribute("href",t.utils.svg_symbols(e.style.markerMulti)),n.appendChild(o);let r=t.utils.wire(null,"svg")`<text
    x=44
    style='font-size:12px; alignment-baseline:central; cursor:pointer;'
    >Multiple Locations
    </text>`;r.setAttribute("y",i+27),n.appendChild(r),n.style.height=`${i+50}px`},xt=t=>e=>{const n=e.style.legend.appendChild(t.utils.wire()`<svg 
    xmlns='http://www.w3.org/2000/svg'
    >`);let i=10;e.style.theme.cat_arr.forEach(o=>{let r=t.utils.wire(null,"svg")`<image
      x=0
      width=20
      height=20
    >`;r.setAttribute("y",i),r.setAttribute("href",t.utils.svg_symbols(Object.assign({},e.style.marker,o.style))),n.appendChild(r);let a=t.utils.wire(null,"svg")`<text
    x=25
    style='font-size:12px; alignment-baseline:central;'
    >${o.label||o.style}
    </text>`;a.setAttribute("y",i+13),n.appendChild(a),i+=20}),n.styleheight=i},Lt=t=>e=>{t.utils.dropdown({appendTo:e.style.legend,entries:e.grid_fields,selected:Object.keys(e.grid_fields).find(t=>e.grid_fields[t]===e.grid_size),onchange:t=>{e.grid_size=e.grid_fields[t.target.value],e.get()}});const n=e.style.legend.appendChild(t.utils.wire()`<svg 
  xmlns='http://www.w3.org/2000/svg'
  >`);let i=35,o=e.style.range.length,r=100/o;for(let a=0;a<o;a++){let s=10*(a+2)/o,l=a*r,u=t.utils.wire(null,"svg")`<circle
    fill='#333'
    >`;u.setAttribute("cx",l+r/2+1+"%"),u.setAttribute("cy",i+1),u.setAttribute("r",s),n.appendChild(u);let d=t.utils.wire(null,"svg")`<circle
    fill='#999'
    >`;d.setAttribute("cx",l+r/2+"%"),d.setAttribute("cy",i),d.setAttribute("r",s),n.appendChild(d),0===a&&(e.style.legend.size_min=t.utils.wire(null,"svg")`<text
      style='font-size:13px; text-anchor: start; font-family: "PT Mono", monospace;'
      >min
      </text>`,e.style.legend.size_min.setAttribute("x",l+"%"),e.style.legend.size_min.setAttribute("y",i-20),n.appendChild(e.style.legend.size_min)),a===(o/2%1!=0&&Math.round(o/2)-1)&&(e.style.legend.size_avg=t.utils.wire(null,"svg")`<text
      style='font-size:13px; text-anchor: middle; font-family: "PT Mono", monospace;'
      >avg
      </text>`,e.style.legend.size_avg.setAttribute("x",l+r/2+"%"),e.style.legend.size_avg.setAttribute("y",i-20),n.appendChild(e.style.legend.size_avg)),a===o-1&&(e.style.legend.size_max=t.utils.wire(null,"svg")`<text
      style='font-size:13px; text-anchor: end; font-family: "PT Mono", monospace;'
      >max
      </text>`,e.style.legend.size_max.setAttribute("x",l+r+"%"),e.style.legend.size_max.setAttribute("y",i-20),n.appendChild(e.style.legend.size_max))}i+=20;for(let a=0;a<o;a++){let s=a*r,l=t.utils.wire(null,"svg")`<rect
    height=20
    fill=${e.style.range[a]}
    >`;l.setAttribute("x",s+"%"),l.setAttribute("y",i),l.setAttribute("width",r+"%"),n.appendChild(l),0===a&&(e.style.legend.color_min=t.utils.wire(null,"svg")`<text
      style='font-size:13px; text-anchor: start; font-family: "PT Mono", monospace;'
      >min
      </text>`,e.style.legend.color_min.setAttribute("x",s+"%"),e.style.legend.color_min.setAttribute("y",i+40),n.appendChild(e.style.legend.color_min)),a===(o/2%1!=0&&Math.round(o/2)-1)&&(e.style.legend.color_avg=t.utils.wire(null,"svg")`<text id="grid_legend_color__avg"
      style='font-size:13px; text-anchor: middle; font-family: "PT Mono", monospace;'
      >avg
      </text>`,e.style.legend.color_avg.setAttribute("x",s+r/2+"%"),e.style.legend.color_avg.setAttribute("y",i+40),n.appendChild(e.style.legend.color_avg)),a===o-1&&(e.style.legend.color_max=t.utils.wire(null,"svg")`<text id="grid_legend_color__max"
      style='font-size:13px; text-anchor: end; font-family: "PT Mono", monospace;'
      >max
      </text>`,e.style.legend.color_max.setAttribute("x",s+r+"%"),e.style.legend.color_max.setAttribute("y",i+40),n.appendChild(e.style.legend.color_max))}n.style.height=`${i+43}px`,t.utils.dropdown({appendTo:e.style.legend,entries:e.grid_fields,selected:Object.keys(e.grid_fields).find(t=>e.grid_fields[t]===e.grid_color),onchange:t=>{e.grid_color=e.grid_fields[t.target.value],e.get()}}),e.style.legend.appendChild(t.utils.wire()`
  <td style="padding-top: 5px;" colSpan=2>
  <label class="checkbox">Display colour values as a ratio to the size value.
  <input type="checkbox"
    checked=${e.grid_ratio}
    onchange=${t=>{e.grid_ratio=t.target.checked,e.get()}}>
  <div class="checkbox_i">`)},kt=(t,e)=>{const n=(t=>({polyCategorized:bt(t),polyGraduated:wt(t),clusterCategorized:Mt(t),clusterGraduated:xt(t),grid:Lt(t)}))(t);if(!e.style)return;const i=t.utils.wire()`<div class="panel expandable">`;e.view.dashboard.appendChild(i);const o=t.utils.wire()`
  <div onclick=${e=>{e.stopPropagation(),t.utils.toggleExpanderParent({expandable:i,accordeon:!0,scrolly:t.desktop&&t.desktop.listviews})}}
  class="btn_text cursor noselect">Style`;if(i.appendChild(o),e.style.label&&i.appendChild(t.utils.wire()`
    <label class="checkbox" style="margin-bottom: 10px;">Display Labels.
    <input type="checkbox"
    checked=${!!e.style.label.display}
    onchange=${t=>{e.style.label.display=t.target.checked,e.show()}}>
    <div class="checkbox_i">`),e.style.legend=t.utils.wire()`<div class="legend">`,e.style.themes){const n=Object.assign({},{Basic:null},e.style.themes);t.utils.dropdown({title:"Select thematic style",appendTo:i,entries:n,selected:Object.keys(e.style.themes)[0],onchange:t=>{e.style.theme=n[t.target.value],r(e),e.reload()}}),r(e)}function r(e){if(e.style.legend.innerHTML="",e.filter.legend={},!e.style.theme)return e.style.marker&&vt(t,e,e.style.marker,"Marker"),e.style.markerMulti&&vt(t,e,e.style.markerMulti,"Marker (multi)"),e.style.default&&!e.style.default.marker&&yt(t,e,e.style.default,"Polygon"),void(e.style.highlight&&!e.style.highlight.marker&&yt(t,e,e.style.highlight,"Highlight"));a()}function a(){"mvt"===e.format&&"categorized"===e.style.theme.type&&n.polyCategorized(e),"mvt"===e.format&&"graduated"===e.style.theme.type&&n.polyGraduated(e),"cluster"===e.format&&"categorized"===e.style.theme.type&&n.clusterCategorized(e),"cluster"===e.format&&"competition"===e.style.theme.type&&n.clusterCategorized(e),"cluster"===e.format&&"graduated"===e.style.theme.type&&n.clusterGraduated(e)}i.appendChild(e.style.legend),"grid"===e.format&&n.grid(e)},Tt=(t,e)=>{const n=t.utils.wire()`<div class="dashboard">`;if(e.view.dashboard=n,e.view.drawer.appendChild(n),e.meta){const i=t.utils.wire()`<p class="meta">`;i.innerHTML=e.meta,n.appendChild(i)}if(((t,e)=>{e.report&&e.report.templates&&Object.entries(e.report.templates).forEach(n=>{const i=t.host+"/report?"+t.utils.paramString(Object.assign(n[1],{locale:t.workspace.locale.key,layer:e.key,token:t.token}));e.view.dashboard.appendChild(t.utils.wire()`
      <div style="margin-top: 10px;"><a target="_blank" href="${i}"><i class="material-icons" style="vertical-align:bottom; font-size: 16px;">event_note</i>${n[1].name||n[0]}`)})})(t,e),((t,e)=>{if(!e.edit)return;if(e.edit.properties&&1===Object.keys(e.edit).length)return;if(e.edit.properties&&e.edit.delete&&2===Object.keys(e.edit).length)return;e.edit.panel=t.utils.wire()`<div class="panel expandable">`,e.view.dashboard.appendChild(e.edit.panel);const n=t.utils.wire()`
    <div onclick=${n=>{n.stopPropagation(),t.utils.toggleExpanderParent({expandable:e.edit.panel,accordeon:!0,scrolly:t.desktop&&t.desktop.listviews})}}
    class="btn_text cursor noselect">Editing`;if(e.edit.panel.appendChild(n),e.edit.point&&e.edit.panel.appendChild(t.utils.wire()`
  <div onclick=${n=>{n.stopPropagation();const i=n.target;if(i.classList.contains("active"))return t.mapview.draw.finish();t.mapview.draw.begin({layer:e,type:"Point",begin:()=>{i.classList.add("active"),e.view.header.classList.add("edited")},callback:()=>{e.view.header.classList.remove("edited"),i.classList.remove("active")}})}}
  class="btn_state btn_wide cursor noselect">Point`),e.edit.polygon&&e.edit.panel.appendChild(t.utils.wire()`
  <div onclick=${n=>{n.stopPropagation();const i=n.target;if(i.classList.contains("active"))return t.mapview.draw.finish();t.mapview.draw.begin({layer:e,type:"Polygon",begin:()=>{i.classList.add("active"),e.view.header.classList.add("edited")},callback:()=>{e.view.header.classList.remove("edited"),i.classList.remove("active")}})}}
  class="btn_state btn_wide cursor noselect">Polygon`),e.edit.rectangle&&e.edit.panel.appendChild(t.utils.wire()`
  <div onclick=${n=>{n.stopPropagation();const i=n.target;if(i.classList.contains("active"))return t.mapview.draw.finish();t.mapview.draw.begin({layer:e,type:"Circle",begin:()=>{i.classList.add("active"),e.view.header.classList.add("edited")},geometryFunction:t.mapview.lib.draw.createBox(),callback:()=>{e.view.header.classList.remove("edited"),i.classList.remove("active")}})}}
  class="btn_state btn_wide cursor noselect">Rectangle`),e.edit.circle&&e.edit.panel.appendChild(t.utils.wire()`
  <div onclick=${n=>{n.stopPropagation();const i=n.target;if(i.classList.contains("active"))return t.mapview.draw.finish();t.mapview.draw.begin({layer:e,type:"Circle",begin:()=>{i.classList.add("active"),e.view.header.classList.add("edited")},callback:()=>{e.view.header.classList.remove("edited"),i.classList.remove("active")}})}}
  class="btn_state btn_wide cursor noselect">Circle`),e.edit.line&&e.edit.panel.appendChild(t.utils.wire()`
  <div onclick=${n=>{n.stopPropagation();const i=n.target;if(i.classList.contains("active"))return t.mapview.draw.finish();t.mapview.draw.begin({layer:e,type:"LineString",begin:()=>{i.classList.add("active"),e.view.header.classList.add("edited")},callback:()=>{e.view.header.classList.remove("edited"),i.classList.remove("active")}})}}
  class="btn_state btn_wide cursor noselect">Line`),e.edit.isoline_mapbox){"object"!=typeof e.edit.isoline_mapbox&&(e.edit.isoline_mapbox={});let n=t.utils.wire()`<div class="block">`;e.edit.panel.appendChild(n),t.ctrl.isoline_mapbox({entry:e,container:n}),e.edit.panel.appendChild(t.utils.wire()`
    <div onclick=${n=>{n.stopPropagation();const i=n.target;if(i.classList.contains("active"))return t.mapview.draw.finish();t.mapview.draw.begin({layer:e,type:"Point",begin:()=>{i.classList.add("active"),e.view.header.classList.add("edited")},geometryFunction:function(n,i){i=new t.mapview.lib.geom.Circle(n,1e3*e.edit.isoline_mapbox.minutes);var o=new t.mapview.lib.Feature({geometry:i});console.log(o);const r=t.mapview.lib.proj.transform(n,"EPSG:3857","EPSG:4326"),a=new XMLHttpRequest;return a.open("GET",t.host+"/api/location/edit/isoline/mapbox?"+t.utils.paramString({locale:t.workspace.locale.key,coordinates:r.join(","),minutes:e.edit.isoline_mapbox.minutes,profile:e.edit.isoline_mapbox.profile,token:t.token})),a.setRequestHeader("Content-Type","application/json"),a.responseType="json",a.onload=e=>{if(200!==e.target.status)return alert("No route found. Try a longer travel time");const n=(new t.mapview.lib.format.GeoJSON).readFeature({type:"Feature",geometry:e.target.response},{dataProjection:"EPSG:4326",featureProjection:"EPSG:"+t.mapview.srid});t.mapview.draw.sourceVector.clear(),t.mapview.draw.sourceVector.addFeature(n)},a.send(),i},callback:()=>{e.view.header.classList.remove("edited"),i.classList.remove("active")}})}}
    class="btn_state btn_wide cursor noselect">Isoline Mapbox`)}if(e.edit.isoline_here){"object"!=typeof e.edit.isoline_here&&(e.edit.isoline_here={});let n=t.utils.wire()`<div class="block">`;e.edit.panel.appendChild(n),t.ctrl.isoline_here({entry:e,container:n}),e.edit.panel.appendChild(t.utils.wire()`
    <div onclick=${n=>{n.stopPropagation();const i=n.target;if(i.classList.contains("active"))return t.mapview.draw.finish();t.mapview.draw.begin({layer:e,type:"Point",begin:()=>{i.classList.add("active"),e.view.header.classList.add("edited")},geometryFunction:function(n,i){i=new t.mapview.lib.geom.Circle(n,1e3*e.edit.isoline_mapbox.minutes);new t.mapview.lib.Feature({geometry:i});const o=t.mapview.lib.proj.transform(n,"EPSG:3857","EPSG:4326"),r=new XMLHttpRequest;return r.open("GET",t.host+"/api/location/edit/isoline/mapbox?"+t.utils.paramString({locale:t.workspace.locale.key,coordinates:o.join(","),mode:e.edit.isoline_here.mode,type:e.edit.isoline_here.type,rangetype:e.edit.isoline_here.rangetype,minutes:e.edit.isoline_here.minutes,distance:e.edit.isoline_here.distance,token:t.token})),r.setRequestHeader("Content-Type","application/json"),r.responseType="json",r.onload=e=>{if(200!==e.target.status)return alert("No route found. Try a longer travel time");const n=(new t.mapview.lib.format.GeoJSON).readFeature({type:"Feature",geometry:e.target.response},{dataProjection:"EPSG:4326",featureProjection:"EPSG:"+t.mapview.srid});t.mapview.draw.sourceVector.clear(),t.mapview.draw.sourceVector.addFeature(n)},r.send(),i},callback:()=>{e.view.header.classList.remove("edited"),i.classList.remove("active")}})}}
    class="btn_state btn_wide cursor noselect">Isoline Here`)}})(t,e),((t,e)=>{if(t.mobile||!e.tableview||!e.tableview.tables)return;e.tableview.panel=t.utils.wire()`<div class="panel expandable">`,e.view.dashboard.appendChild(e.tableview.panel);const n=t.utils.wire()`
  <div onclick=${n=>{n.stopPropagation(),t.utils.toggleExpanderParent({expandable:e.tableview.panel,accordeon:!0,scrolly:t.desktop&&t.desktop.listviews})}}
  class="btn_text cursor noselect">Table`;e.tableview.panel.appendChild(n),e.tableview.tables&&Object.keys(e.tableview.tables).forEach(n=>{const i=e.tableview.tables[n];i.key=n,i.layer=e,i.title=i.title||n,i.target=t.tableview.node.querySelector(".table"),i.target||(t.tableview.node.querySelector(".tab-content").innerHTML="",i.target=t.utils.wire()`<div class="table">`,t.tableview.node.querySelector(".tab-content").appendChild(i.target)),i.show=()=>t.tableview.layerTable(i),i.remove=()=>t.tableview.removeTab(i),e.tableview.panel.appendChild(t.utils.wire()`
    <label class="checkbox">${i.title}
    <input type="checkbox"
    checked=${i.display}
    onchange=${t=>{i.display=t.target.checked,i.display?e.show():i.remove()}}>
    <div class="checkbox_i">`),i.display&&e.display&&i.show()})})(t,e),((t,e)=>{if("cluster"!==e.format)return;if(!e.cluster_panel)return;const n=t.utils.wire()`<div class="panel expandable">`;e.view.dashboard.appendChild(n);const i=t.utils.wire()`
  <div onclick=${n=>{n.stopPropagation(),t.utils.toggleExpanderParent({expandable:e.tableview.panel,accordeon:!0,scrolly:t.desktop&&t.desktop.listviews})}}
  class="btn_text cursor noselect">Cluster`;let o;e.tableview.panel.appendChild(i),n.appendChild(t.utils.wire()`
  <div>
  <span>Minimum number of cluster (KMeans): </span>
  <span class="bold">${e.cluster_kmeans}</span>
  <div class="range">
  <input
    type="range"
    min=1
    value=${parseInt(100*e.cluster_kmeans)}
    max=50
    step=1
    oninput=${t=>{e.cluster_kmeans=parseInt(t.target.value)/100,t.target.parentNode.previousElementSibling.textContent=t.target.value/100,clearTimeout(o),o=setTimeout(()=>{o=null,e.reload()},500)}}>`),n.appendChild(t.utils.wire()`
  <div>
  <span>Maximum distance between locations in cluster (DBScan): </span>
  <span class="bold">${e.cluster_dbscan}</span>
  <div class="range">
  <input
    type="range"
    min=1
    value=${parseInt(100*e.cluster_dbscan)}
    max=50
    step=1
    oninput=${t=>{e.cluster_dbscan=parseInt(t.target.value)/100,t.target.parentNode.previousElementSibling.textContent=t.target.value/100,clearTimeout(o),o=setTimeout(()=>{o=null,e.reload()},500)}}>`),e.cluster_logscale=e.cluster_logscale||!1,n.appendChild(t.utils.wire()`
  <label class="checkbox">Log scale cluster size.
  <input type="checkbox"
    checked=${!!e.cluster_logscale} 
    onchange=${t=>{e.cluster_logscale=t.target.checked,e.get()}}>
  <div class="checkbox_i">`)})(t,e),_t(t,e),kt(t,e),n.children.length>0){e.view.header.classList.add("pane_shadow"),e.view.drawer.classList.add("expandable"),e.view.header.onclick=n=>{n.stopPropagation(),t.utils.toggleExpanderParent({expandable:e.view.drawer,accordeon:!0,scrolly:t.desktop&&t.desktop.listviews})};const n=t.utils.wire()`
    <i
    title="Toggle layer dashboard"
    class="material-icons cursor noselect btn_header expander">`;e.view.header.appendChild(n),n.onclick=n=>{n.stopPropagation(),t.utils.toggleExpanderParent({expandable:e.view.drawer,scrolly:t.desktop&&t.desktop.listviews})}}},Et=t=>e=>{e.view.drawer=t.utils.wire()`<div class="drawer">`,e.view.header=((t,e)=>{const n=t.utils.wire()`
    <div class="header"><div>${e.name||e.key}`;return n.toggleDisplay=t.utils.wire()`
    <i
    title="Toggle visibility"
    class="material-icons cursor noselect btn_header">
    ${e.display?"layers":"layers_clear"}`,n.appendChild(n.toggleDisplay),n.toggleDisplay.onclick=t=>{if(t.stopPropagation(),e.display=!e.display,e.display)return e.show();e.remove()},n.zoomToExtent=t.utils.wire()`
    <i
    title="Zoom to filtered layer extent"
    class="material-icons cursor noselect btn_header">
    fullscreen`,n.appendChild(n.zoomToExtent),n.zoomToExtent.onclick=t=>{t.stopPropagation(),e.zoomToExtent()},"cluster"===e.format&&e.style.marker&&n.appendChild(t.utils.wire()`
      <img
      style="float: right"
      src="${t.utils.svg_symbols(e.style.marker)}">`),n})(t,e),e.view.drawer.appendChild(e.view.header),e.view.drawer.appendChild(e.view.loader),Tt(t,e),e.tables&&t.mapview.node.addEventListener("changeEnd",()=>{e.view.drawer.style.opacity=e.tableCurrent()?1:.4})},Ct=t=>{return{init:function(e){t.layers.listview.node=e.target,t.layers.listview.node.innerHTML="",t.layers.listview.groups={},Object.values(t.layers.list).forEach(e=>{t.layers.view(e),e.group?(t.layers.listview.groups[e.group]?t.layers.listview.groups[e.group].chkVisibleLayer():function(e){const n={};t.layers.listview.groups[e.group]=n,n.container=t.utils.wire()`<div class="drawer drawer-group expandable-group">`,t.layers.listview.node.appendChild(n.container),n.header=t.utils.wire()`<div class="header-group"><div>${e.group}`,n.header.onclick=e=>{e.stopPropagation(),t.utils.toggleExpanderParent({expandable:e.target.parentNode,expandedTag:"expanded-group",expandableTag:"expandable-group",accordeon:!0,scrolly:t.desktop&&t.desktop.listviews})},n.container.appendChild(n.header),n.meta=t.utils.wire()`<div>`,n.container.appendChild(n.meta),n.chkVisibleLayer=()=>{let i=Object.values(t.layers.list).some(t=>t.display&&t.group===e.group);n.visible.style.display=i?"block":"none"},n.visible=t.utils.wire()`
    <i class="material-icons cursor noselect btn_header hide-group"
    title="Hide layers from group">visibility`,n.visible.onclick=n=>{n.stopPropagation(),Object.values(t.layers.list).forEach(t=>{t.group===e.group&&t.display&&t.remove()})},n.header.appendChild(n.visible);const i=t.utils.wire()`
    <i class="material-icons cursor noselect btn_header expander-group"
    title="Toggle group panel">`;i.onclick=e=>{e.stopPropagation(),t.utils.toggleExpanderParent({expandable:n.container,expandedTag:"expanded-group",expandableTag:"expandable-group",scrolly:t.desktop&&t.desktop.listviews})},n.header.appendChild(i)}(e),e.groupmeta&&t.layers.listview.groups[e.group].meta.appendChild(t.utils.wire()`<div class="meta">${e.groupmeta}`),t.layers.listview.groups[e.group].container.appendChild(e.view.drawer)):t.layers.listview.node.appendChild(e.view.drawer),e.display&&e.show()})}}},Dt=t=>({layer:mt(t),list:{},view:Et(t),listview:Ct(t)}),St=t=>(function(e,n){t.locations.select({locale:t.workspace.locale.key,layer:this.key,table:this.tableCurrent(),id:n.get("id"),marker:e.coordinate})}),Yt=t=>(function(){const e=new XMLHttpRequest;e.open("GET",t.host+"/api/location/field?"+t.utils.paramString({locale:t.workspace.locale.key,layer:this.key,table:this.table,id:this.highlight,field:this.hover.field,token:t.token})),e.setRequestHeader("Content-Type","application/json"),e.responseType="json",e.onload=e=>{200===e.target.status&&t.mapview.infotip.create(e.target.response.field)},e.send()}),Rt=t=>e=>{e.highlight=!0,e.select=St(t),e.infotip=Yt(t),e.reload=()=>{n.clear(),n.refresh({force:!0})};const n=new t.mapview.lib.source.VectorTile({format:new t.mapview.lib.format.MVT({}),transition:0,tileUrlFunction:n=>{const i=e.tableCurrent();if(i)return t.host+"/api/layer/mvt/"+n[0]+"/"+n[1]+"/"+n[2]+"?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.key,table:i,properties:e.properties,filter:JSON.stringify(e.filter&&Object.assign({},e.filter.legend,e.filter.current)),token:t.token})}});let i=0;n.on("tileloadstart",()=>{i++,e.view.loader&&(e.view.loader.style.display="block")}),n.on("tileloadend",()=>{i--,e.view.loader&&0===i&&(e.view.loader.style.display="none")}),e.L=new t.mapview.lib.layer.VectorTile({source:n,zIndex:e.style.zIndex||1,style:n=>{const i=Object.assign({},e.style.default),o=e.style.theme;if(o&&"categorized"===o.type&&Object.assign(i,o.cat[n.get(o.field)].style||{}),o&&"graduated"===o.type&&o.cat_arr){const t=parseFloat(n.get(o.field));if(t){for(let e=0;e<o.cat_arr.length&&!(t<o.cat_arr[e].value);e++)var r=o.cat_arr[e].style;Object.assign(i,r)}}return Object.assign(i,e.highlight===n.get("id")?e.style.highlight:{},e.highlight===n.get("id")?{zIndex:30}:{zIndex:10}),new t.mapview.lib.style.Style({zIndex:i.zIndex,stroke:i.strokeColor&&new t.mapview.lib.style.Stroke({color:i.strokeColor,width:parseInt(i.strokeWidth)||1}),fill:i.fillColor&&new t.mapview.lib.style.Fill({color:t.utils.chroma(i.fillColor).alpha(0===i.fillOpacity?0:parseFloat(i.fillOpacity)||1).rgba()}),image:i.marker&&t.mapview.icon(i.marker)})}}),e.L.set("layer",e,!0)},Ot=t=>e=>{e.highlight=!0,e.select=St(t),e.infotip=Yt(t),e.reload=()=>{n.refresh()};const n=new t.mapview.lib.source.Vector({loader:function(){e.xhr&&e.xhr.abort(),n.clear();const i=e.tableCurrent();i&&(e.view.loader&&(e.view.loader.style.display="block"),e.xhr=new XMLHttpRequest,e.xhr.open("GET",t.host+"/api/layer/geojson?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.key,table:i,cat:e.style.theme&&e.style.theme.field,filter:JSON.stringify(e.filter&&Object.assign({},e.filter.legend,e.filter.current)),token:t.token})),e.xhr.setRequestHeader("Content-Type","application/json"),e.xhr.responseType="json",e.xhr.onload=i=>{if(e.view.loader&&(e.view.loader.style.display="none"),200!==i.target.status)return;const o=new t.mapview.lib.format.GeoJSON,r=i.target.response.map(n=>o.readFeature({type:"Feature",geometry:n.geometry,properties:{id:n.properties.id}},{dataProjection:"EPSG:"+e.srid,featureProjection:"EPSG:"+t.mapview.srid}));n.addFeatures(r)},e.xhr.send())},strategy:function(n,i){return this.resolution&&this.resolution!=i&&this.loadedExtentsRtree_.clear(),[t.mapview.lib.proj.transformExtent(n,"EPSG:"+t.mapview.srid,"EPSG:"+e.srid)]}});e.L=new t.mapview.lib.layer.Vector({source:n,zIndex:e.style.zIndex||1,style:n=>{const i=Object.assign({},e.style.default),o=e.style.theme;if(o&&"categorized"===o.type&&Object.assign(i,o.cat[n.get(o.field)].style||{}),o&&"graduated"===o.type&&o.cat_arr){const t=parseFloat(n.get(o.field));if(t){for(let e=0;e<o.cat_arr.length&&!(t<o.cat_arr[e].value);e++)var r=o.cat_arr[e].style;Object.assign(i,r)}}return Object.assign(i,e.highlight===n.get("id")?e.style.highlight:{},e.highlight===n.get("id")?{zIndex:30}:{zIndex:10}),new t.mapview.lib.style.Style({zIndex:i.zIndex,stroke:i.strokeColor&&new t.mapview.lib.style.Stroke({color:i.strokeColor,width:parseInt(i.strokeWidth)||1}),fill:i.fillColor&&new t.mapview.lib.style.Fill({color:t.utils.chroma(i.fillColor).alpha(0===i.fillOpacity?0:parseFloat(i.fillOpacity)||1).rgba()}),image:i.marker&&t.mapview.icon(i.marker)})}}),e.L.set("layer",e,!0)},Pt=t=>(function(e,n){const i=this;let o=n.get("properties").count,r=n.getGeometry().getCoordinates(),a=t.mapview.lib.proj.transform(r,"EPSG:"+t.mapview.srid,"EPSG:"+i.srid);const s=new XMLHttpRequest,l=i.filter&&Object.assign({},i.filter.legend,i.filter.current);s.open("GET",t.host+"/api/location/select/cluster?"+t.utils.paramString({locale:t.workspace.locale.key,layer:i.key,table:i.table,filter:JSON.stringify(l),count:o>99?99:o,coords:a,token:t.token})),s.setRequestHeader("Content-Type","application/json"),s.responseType="json",s.onload=e=>{if(200!==e.target.status)return;let n=e.target.response;if(n.length>1){const e=t.utils.wire()`<ul class="scroll-list">`;return n.forEach(n=>{e.appendChild(t.utils.wire()`<li onclick=${()=>t.locations.select({locale:t.workspace.locale.key,layer:i.key,table:i.table,id:n.id,marker:n.coords})}>${n.label}`)}),void t.mapview.popup.create({coords:t.mapview.lib.proj.transform(a,"EPSG:"+i.srid,"EPSG:"+t.mapview.srid),content:e})}return 1===n.length?t.locations.select({locale:t.workspace.locale.key,layer:i.key,table:i.table,id:n[0].id,marker:t.mapview.lib.proj.transform(n[0].coords,"EPSG:"+i.srid,"EPSG:"+t.mapview.srid)}):void 0},s.send()}),Ft=t=>e=>{e.highlight=!0,e.select=Pt(t),e.infotip=Yt(t),e.reload=()=>{n.clear(),n.refresh({force:!0})};const n=new t.mapview.lib.source.Vector({loader:function(i,o,r){e.xhr&&e.xhr.abort(),this.resolution=o,n.clear();const a=e.tableCurrent();a&&(e.view.loader&&(e.view.loader.style.display="block"),e.xhr=new XMLHttpRequest,e.xhr.open("GET",t.host+"/api/layer/cluster?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.key,table:a,resolution:e.cluster_resolution,kmeans:e.cluster_kmeans,dbscan:e.cluster_dbscan,aggregate:e.style.theme&&e.style.theme.aggregate,theme:e.style.theme&&e.style.theme.type,cat:e.style.theme&&e.style.theme.field,size:e.style.theme&&e.style.theme.size,label:e.style.label&&e.style.label.field,filter:JSON.stringify(e.filter&&Object.assign({},e.filter.legend,e.filter.current)),west:i[0],south:i[1],east:i[2],north:i[3],z:t.mapview.getZoom(),token:t.token})),e.xhr.setRequestHeader("Content-Type","application/json"),e.xhr.responseType="json",e.xhr.onload=i=>{if(e.view.loader&&(e.view.loader.style.display="none"),200!==i.target.status)return;const o=i.target.response;e.max_size=o.reduce((t,e)=>Math.max(t,e.properties.size),0);let r=0;const a=o.map(e=>new t.mapview.lib.Feature({id:r++,geometry:s(e.geometry),properties:e.properties}));function s(e){return e.lon&&e.lat?new t.mapview.lib.geom.Point(t.mapview.lib.proj.fromLonLat([e.lon,e.lat])):e.x&&e.y?new t.mapview.lib.geom.Point([e.x,e.y]):void 0}n.addFeatures(a)},e.xhr.send())},strategy:function(n,i){return this.resolution&&this.resolution!=i&&this.loadedExtentsRtree_.clear(),[t.mapview.lib.proj.transformExtent(n,"EPSG:"+t.mapview.srid,"EPSG:"+e.srid)]}});e.L=new t.mapview.lib.layer.Vector({layer:e,source:n,zIndex:e.style.zIndex||1,style:n=>{const i=n.getProperties().properties;let o=e.style.marker;i.size>1&&(o=e.style.markerMulti);const r=e.style.theme;if(r&&"categorized"===r.type&&Object.assign(o,r.cat[i.cat]?r.cat[i.cat].style:{}),r&&"graduated"===r.type){const t=parseFloat(i.cat);if(t){for(let e=0;e<r.cat_arr.length&&!(t<r.cat_arr[e].value);e++)var a=r.cat_arr[e].style;Object.assign(o,a)}}if(r&&"competition"===r.type){let t=i.size,e={layers:{}};Object.entries(i.cat).sort((t,e)=>t[1]-e[1]).forEach(n=>{r.cat[n[0]]&&(e.layers[t/i.size]=r.cat[n[0]].fillColor),t-=n[1]}),Object.assign(o,e)}const s=Object.assign({},o,e.highlight===n.get("id")?e.style.highlight:{}),l=e.cluster_logscale?1===i.count?e.style.markerMin:e.style.markerMin+e.style.markerMax/Math.log(e.max_size)*Math.log(i.size):1===i.count?e.style.markerMin:e.style.markerMin+e.style.markerMax/e.max_size*i.size;return new t.mapview.lib.style.Style({zIndex:parseInt(e.max_size-i.size),image:t.mapview.icon(Object.assign(s,{scale:l/40*.05}))})}}),e.label=((t,e)=>new t.mapview.lib.layer.Vector({source:e.L.getSource(),declutter:!0,zIndex:e.style.zIndex||1,style:e=>{const n=e.getProperties().properties;return new t.mapview.lib.style.Style({text:new t.mapview.lib.style.Text({text:n.label,size:"12px",stroke:new t.mapview.lib.style.Stroke({color:"#fff",width:3})})})}}))(t,e)},It=t=>e=>{const n=e.URI.indexOf("provider")>0?t.host+"/proxy/request?"+t.utils.paramString({uri:e.URI,token:t.token}):e.URI,i=new t.mapview.lib.source.OSM({url:decodeURIComponent(n),opaque:!1,transition:0});let o=0;i.on("tileloadstart",()=>{o++,e.view.loader&&(e.view.loader.style.display="block")}),i.on("tileloadend",()=>{o--,e.view.loader&&0===o&&(e.view.loader.style.display="none")}),e.L=new t.mapview.lib.layer.Tile({source:i,layer:e})},At=t=>e=>{e.grid_size=e.grid_size||Object.values(e.grid_fields)[0],e.grid_color=e.grid_color||Object.values(e.grid_fields)[0],e.grid_ratio=e.grid_ratio||!1,e.reload=()=>{n.refresh()};const n=new t.mapview.lib.source.Vector({loader:function(i,o,r){e.xhr&&e.xhr.abort(),this.resolution=o,n.clear();const a=e.tableCurrent();a&&(e.view.loader&&(e.view.loader.style.display="block"),e.xhr=new XMLHttpRequest,e.xhr.open("GET",t.host+"/api/layer/grid?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.key,table:a,size:e.grid_size,color:e.grid_color,west:i[0],south:i[1],east:i[2],north:i[3],token:t.token})),e.xhr.setRequestHeader("Content-Type","application/json"),e.xhr.responseType="json",e.xhr.onload=i=>{if(e.view.loader&&(e.view.loader.style.display="none"),200!==i.target.status)return;const o=i.target.response;e.sizeAvg=0,e.colorAvg=0;const r=o.map(n=>{if(parseFloat(n[2])>0)return n[2]=isNaN(n[2])?n[2]:parseFloat(n[2]),n[3]=isNaN(n[3])?n[3]:parseFloat(n[3]),e.grid_ratio&&n[3]>0&&(n[3]/=n[2]),e.sizeAvg+=parseFloat(n[2]),e.colorAvg+=isNaN(n[3])?0:parseFloat(n[3]),new t.mapview.lib.Feature({geometry:new t.mapview.lib.geom.Point(t.mapview.lib.proj.fromLonLat([n[0],n[1]])),properties:{size:parseFloat(n[2]),color:isNaN(n[3])?n[3]:parseFloat(n[3])}})});function a(t,e,n){const i=t.filter(t=>isFinite(t[e]));return Math[n].apply(null,i.map(t=>t[e]))}e.sizeMin=a(o,2,"min"),e.sizeAvg/=r.length,e.sizeMax=a(o,2,"max"),e.colorMin=a(o,3,"min"),e.colorAvg/=r.length,e.colorMax=a(o,3,"max"),e.colorBins=[];let s=e.style.range.length;for(var l=1;l<s;l++)l<s/2&&e.colorBins.push(e.colorMin+(e.colorAvg-e.colorMin)/(s/2)*l),l===s/2&&e.colorBins.push(e.colorAvg),l>s/2&&e.colorBins.push(e.colorAvg+(e.colorMax-e.colorAvg)/(s/2)*(l-s/2));n.addFeatures(r),e.style.legend.size_min&&(e.style.legend.size_min.textContent=e.sizeMin.toLocaleString("en-GB",{maximumFractionDigits:0})),e.style.legend.size_avg&&(e.style.legend.size_avg.textContent=e.sizeAvg.toLocaleString("en-GB",{maximumFractionDigits:0})),e.style.legend.size_max&&(e.style.legend.size_max.textContent=e.sizeMax.toLocaleString("en-GB",{maximumFractionDigits:0})),e.grid_ratio?(e.style.legend.color_min&&(e.style.legend.color_min.textContent=e.colorMin.toLocaleString("en-GB",{maximumFractionDigits:0,style:"percent"})),e.style.legend.color_avg&&(e.style.legend.color_avg.textContent=e.colorAvg.toLocaleString("en-GB",{maximumFractionDigits:0,style:"percent"})),e.style.legend.color_max&&(e.style.legend.color_max.textContent=e.colorMax.toLocaleString("en-GB",{maximumFractionDigits:0,style:"percent"}))):(e.style.legend.color_min&&(e.style.legend.color_min.textContent=e.colorMin.toLocaleString("en-GB",{maximumFractionDigits:0})),e.style.legend.color_avg&&(e.style.legend.color_avg.textContent=e.colorAvg.toLocaleString("en-GB",{maximumFractionDigits:0})),e.style.legend.color_max&&(e.style.legend.color_max.textContent=e.colorMax.toLocaleString("en-GB",{maximumFractionDigits:0})))},e.xhr.send())},strategy:function(n,i){return this.resolution&&this.resolution!=i&&this.loadedExtentsRtree_.clear(),[t.mapview.lib.proj.transformExtent(n,"EPSG:"+t.mapview.srid,"EPSG:"+e.srid)]}});e.L=new t.mapview.lib.layer.Vector({source:n,zIndex:e.style.zIndex||1,style:n=>{const i=n.getProperties().properties,o=i.size<=e.sizeAvg?7+7/e.sizeAvg*i.size:14+7/(e.sizeMax-e.sizeAvg)*(i.size-e.sizeAvg);if(i.hxcolor="#C0C0C0",parseFloat(i.color)){i.hxcolor=e.style.range[0];for(let t=0;t<e.colorBins.length&&!(i.color<e.colorBins[t]);t++)i.hxcolor=e.style.range[t+1]}return new t.mapview.lib.style.Style({image:t.mapview.icon({type:"dot",color:i.hxcolor,size:o})})}}),e.L.set("layer",e,!0)},jt=t=>({mvt:Rt(t),geojson:Ot(t),cluster:Ft(t),tiles:It(t),grid:At(t)}),Ht=t=>e=>{e.hook=`${e.layer}!${e.table}!${e.id}`;let n={stamp:parseInt(Date.now())};if(t.locations.list.some(t=>{if(t.location?n.location&&t.stamp<n.stamp&&(n=t):n=t,t.location&&t.location.hook===e.hook)return t.location.remove(),t.stamp=0,!0}))return;n.location&&n.location.remove(),e.style=n.style,n.location=e,n.location.record=n,n.stamp=parseInt(Date.now());const i=new XMLHttpRequest;i.open("GET",t.host+"/api/location/select/id?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.layer,table:e.table,id:e.id,token:t.token})),i.setRequestHeader("Content-Type","application/json"),i.responseType="json",i.onload=n=>{if(200===n.target.status){if(t.hooks&&t.hooks.push("locations",e.hook),t.locations.decorate(e,{infoj:n.target.response.infoj,geometry:n.target.response.geomj}),e.marker||(e.marker=t.mapview.lib.proj.transform(t.utils.turf.pointOnFeature(e.geometry).geometry.coordinates,"EPSG:"+t.layers.list[e.layer].srid,"EPSG:"+t.mapview.srid)),"function"==typeof e.callback)return e.callback(e);t.locations.selectCallback(e)}},i.send()},Nt=t=>e=>(e.view(),e.Layer=t.mapview.geoJSON({geometry:e.geometry,pane:e.style.pane||"select",style:[new t.mapview.lib.style.Style({stroke:new t.mapview.lib.style.Stroke({color:"rgba(255, 255, 255, 0.2)",width:8})}),new t.mapview.lib.style.Style({stroke:new t.mapview.lib.style.Stroke({color:"rgba(255, 255, 255, 0.2)",width:6})}),new t.mapview.lib.style.Style({stroke:new t.mapview.lib.style.Stroke({color:"rgba(255, 255, 255, 0.2)",width:4})}),new t.mapview.lib.style.Style({stroke:e.style.strokeColor&&new t.mapview.lib.style.Stroke({color:e.style.strokeColor,width:e.style.strokeWidth||1}),fill:e.style.fillColor&&new t.mapview.lib.style.Fill({color:t.utils.chroma(e.style.fillColor).alpha(0===e.style.fillOpacity?0:parseFloat(e.style.fillOpacity)||1).rgba()})})],dataProjection:t.layers.list[e.layer].srid,featureProjection:t.mapview.srid}),e.Marker=t.mapview.geoJSON({geometry:{type:"Point",coordinates:e.marker},style:new t.mapview.lib.style.Style({image:t.mapview.icon({type:"markerLetter",letter:String.fromCharCode(64+t.locations.list.length-t.locations.list.indexOf(e.record)),color:e.style.strokeColor,scale:.05,anchor:[.5,1]})})}),t.mapview.popup?t.locations.listview.node?t.locations.listview.add(e):void t.mapview.popup.create({coords:e.marker,content:e.view.node}):alert(JSON.stringify(e.infoj,t.utils.getCircularReplacer()," "))),zt=t=>{return{init:function(e){t.mobile&&(t.mobile.tabLocations.classList.add("displaynone"),t.mobile.activateLayersTab());t.locations.listview.node=e.target,t.locations.listview.node.parentElement.style.display="none",t.locations.listview.node.innerHTML="",t.locations.list.filter(t=>!!t.location).forEach(t=>t.location.remove()),t.locations.list=["#9c27b0","#2196f3","#009688","#cddc39","#ff9800","#673ab7","#03a9f4","#4caf50","#ffeb3b","#ff5722","#0d47a1","#00bcd4","#8bc34a","#ffc107","#d32f2f"].map(t=>({style:{strokeColor:t}}))},add:function(e){if(!t.locations.listview.node)return;t.locations.listview.node.parentElement.style.display="block",Object.values(t.locations.listview.node.children).forEach(t=>t.classList.remove("expanded")),t.locations.listview.node.insertBefore(e.view.drawer,t.locations.listview.node.firstChild),t.desktop&&setTimeout(()=>{t.desktop.listviews.scrollTop=t.desktop.listviews.clientHeight},500);t.mobile&&t.mobile.activateLocationsTab()}}},Gt=t=>(function(){t.hooks&&t.hooks.filter("locations",this.hook),this.view.drawer&&this.view.drawer.remove(),t.locations.listview.node&&0===t.locations.listview.node.childElementCount&&(t.locations.listview.node.parentElement.style.display="none"),this.Layer&&t.map.removeLayer(this.Layer),this.Marker&&t.map.removeLayer(this.Marker),this.record.location=null}),Wt=t=>(function(){if(!t.map)return;const e=[this.Layer];this.geometries.forEach(t=>e.push(t)),e.push(t.mapview.locate.L),t.mapview.flyToBounds(e)}),Bt=t=>(function(e){const n=this,i=new XMLHttpRequest;i.open("POST",t.host+"/api/location/update?"+t.utils.paramString({locale:t.workspace.locale.key,layer:n.layer,table:n.table,id:n.id,token:t.token})),i.setRequestHeader("Content-Type","application/json"),i.onload=i=>{if(200!==i.target.status)return console.log(i.target.response);n.infoj=JSON.parse(i.target.response),n.view.update(),n.view.upload&&(n.view.upload.style.display="none"),t.layers.list[n.layer].reload(),e&&e()};const o=n.infoj.filter(t=>t.newValue).map(t=>({field:t.field,newValue:t.newValue,type:t.type}));i.send(JSON.stringify({infoj:o}))}),Vt=t=>(function(){const e=this,n=new XMLHttpRequest;n.open("GET",t.host+"/api/location/edit/delete?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.layer,table:e.table,id:e.id,token:t.token})),n.onload=n=>{200===n.target.status&&(t.layers.list[e.layer].reload(),e.remove())},confirm("Are you sure you want to delete this feature? This cannot be undone.")&&n.send()}),qt=t=>(function(){let e=[];function n(t,e){let n="";n=(t.label||"")+"\t"+(t.value||""),e.push(n)}Object.values(this.infoj).forEach(t=>{"group"===t.type?(e.push(t.label),Object.values(t.items).forEach(t=>{n(t,e)})):n(t,e)}),t.utils.copyToClipboard(e.join("\n"))}),Ut=t=>e=>{e.location.view.groups[e.label]=e,e.td=t.utils.createElement({tag:"td",options:{colSpan:"2"},appendTo:e.row}),e.div=t.utils.createElement({tag:"div",options:{classList:"table-section expandable"},appendTo:e.td}),e.header=t.utils.createElement({tag:"div",options:{className:"btn_subtext cursor noselect"},style:{textAlign:"left",fontStyle:"italic"},appendTo:e.div,eventListener:{event:"click",funct:function(n){n&&n.stopPropagation(),t.utils.toggleExpanderParent({expandable:e.div,accordeon:!0,scrolly:t.desktop&&t.desktop.listviews})}}}),t.utils.createElement({tag:"span",options:{textContent:e.label},appendTo:e.header}),e.table=t.utils.createElement({tag:"table",style:{cellPadding:"0",cellSpacing:"0",width:"95%",marginTop:"-5px",marginBottom:"10px",paddingLeft:"20px",borderLeft:"2px solid #B4B4B4",position:"relative"},appendTo:e.div}),e.chart&&(e.fields=e.location.infoj.filter(t=>t.group===e.label),e.chartElem=t.utils.chart(e),e.div.appendChild(e.chartElem),e.viewToggler=t.utils.createElement({tag:"i",options:{className:"material-icons cursor noselect btn_header",title:"Show chart",textContent:Xt(e)},style:{margin:"-6px 10px 0 0"},appendTo:e.header,eventListener:{event:"click",funct:t=>{t.stopPropagation(),e.viewToggler.textContent===Xt(e)?e.showChart():e.showTable(t)}}}),e.showChart=()=>{e.table.style.display="none",e.chartElem.style.display="block",e.viewToggler.textContent="view_list",e.viewToggler.title="Show table",e.div.classList.contains("expanded")||e.div.classList.add("expanded")},e.showTable=t=>{e.table.style.display="table",e.chartElem.style.display="none",e.viewToggler.textContent=Xt(e),e.viewToggler.title="Show chart",t&&!e.div.classList.contains("expanded")&&e.div.classList.add("expanded")},e.chart.active?e.showChart():e.showTable())};function Xt(t){switch(t.chart.type||(t.chart.type="line"),t.chart.type){case"line":return"show_chart";case"bar":return"insert_chart_outlined";case"pie":return"pie_chart";case"doughnut":return"donut_small";case"horizontalBar":return"notes";case"bubble":return"bubble_chart";case"scatter":return"scatter_plot";case"radar":return"multiline_chart";default:return"show_chart"}}var Kt=t=>e=>{e.label_td?e.label_td.colSpan="2":e.row.remove();const n=t.mapview.lib.proj.transform(e.location.marker,"EPSG:"+t.mapview.srid,"EPSG:4326"),i=`${t.host}/proxy/request?uri=https://maps.googleapis.com/maps/api/streetview?location=${n[1]},${n[0]}&size=300x230&provider=GOOGLE&token=${t.token||""}`;e.location.view.node.appendChild(t.utils.wire()`
    <tr class="${e.class||""}">
      <td colspan=2>
        <a
        target="_blank" 
        href="${"https://www.google.com/maps?cbll="+n[1]+","+n[0]+"&layer=c"}">
          <img
          class="img_streetview"
          src="${i}">`)},Jt=t=>e=>{e.ctrl.add_img_td=t.utils.createElement({tag:"div",options:{className:"addImage"},appendTo:e.ctrl.container}),e.ctrl.add_img_label=t.utils.createElement({tag:"label",appendTo:e.ctrl.add_img_td}),t.utils.createElement({tag:"i",options:{className:"material-icons cursor noselect",textContent:"add_a_photo"},appendTo:e.ctrl.add_img_label}),e.ctrl.add_img_input=t.utils.createElement({tag:"input",options:{type:"file",accept:"image/*;capture=camera"},appendTo:e.ctrl.add_img_label}),e.ctrl.add_img_input.addEventListener("click",()=>e.ctrl.add_img_input.value),e.ctrl.add_img_input.addEventListener("change",()=>{const n=document.createElement("div"),i=new FileReader;i.onload=function(i){const o=new Image;o.onload=()=>{let i=document.createElement("canvas"),r=o.width,a=o.height;r>a&&r>1024?(a*=1024/r,r=1024):a>1024&&(r*=1024/a,a=1024),i.width=r,i.height=a,i.getContext("2d").drawImage(o,0,0,r,a);const s=i.toDataURL("image/jpeg",.5),l=t.utils.createElement({tag:"img",options:{src:s}});e.ctrl.upload_image(e,l,s),n.appendChild(l)},o.src=i.target.result},i.readAsDataURL(e.ctrl.add_img_input.files[0]),e.ctrl.container.insertBefore(n,e.ctrl.container.childNodes[1])})},Zt=t=>(e,n)=>{const i=new XMLHttpRequest;i.open("GET",t.host+"/api/location/edit/images/delete?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.location.layer,table:e.location.table,field:e.field,id:e.location.id,image_id:n.id,image_src:encodeURIComponent(n.src),token:t.token})),i.onload=t=>{200===t.target.status&&document.getElementById(n.id).parentNode.remove()},i.send()},$t=t=>(e,n,i)=>{const o=t.utils.dataURLtoBlob(i),r=new XMLHttpRequest;r.open("POST",t.host+"/api/location/edit/images/upload?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.location.layer,table:e.location.table,field:e.field,id:e.location.id,token:t.token})),r.setRequestHeader("Content-Type","application/octet-stream"),r.onload=i=>{if(200!==i.target.status)return console.log("image_upload failed");const o=JSON.parse(i.target.responseText);n.style.opacity=1,n.id=o.image_id,n.src=o.image_url,t.utils.createElement({tag:"button",options:{title:"Delete image",className:"cursor",textContent:"Delete"},appendTo:n.parentNode,eventListener:{event:"click",funct:t=>{t.target.remove(),e.ctrl.delete_image(e,n)}}})},n.style.opacity="0",r.onprogress=t=>{t.lengthComputable&&(n.style.opacity=t.loaded/t.total)},r.send(o)},Qt=t=>e=>{e.ctrl={add_image:Jt(t),delete_image:Zt(t),upload_image:$t(t)};const n=e.value.reverse()||[];if(!n.length&&!e.edit)return e.row.remove();e.label_td?e.label_td.colSpan="2":e.row.remove(),e.row=t.utils.createElement({tag:"tr",options:{className:"lv-0"},appendTo:e.location.view.node}),e.ctrl.container=t.utils.createElement({tag:"td",options:{className:"td_images",colSpan:"2"},appendTo:e.row}),e.edit&&e.ctrl.add_image(e);for(let i of n){const n=t.utils.createElement({tag:"div",appendTo:e.ctrl.container}),o=t.utils.createElement({tag:"img",options:{id:i.replace(/.*\//,"").replace(/\.([\w-]{3})/,""),src:i},appendTo:n});e.edit&&t.utils.createElement({tag:"button",options:{title:"Delete image",className:"cursor",textContent:"Delete"},appendTo:n,eventListener:{event:"click",funct:t=>{t.target.remove(),e.ctrl.delete_image(e,o)}}})}},te=t=>e=>{e.documentControl.add_doc=t.utils.createElement({tag:"div",options:{classList:"addDocCell"},style:{display:"block"},appendTo:e.documentControl.container}),e.documentControl.add_doc_label=t.utils.createElement({tag:"label",options:{htmlFor:`addDoc_${e.entry.location.layer}_${e.entry.location.id}`},appendTo:e.documentControl.add_doc}),t.utils.createElement({tag:"i",options:{className:"material-icons cursor noselect",textContent:"add_circle_outline"},style:{cursor:"pointer"},appendTo:e.documentControl.add_doc_label}),e.documentControl.add_doc_input=t.utils.createElement({tag:"input",options:{id:`addDoc_${e.entry.location.layer}_${e.entry.location.id}`,type:"file",accept:".txt,.pdf,.doc,.docx,.xls,.xlsx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document;"},style:{display:"none"},appendTo:e.documentControl.add_doc}),e.documentControl.add_doc_input.addEventListener("click",()=>{e.documentControl.add_doc_input.value=""}),e.documentControl.add_doc_input.addEventListener("change",n=>{let i=t.utils.createElement({tag:"div"});const o=new FileReader;o.onload=t=>{e.documentControl.blob=t.target.result};let r=n.target.files[0],a=r.name;o.readAsDataURL(r);t.utils.createElement({tag:"a",options:{textContent:r.name.split("/").pop(),target:"_blank"},appendTo:i});let s=t.utils.createElement({tag:"span",options:{title:"Delete document",className:"btn_del",innerHTML:'<i class="material-icons">clear</i>'},style:{cursor:"pointer"},appendTo:i,eventListener:{event:"click",funct:()=>{i.remove()}}});const l=t.utils.createElement({tag:"span",options:{title:"Save document",className:"btn_save",innerHTML:'<i class="material-icons">cloud_upload</i>'},style:{cursor:"pointer"},appendTo:i,eventListener:{event:"click",funct:()=>{s.remove(),l.remove(),e.entry.ctrl.upload_document({entry:e.entry,doc:i,public_id:a,blob:e.documentControl.blob})}}});e.documentControl.container.appendChild(i)})},ee=t=>e=>{const n=new XMLHttpRequest;n.open("POST",t.host+"/api/location/edit/documents/upload?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.entry.location.layer,table:e.entry.location.table,field:e.entry.field,qID:e.entry.location.qID,id:e.entry.location.id,public_id:e.public_id,token:t.token})),n.setRequestHeader("Content-Type","application/octet-stream"),n.onload=n=>{if(200!==n.target.status)return console.log("document_upload failed");const i=JSON.parse(n.target.responseText);let o=i.doc_id.split("/").pop();e.doc.childNodes[0].dataset.name=o,e.doc.childNodes[0].textContent=o,e.doc.childNodes[0].href=i.doc_url,t.utils.createElement({tag:"span",options:{title:"Delete document",className:"btn_del",innerHTML:'<i class="material-icons">clear</i>'},appendTo:e.doc,eventListener:{event:"click",funct:t=>{t.target.parentNode.remove(),e.entry.ctrl.delete_document({entry:e.entry,doc:e.doc.firstChild})}}})},n.send(e.blob)},ne=t=>e=>{const n=new XMLHttpRequest;n.open("GET",t.host+"/api/location/edit/documents/delete?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.entry.location.layer,table:e.entry.location.table,field:e.entry.field,id:e.entry.location.id,doc_id:e.doc.dataset.name,doc_src:encodeURIComponent(e.doc.href),token:t.token})),n.onload=t=>{200===t.target.status&&document.querySelector(`[data-name="${e.doc.dataset.name}"]`).parentNode.remove()},n.send()},ie=t=>e=>{e.ctrl={add_document:te(t),upload_document:ee(t),delete_document:ne(t)};const n=e.value?e.value.reverse():[];if(!n.length&&!e.edit)return e.row.remove();e.label_td?e.label_td.colSpan="2":e.row.remove();const i={};let o=t.utils.createElement({tag:"tr",options:{colsSpan:"2"},appendTo:e.location.view.node}),r=t.utils.createElement({tag:"td",options:{colSpan:"2"},appendTo:o});i.container=t.utils.createElement({tag:"div",options:{className:"doc-container"},appendTo:r}),e.edit&&e.ctrl.add_document({documentControl:i,entry:e});for(let o of n){let n=t.utils.createElement({tag:"div",appendTo:i.container}),r=t.utils.createElement({tag:"a",options:{href:o,textContent:decodeURIComponent(decodeURIComponent(o.split("/").pop())),target:"_blank"},appendTo:n});r.dataset.name=o.replace(/^.*[\\\/]/,""),e.edit&&t.utils.createElement({tag:"span",options:{title:"Delete document",className:"btn_del",innerHTML:'<i class="material-icons">clear</i>'},style:{cursor:"pointer"},appendTo:n,eventListener:{event:"click",funct:t=>{t.target.remove(),e.ctrl.delete_document({entry:e,doc:r})}}})}},oe=t=>e=>{const n=e.location.geometry.coordinates,i=new XMLHttpRequest;i.open("GET",t.host+"/api/location/edit/isoline/mapbox?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.location.layer,table:e.location.table,coordinates:n.join(","),minutes:e.edit.isoline_mapbox.minutes,profile:e.edit.isoline_mapbox.profile,id:e.location.id,field:e.field,meta:e.edit.isoline_mapbox.meta||null,token:t.token})),i.onload=t=>406===t.target.status?(e.location.view.update(),alert(t.target.responseText)):200!==t.target.status?(e.location.view.update(),alert("No route found. Try a longer travel time.")):(e.location.infoj=JSON.parse(t.target.response),e.location.view.update(),void e.location.flyTo()),i.send()},re=t=>e=>{const n=[e.location.geometry.coordinates[1],e.location.geometry.coordinates[0]],i=new XMLHttpRequest;i.open("GET",t.host+"/api/location/edit/isoline/here?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.location.layer,table:e.location.table,field:e.field,id:e.location.id,coordinates:n.join(","),mode:e.edit.isoline_here.mode,type:e.edit.isoline_here.type,rangetype:e.edit.isoline_here.rangetype,minutes:e.edit.isoline_here.minutes,distance:e.edit.isoline_here.distance,meta:e.edit.isoline_here.meta||null,token:t.token})),i.onload=n=>406===n.target.status?(e.location.view.update(),alert(n.target.responseText)):200!==n.target.status?(e.location.view.update(),alert("No route found. Try alternative set up.")):(t.layers.list[e.location.layer].get(),e.location.infoj=JSON.parse(n.target.response),e.location.view.update(),void e.location.flyTo()),i.send()},ae=t=>e=>{const n=new XMLHttpRequest;let i=null;e.edit&&(e.edit.isoline_here&&e.edit.isoline_here.meta&&(i=e.edit.isoline_here.meta),e.edit.isoline_mapbox&&e.edit.isoline_mapbox.meta&&(i=e.edit.isoline_mapbox.meta)),n.open("GET",t.host+"/api/location/edit/field/setnull?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.location.layer,table:e.location.table,id:e.location.id,field:e.field,meta:i,token:t.token})),n.onload=t=>{200===t.target.status&&(e.location.infoj=JSON.parse(t.target.response),e.location.view.update())},n.send()},se=t=>e=>{if(e.ctrl={isoline_here:re(t),isoline_mapbox:oe(t),delete_geom:ae(t)},!e.value&&!e.edit)return;e.style=Object.assign({},e.location.style,e.style);let n=t.utils.wire()`
  <td style="paddingTop: 5px; position: relative;" colSpan=2>`;e.row.appendChild(n),e.ctrl.showGeom=function(){e.ctrl.geometry=t.mapview.geoJSON({geometry:JSON.parse(e.value),pane:e.location.layer,style:e.style}),e.location.geometries.push(e.ctrl.geometry)},e.edit&&e.edit.isoline_here&&(e.ctrl.showGeom=e.ctrl.isoline_here),e.edit&&e.edit.isoline_mapbox&&(e.ctrl.showGeom=e.ctrl.isoline_mapbox),e.ctrl.hideGeom=()=>{e.location.geometries.splice(e.location.geometries.indexOf(e.ctrl.geometry),1),t.map.removeLayer(e.ctrl.geometry)},e.edit&&(e.ctrl.hideGeom=e.ctrl.delete_geom),n.appendChild(t.utils.wire()`
  <td style="paddingTop: 5px;" colSpan=2>
  <label class="checkbox">${e.name||"Additional geometries"}
  <input type="checkbox"
    checked=${!!e.display}
    onchange=${t=>{e.display=t.target.checked,e.display?e.ctrl.showGeom(e):e.ctrl.hideGeom(e)}}>
  <div class="checkbox_i">`),e.value&&(e.display=!0,e.ctrl.showGeom(e)),t.utils.createElement({tag:"div",options:{classList:"sample-circle"},style:{borderColor:t.utils.chroma(e.style.color).alpha(1).rgba(),borderStyle:"solid",position:"absolute",right:0,top:"5px"},appendTo:n}),e.edit&&(e.edit.container=t.utils.wire()`
    <div style="padding: 4px;" class="table-section expandable">`,t.utils.createElement({tag:"div",options:{classList:"btn_subtext cursor noselect",textContent:"Isoline settings"},style:{textAlign:"left",fontStyle:"italic",fontSize:"small"},appendTo:e.edit.container,eventListener:{event:"click",funct:n=>{n&&n.stopPropagation(),t.utils.toggleExpanderParent({expandable:e.edit.container,accordeon:!0,scrolly:t.desktop&&t.desktop.listviews})}}}),e.edit.isoline_here&&e.edit.isoline_here.slider&&(e.display||n.appendChild(e.edit.container),t.geom.isoline_here_control({entry:e,container:e.edit.container})),e.edit.isoline_mapbox&&e.edit.isoline_mapbox.slider&&(e.display||n.appendChild(e.edit.container),t.geom.isoline_mapbox_control({entry:e,container:e.edit.container})))},le=t=>e=>{if(!e.value)return;e.row=t.utils.createElement({tag:"tr",appendTo:e.location.view.node});let n=t.utils.createElement({tag:"td",options:{colSpan:"2"},appendTo:e.row}),i=t.utils.createElement({tag:"div",appendTo:n}),o=t.utils.createElement({tag:"table",style:{fontSize:"small",width:"85%",color:"#666",borderRadius:"4px",backgroundColor:"linen",padding:"6px",marginTop:"2px"},appendTo:i});Object.entries(e.value).map(e=>{let n=t.utils.createElement({tag:"tr",appendTo:o});e.map(e=>{t.utils.createElement({tag:"td",options:{textContent:e},appendTo:n})})})},ue=t=>e=>{e.val.appendChild(t.utils.wire()`
  <div>
  <span>${e.edit.range.label}</span>
  <span class="bold">${e.value}</span>
  <div class="range">
  <input
    type="range"
    min=${e.edit.range.min}
    value=${e.value}
    max=${e.edit.range.max}
    oninput=${t=>{t.target.parentNode.previousElementSibling.textContent=t.target.value}}>`)},de=t=>e=>{const n=e.edit.options.map(t=>"object"==typeof t?Object.keys(t)[0]:t);n.indexOf(e.value)<0&&n.unshift(e.value)&&e.edit.options.unshift(e.value),e.select=t.utils.dropdown({appendTo:e.val,entries:n,selected:e.value,onchange:t=>{e.location.view.valChange({input:t.target,entry:e}),e.select_other&&e.select_other.remove(),e.ctrl.optionsTextInput(e)}}),e.ctrl.optionsTextInput(e)},ce=t=>e=>{const n=Object.values(e.location.infoj).find(t=>t.field===e.edit.options_field),i="object"==typeof n.edit.options[n.select.selectedIndex]&&"text"!==n.edit.options[n.select.selectedIndex][n.value]?Object.values(n.edit.options[n.select.selectedIndex][n.select.value]):[""];e.select=t.utils.dropdown({appendTo:e.val,entries:i,selected:e.value,onchange:t=>{e.location.view.valChange({input:t.target,entry:e})}}),n.select.onchange=i=>{n.select_other&&n.select_other.remove(),e.ctrl.optionsTextInput(n),e.select.innerHTML="";const o=n.edit.options[n.select.selectedIndex];"object"==typeof o[n.select.value]&&Object.values(o[n.select.value]).forEach(n=>{e.select.add(t.utils.createElement({tag:"option",options:{textContent:n,value:n},appendTo:e.select}))}),e.select.disabled=e.select.childElementCount<=1,e.location.view.valChange({input:e.select,entry:e})}},he=t=>e=>{e.value="datetime"===e.type?t.utils.formatDateTime(e.value):t.utils.formatDate(e.value);const n=t.utils.wire()`<input type="text">${e.value||""}`;e.val.appendChild(n),t.utils.datePicker({element:n,position:"c",formatter:(n,i)=>{const o=t.utils.meltDateStr(new Date(i));n.value="datetime"===e.type?t.utils.formatDateTime(o):t.utils.formatDate(o)},onSelect:(i,o)=>{e.location.view.valChange({input:n,entry:e,value:t.utils.meltDateStr(new Date(n.value))}),i.calendar.style.top="-10000px"},onShow:t=>{const e=t.el.getBoundingClientRect().top;t.calendar.style.top=e-100+"px"}})},pe=t=>e=>{"object"!==(e.edit.options[e.select.selectedIndex],!1)&&e.edit.options[e.select.selectedIndex]&&"text"===Object.values(e.edit.options[e.select.selectedIndex])[0]&&(e.select_other=t.utils.createElement({tag:"input",options:{value:Object.keys(e.edit.options[e.select.selectedIndex])[0],type:"text"},appendTo:e.val,eventListener:{event:"keyup",funct:t=>e.location.view.valChange({input:t.target,entry:e})}}))},fe=t=>e=>{if(e.ctrl={range:ue(t),date:he(t),options:de(t),suboptions:ce(t),optionsTextInput:pe(t)},e.edit)return"date"===e.type?e.ctrl.date(e):e.edit.range?e.ctrl.range(e):e.edit.options?e.ctrl.options(e):e.edit.options_field?e.ctrl.suboptions(e):"textarea"===e.type?t.utils.createElement({tag:"textarea",options:{value:e.value||"",rows:3},appendTo:e.val,eventListener:{event:"keyup",funct:t=>{e.location.view.valChange({input:t.target,entry:e})}}}):void t.utils.createElement({tag:"input",options:{value:e.value||"",type:"text"},appendTo:e.val,eventListener:{event:"keyup",funct:t=>{e.location.view.valChange({input:t.target,entry:e})}}})},me=t=>{"checkbox"===t.input.type?!!t.entry.value!=!!t.input.checked?(t.entry.newValue=t.value||t.input.checked||"false",t.input.parentNode.classList.add("changed")):(delete t.entry.newValue,t.input.parentNode.classList.remove("changed")):(t.entry.value||(t.entry.value=""),t.entry.value.toString()!==t.input.value?(t.entry.newValue=t.value||t.input.value||"",t.input.classList.add("changed")):(delete t.entry.newValue,t.input.classList.remove("changed"))),t.entry.location.view.upload&&(t.entry.location.infoj.some(t=>t.newValue)?t.entry.location.view.upload.style.display="block":t.entry.location.view.upload.style.display="none")},ge=t=>e=>{if(e.row.appendChild(t.utils.wire()`
  <td style="paddingTop: 5px;" colSpan=2>
  <label class="checkbox">${e.title||"Show table"}
  <input type="checkbox"
    checked=${!!e.display}
    onchange=${i=>{e.display=i.target.checked,e.display?n():function(){let n=e.location.tables.indexOf(e);if(n<0)return;e.location.tables.splice(n,1),t.tableview.removeTab(e),e.chart&&(e.chart.node.innerHTML="")}()}}>
  <div class="checkbox_i">`),e.chart){const n=t.utils.wire()`<tr class="${"table-chart "+(e.class||"")}">`,i=t.utils.wire()`<td colspan=2>`;n.appendChild(i),e.chart.node=t.utils.wire()`<div class="table-section">`,i.appendChild(e.chart.node),e.location.view.node.appendChild(n)}function n(){t.tableview.node&&!t.tableview.node.querySelector(".table")&&t.tableview.node.querySelector(".tab-content").appendChild(t.utils.wire()`<div class="table">`),e.location.tables.push(e),e.target=t.tableview.node&&t.tableview.node.querySelector(".table")||document.getElementById(e.target_id),e.target&&t.tableview.locationTable(e,i)}function i(n){if(!e.chart)return;e.chart.node.innerHTML="";const i=n.map(t=>({label:t.rows,field:e.chart.field,value:t[e.chart.field],displayValue:t[e.chart.field]}));i.length&&i.some(t=>t.displayValue)&&e.chart.node.appendChild(t.utils.chart({label:e.title,fields:i,chart:e.chart}))}e.display&&n()},_e=t=>e=>{function n(){e.location.tables.push(e),e.target=t.tableview.node&&t.tableview.node.querySelector(".table")||document.getElementById(e.target_id),e.target&&t.tableview.orderedList(e)}e.row.appendChild(t.utils.wire()`
  <td style="paddingTop: 5px;" colSpan=2>
  <label class="checkbox">${e.title||"Show table"}
  <input type="checkbox"
    checked=${!!e.display}
    onchange=${i=>{e.display=i.target.checked,e.display?n():function(){let n=e.location.tables.indexOf(e);if(n<0)return;e.location.tables.splice(n,1),t.tableview.removeTab(e)}()}}>
  <div class="checkbox_i">`),e.display&&n()},ye=t=>e=>{function n(){e.location.tables.push(e),e.target=t.tableview.node&&t.tableview.node.querySelector(".tab-content")||document.getElementById(e.target_id),e.target&&t.tableview.dashboard(e),console.log(e.location)}e.row.appendChild(t.utils.wire()`
  <td style="paddingTop: 5px;" colSpan=2>
  <label class="checkbox">${e.title||"Show dashboard"}
  <input type="checkbox"
    checked=${!!e.display}
    onchange=${i=>{e.display=i.target.checked,e.display?n():function(){let n=e.location.tables.indexOf(e);if(n<0)return;e.location.tables.splice(n,1),t.tableview.removeTab(e)}()}}>
  <div class="checkbox_i">`),e.display&&n()},ve=t=>e=>{if(!e.report.template)return;const n=t.host+"/report?"+t.utils.paramString(Object.assign(e.report,{locale:t.workspace.locale.key,layer:e.location.layer,table:e.location.table,id:e.location.id,token:t.token}));e.row.appendChild(t.utils.wire()`
    <td style="padding: 10px 0;" colSpan=2>
    <a target="_blank" href="${n}">${e.report.name||"Location Report"}</a>
    </td>`)},be=(t,e)=>()=>{if(e.geometries.forEach(e=>t.map.removeLayer(e)),e.geometries=[],e.tables.forEach(e=>t.tableview.removeTab(e)),e.tables=[],e.view.node)for(;e.view.node.lastChild;)e.view.node.removeChild(e.view.node.lastChild);else e.view.node=t.utils.wire()`<table class="locationview">`;e.view.groups={},Object.values(e.infoj).forEach(n=>{"report"===document.body.dataset.viewmode&&(n.edit=null),n.location=e,n.displayValue="numeric"===n.type?parseFloat(n.value).toLocaleString("en-GB",{maximumFractionDigits:2}):"integer"===n.type?parseInt(n.value).toLocaleString("en-GB",{maximumFractionDigits:0}):"date"===n.type?t.utils.formatDate(n.value):"datetime"===n.type?t.utils.formatDateTime(n.value):n.value,n.prefix&&(n.displayValue=n.prefix+n.displayValue),n.postfix&&(n.displayValue=n.displayValue+n.postfix)}),Object.values(e.infoj).forEach(n=>(n.row=t.utils.wire()`<tr class=${"lv-"+(n.level||0)+" "+(n.class||"")}>`,n.group||e.view.node.appendChild(n.row),"group"===n.type?e.view.group(n):(n.group&&e.view.groups[n.group]&&e.view.groups[n.group].table.appendChild(n.row),n.label&&(n.label_td=t.utils.wire()`
      <td class="${"label lv-"+(n.level||0)}"
      title="${n.title||null}">${n.label}`,n.row.appendChild(n.label_td)),"key"===n.type?e.view.node.appendChild(t.utils.wire()`
      <tr>
      <td class="label lv-0" colspan=2 style="padding: 10px 0">
      <span title="Source layer"
      style="float: right"
      >${t.layers.list[e.layer].name}`):"label"===n.type?n.label_td.colSpan="2":"streetview"===n.type?e.view.streetview(n):"report"===n.type?e.view.report(n):"images"===n.type?e.view.images(n):"documents"===n.type?e.view.documents(n):"geometry"===n.type?e.view.geometry(n):"meta"===n.type?e.view.meta(n):"boolean"===n.type?e.view.boolean(n):"tableDefinition"===n.type?e.view.tableDefinition(n):"orderedList"===n.type?e.view.orderedList(n):"dashboard"===n.type?e.view.dashboard(n):n.edit||n.value?(n.inline||"integer"===n.type^"numeric"===n.type^"date"===n.type?(n.val=t.utils.wire()`<td class="val num">`,n.row.appendChild(n.val)):(n.label_td&&(n.label_td.colSpan="2"),n.row=t.utils.wire()`<tr>`,e.view.node.appendChild(n.row),n.val=t.utils.wire()`<td class="val" colspan=2>`,n.row.appendChild(n.val)),n.edit&&!n.fieldfx?e.view.edit(n):"html"===n.type?n.val.innerHTML=n.value:n.val.textContent=n.displayValue):n.row.remove()))),Object.values(e.infoj).map(t=>{t.group&&e.view.groups[t.group]&&e.view.groups[t.group].table&&!e.view.groups[t.group].table.innerHTML&&(e.view.groups[t.group].table.parentNode.style.display="none")})},we=t=>e=>{e.row=t.utils.createElement({tag:"tr",appendTo:e.location.view.node}),e.val=t.utils.createElement({tag:"td",options:{className:"val",colSpan:"2"},appendTo:e.row}),e.val.appendChild(t.utils.wire()`
  <td style="paddingTop: 5px;" colSpan=2>
  <label class="checkbox">${e.name||e.field}
  <input type="checkbox"
    disabled=${!e.edit}
    checked=${!!e.value}
    onchange=${t=>e.location.view.valChange({input:t.target,entry:e,value:t.target.checked})}>
  <div class="checkbox_i">`)},Me=t=>(function(){const e=this,n={update:be(t,e),streetview:Kt(t),images:Qt(t),documents:ie(t),group:Ut(t),geometry:se(t),meta:le(t),edit:fe(t),boolean:we(t),tableDefinition:ge(t),orderedList:_e(t),dashboard:ye(t),report:ve(t),valChange:me};e.view=n,e.view.update(),e.view.drawer=t.utils.wire()`<div class="drawer expandable expanded">`,e.view.header=t.utils.wire()`
  <div
  style = "${"border-bottom: 2px solid "+e.style.strokeColor}"
  class = "header">
  <div>
  ${String.fromCharCode(64+t.locations.list.length-t.locations.list.indexOf(e.record))}`,e.view.header.onclick=()=>{t.utils.toggleExpanderParent({expandable:e.view.drawer,accordeon:!0,scrolly:t.desktop&&t.desktop.listviews})},e.view.drawer.appendChild(e.view.header),e.view.header.appendChild(t.utils.wire()`
  <i
  style = "${"color: "+e.style.strokeColor}"
  title = "Toggle location view drawer."
  class = "material-icons cursor noselect btn_header expander"
  onclick = ${n=>{n.stopPropagation(),t.utils.toggleExpanderParent({expandable:e.view.drawer,scrolly:t.desktop&&t.desktop.listviews})}}>`),e.view.upload=t.utils.wire()`
  <i
  style = "${"display: none; color: "+e.style.strokeColor}"
  title = "Save changes to cloud."
  class = "material-icons cursor noselect btn_header"
  onclick = ${t=>{t.stopPropagation(),e.update()}}>cloud_upload`,e.view.header.appendChild(e.view.upload),e.view.trash=t.utils.wire()`
  <i
  style = "${"color: "+e.style.strokeColor}"
  title = "Delete location."
  class = "material-icons cursor noselect btn_header"
  onclick = ${t=>{t.stopPropagation(),e.trash()}}>delete`,e.view.header.appendChild(e.view.trash),e.view.header.appendChild(t.utils.wire()`
  <i
  style = "${"color: "+e.style.strokeColor}"
  title = "Copy to clipboard"
  class = "material-icons cursor noselect btn_header"
  onclick = ${t=>{t.stopPropagation(),e.clipboard()}}>file_copy`),e.view.header.appendChild(t.utils.wire()`
  <i
  style = "${"color: "+e.style.strokeColor}"
  title = "Zoom map to feature bounds"
  class = "material-icons cursor noselect btn_header"
  onclick = ${t=>{t.stopPropagation(),e.flyTo()}}>search`),e.view.header.appendChild(t.utils.wire()`
  <i
  style = "${"color: "+e.style.strokeColor}"
  title = "Hide marker"
  class = "material-icons cursor noselect btn_header"
  onclick = ${n=>{n.stopPropagation(),"location_off"===n.target.textContent?(t.map.removeLayer(e.Marker),n.target.textContent="location_on",n.target.title="Show marker"):(t.map.addLayer(e.Marker),n.target.textContent="location_off",n.target.title="Hide marker")}}>location_off`),e.view.header.appendChild(t.utils.wire()`
  <i
  style = "${"color: "+e.style.strokeColor}"
  title = "Remove feature from selection"
  class = "material-icons cursor noselect btn_header"
  onclick = ${t=>{t.stopPropagation(),e.remove()}}>clear`),e.view.drawer.appendChild(e.view.node)}),xe=t=>({select:Ht(t),selectCallback:Nt(t),list:[{style:{color:t.utils.chroma("hotpink")}}],listview:zt(t),decorate:(e,n={})=>Object.assign(e,{remove:Gt(t),flyTo:Wt(t),update:Bt(t),trash:Vt(t),clipboard:qt(t),view:Me(t),geometries:[],tables:[],style:Object.assign({strokeColor:"#090"},e.style||{})},n)}),Le=t=>(e,n)=>{n.edit&&n.edit.point&&(t.geom.contextmenu.close(),t.geom.contextmenu.create(e,{items:[{label:"Edit me",onclick:function(){let i=e.layer.feature.properties.count,o=e.layer.feature.geometry.coordinates;if(i>1)return;var r=new XMLHttpRequest;const a=n.filter&&Object.assign({},n.filter.legend,n.filter.current);r.open("GET",t.host+"/api/location/select/cluster?"+t.utils.paramString({locale:t.workspace.locale.key,layer:n.key,table:n.table,filter:JSON.stringify(a),count:i>99?99:i,lnglat:o,token:t.token})),r.setRequestHeader("Content-Type","application/json"),r.responseType="json",r.onload=e=>{if(200!==e.target.status)return;let i=e.target.response;i.length>1||((r=new XMLHttpRequest).open("GET",t.host+"/api/location/select/id?"+t.utils.paramString({locale:t.workspace.locale.key,layer:n.key,table:n.table,id:i[0].id,token:t.token})),r.setRequestHeader("Content-Type","application/json"),r.responseType="json",r.onload=e=>{200===e.target.status&&(n.edit.vertices=t.mapview.lib.featureGroup().on("click",e=>t.geom.contextmenu.close()).addTo(t.map),n.edit.vertices.clearLayers(),n.edit.vertices.addLayer(t.mapview.lib.circleMarker([e.target.response.geomj.coordinates[1],e.target.response.geomj.coordinates[0]],t.style.defaults.vertex)),n.edit.vertices.eachLayer(t=>t.editing.enable()),t.mapview.state="edit",t.map.once("contextmenu",e=>{t.geom.contextmenu.close(),t.geom.contextmenu.create(e,{items:[{label:"Save me",onclick:e=>{e.stopPropagation(),n.edit.vertices.eachLayer(t=>t.editing.disable());let o=new XMLHttpRequest;o.open("POST",t.host+"/api/location/edit/geom/update?"+t.utils.paramString({locale:t.workspace.locale.key,layer:n.key,table:n.table,id:i[0].id,token:t.token})),o.setRequestHeader("Content-Type","application/json"),o.onload=t=>{n.edit.vertices.clearLayers(),n.show()},o.send(JSON.stringify(n.edit.vertices.toGeoJSON().features[0].geometry)),t.geom.contextmenu.close()}},{label:"Cancel me",onclick:e=>{e.stopPropagation(),n.show(),n.edit.vertices.eachLayer(t=>t.editing.disable()),n.edit.vertices.clearLayers(),t.geom.contextmenu.close()}}]})}))},r.send())},r.send()}}]}),t.map.once("click",e=>t.geom.contextmenu.close()))},ke=t=>e=>{e.view.header.classList.add("edited"),t.mapview.node.style.cursor="crosshair",e.edit.vertices=t.mapview.lib.featureGroup().addTo(t.map),t.map.once("click",n=>{const i=[n.latlng.lng.toFixed(5),n.latlng.lat.toFixed(5)],o=new XMLHttpRequest;o.open("GET",t.host+"/api/location/edit/isoline/mapbox?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.key,table:e.table,coordinates:i.join(","),minutes:e.edit.isoline_mapbox.minutes,profile:e.edit.isoline_mapbox.profile,token:t.token})),o.onload=n=>{if(t.mapview.node.style.cursor="",e.show(),200!==n.target.status)return alert("No route found. Try a longer travel time");t.locations.select({layer:e.key,table:e.table,id:n.target.response,marker:i,edit:{delete:!0}})},o.send(),t.mapview.state.finish(),t.mapview.node.style.cursor="busy"})},Te=t=>e=>{e.display||e.show(),e.view.header.classList.add("edited"),t.mapview.node.style.cursor="crosshair",e.edit.vertices=L.featureGroup().addTo(t.map),t.map.once("click",n=>{const i=[n.latlng.lat.toFixed(5),n.latlng.lng.toFixed(5)];e.edit.vertices.addLayer(L.circleMarker(n.latlng,t.style.defaults.vertex));const o=new XMLHttpRequest;o.open("GET",t.host+"/api/location/edit/isoline/here?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.key,table:e.table,coordinates:i.join(","),mode:e.edit.isoline_here.mode,type:e.edit.isoline_here.type,rangetype:e.edit.isoline_here.rangetype,minutes:e.edit.isoline_here.minutes,distance:e.edit.isoline_here.distance,meta:entry.edit.isoline_here.meta||null,token:t.token})),o.onload=n=>{if(t.mapview.node.style.cursor="",e.show(),200!==n.target.status)return alert("No route found. Try alternative set up.");t.locations.select({layer:e.key,table:e.table,id:n.target.response,marker:i.reverse(),edit:{delete:!0}})},o.send(),t.mapview.state.finish(),t.mapview.node.style.cursor="busy"})},Ee=t=>(e,n)=>{function i(i){let o=new XMLHttpRequest;o.open("GET",t.host+"/api/location/select/id?"+t.utils.paramString({locale:t.workspace.locale.key,layer:n.key,table:n.table,id:e.layer.properties.id,token:t.token})),o.setRequestHeader("Content-Type","application/json"),o.responseType="json",o.onload=t=>{200===t.target.status&&i(t)},o.send()}n.edit&&n.edit.polygon&&(t.geom.contextmenu.close(),t.geom.contextmenu.create(e,{items:[{label:"Edit me",onclick:function(){i(function(i){t.mapview.state="edit",n.edit.trail=t.mapview.lib.featureGroup().on("click",e=>t.geom.contextmenu.close()).addTo(t.map),function(e){let i=t.utils.turf.explode(e).features,o=[];i.map(t=>{o.push([t.geometry.coordinates[1],t.geometry.coordinates[0]])}),n.edit.trail.clearLayers();let r={poly:{allowIntersection:!n.edit.polygon||void 0===typeof n.edit.polygon.allowIntersection||n.edit.polygon.allowIntersection}},a=Object.assign({},r,t.style.defaults.trail);"Polygon"===e.type&&n.edit.trail.addLayer(t.mapview.lib.polygon([o],a));"LineString"===e.type&&n.edit.trail.addLayer(t.mapview.lib.polyline([o],a));n.edit.trail.eachLayer(e=>{e.editing.enable(),t.map.on("draw:editvertex ",t=>t.poly.intersects()?t.poly.setStyle({color:"#DE3C4B"}):t.poly.setStyle(a))})}(i.target.response.geomj),t.map.once("contextmenu",i=>{t.geom.contextmenu.close(),t.geom.contextmenu.create(i,{items:[{label:"Save me",onclick:i=>{i.stopPropagation(),n.edit.trail.eachLayer(t=>t.editing.disable());let o=new XMLHttpRequest;o.open("POST",t.host+"/api/location/edit/geom/update?"+t.utils.paramString({locale:t.workspace.locale.key,layer:n.key,table:n.table,id:e.layer.properties.id,token:t.token})),o.setRequestHeader("Content-Type","application/json"),o.onload=t=>{n.edit.trail.clearLayers(),n.show()},o.send(JSON.stringify(n.edit.trail.toGeoJSON().features[0].geometry)),t.geom.contextmenu.close()}},{label:"Cancel me",onclick:e=>{e.stopPropagation(),n.show(),t.geom.contextmenu.close(),n.edit.trail.eachLayer(t=>t.editing.disable()),n.edit.trail.clearLayers()}}]})})})}},{label:"Area",onclick:function(){i(function(e){alert(`Feature area: \n ${parseInt(t.utils.turf.area(e.target.response.geomj))} sqm \n ${(t.utils.turf.area(e.target.response.geomj)/1e4).toFixed(2)} sqkm`),console.log("area:"),console.log(`${parseInt(t.utils.turf.area(e.target.response.geomj))} sqm`),console.log(`${(t.utils.turf.area(e.target.response.geomj)/1e4).toFixed(2)} sqkm`)})}},{label:"Perimeter",onclick:function(){i(function(e){alert(`Feature perimeter: \n ${t.utils.turf.length(e.target.response.geomj).toFixed(2)} km \n ${parseInt(1e3*t.utils.turf.length(e.target.response.geomj))} m`),console.log("perimeter:"),console.log(`${t.utils.turf.length(e.target.response.geomj).toFixed(2)} km`),console.log(`${parseInt(1e3*t.utils.turf.length(e.target.response.geomj))} m`)})}}]}),t.map.once("click",e=>t.geom.contextmenu.close()))},Ce=t=>({point_edit:Le(t),polygon_edit:Ee(t),isoline_mapbox:ke(t),isoline_here:Te(t)}),De=t=>e=>{e.entry.edit.isoline_mapbox.profile=e.entry.edit.isoline_mapbox.profile||"driving",e.entry.edit.isoline_mapbox.minutes=e.entry.edit.isoline_mapbox.minutes||10;const n=t.utils.wire()`<div style="margin-top: 8px">`;e.container.appendChild(n),n.appendChild(t.utils.wire()`<span>Mode`),t.utils.dropdown({label:"label",val:"val",selected:e.entry.edit.isoline_mapbox.profile,style:{width:"70%",float:"right",margin:0},entries:[{label:"Driving",val:"driving"},{label:"Walking",val:"walking"},{label:"Cycling",val:"cycling"}],onchange:t=>{e.entry.edit.isoline_mapbox.profile=t.target.value},appendTo:n}),e.container.appendChild(t.utils.wire()`
  <div style="margin-top: 12px;">
  <span>Travel time in minutes: </span>
  <span class="bold">${e.entry.edit.isoline_mapbox.minutes}</span>
  <div class="range">
  <input
    type="range"
    min=5
    value=${e.entry.edit.isoline_mapbox.minutes}
    max=60
    step=1
    oninput=${t=>{e.entry.edit.isoline_mapbox.minutes=parseInt(t.target.value),t.target.parentNode.previousElementSibling.textContent=e.entry.edit.isoline_mapbox.minutes}}>`)},Se=t=>e=>{const n=t.utils.wire()`<div style="margin-top: 8px">`;e.container.appendChild(n),n.appendChild(t.utils.wire()`<span>Mode`),t.utils.dropdown({label:"label",val:"val",selected:e.entry.edit.isoline_here.mode||"car",style:{width:"70%",float:"right",margin:0},entries:[{label:"Driving",val:"car"},{label:"Walking",val:"pedestrian"},{label:"Cargo",val:"truck"},{label:"HOV lane",val:"carHOV"}],onchange:t=>{e.entry.edit.isoline_here.mode=t.target.value},appendTo:n});let i=t.utils.wire()`<div style="margin-top: 8px;"><span>Range`;e.container.appendChild(i),t.utils.dropdown({label:"label",val:"val",selected:e.entry.edit.isoline_here.rangetype||"time",style:{width:"70%",float:"right",margin:0},entries:[{label:"Time (min)",val:"time"},{label:"Distance (km)",val:"distance"}],onchange:t=>{e.entry.edit.isoline_here.rangetype=t.target.value,"time"===t.target.value&&(o.style.display="block",r.style.display="none"),"distance"===t.target.value&&(o.style.display="none",r.style.display="block")},appendTo:i}),e.entry.edit.isoline_here.minutes=e.entry.edit.isoline_here.minutes||10;const o=t.utils.wire()`
  <div style="margin-top: 12px; display: none;">
  <span>Travel time in minutes: </span>
  <span class="bold">${e.entry.edit.isoline_here.minutes}</span>
  <div class="range">
  <input
    type="range"
    min=5
    value=${e.entry.edit.isoline_here.minutes}
    max=60
    step=1
    oninput=${t=>{e.entry.edit.isoline_here.minutes=parseInt(t.target.value),t.target.parentNode.previousElementSibling.textContent=e.entry.edit.isoline_here.minutes}}>`;e.container.appendChild(o),e.entry.edit.isoline_here.distance=e.entry.edit.isoline_here.distance||10;const r=t.utils.wire()`
  <div style="margin-top: 12px; display: none;">
  <span>Travel distance in kilometer: </span>
  <span class="bold">${e.entry.edit.isoline_here.distance}</span>
  <div class="range">
  <input
    type="range"
    min=5
    value=${e.entry.edit.isoline_here.distance}
    max=60
    step=1
    oninput=${t=>{e.entry.edit.isoline_here.distance=parseInt(t.target.value),t.target.parentNode.previousElementSibling.textContent=e.entry.edit.isoline_here.distance}}>`;e.container.appendChild(r)},Ye=t=>({isoline_mapbox:De(t),isoline_here:Se(t)}),Re=t=>e=>{e.target&&(t.tableview.tables=[],t.tableview.node=e.target,t.workspace.locale&&!e.locale||t.workspace.loadLocale(e),t.tableview.nav_bar=t.tableview.node.querySelector(".nav_bar > ul.nav_bar-nav"),t.tableview.nav_dropdown=t.tableview.node.querySelector(".nav_bar .tab-dropdown-content ul"),t.tableview.nav_dropdown_content=t.tableview.node.querySelector(".nav_bar .tab-dropdown-content"),t.tableview.nav_dropdown_btn=t.tableview.node.querySelector(".nav_bar .tab-dropdown"),t.tableview.nav_bar.innerHTML="",t.tableview.btn=((t,e)=>{if(e.btn)return e.btn.tableViewport&&(e.btn.tableViewport.onclick=()=>{t.tableview.current_table.viewport=!t.tableview.current_table.viewport,t.tableview.current_table.viewport?e.btn.tableViewport.classList.add("active"):e.btn.tableViewport.classList.remove("active"),t.tableview.current_table.update()}),{toggleTableview:function(e){if(!e.btn.toggleTableview)return;e.btn.toggleTableview.onclick=()=>{if("vertical_align_bottom"===e.btn.toggleTableview.textContent)return e.btn.toggleTableview.textContent="vertical_align_top",document.body.style.gridTemplateRows="minmax(0, 1fr) 40px",void t.map.updateSize();e.btn.toggleTableview.textContent="vertical_align_bottom",document.body.style.gridTemplateRows=`minmax(0, 1fr) ${window.innerHeight}px`,t.tableview.current_table.Tabulator.redraw(!0),t.map.updateSize()}}(e),tableViewport:e.btn.tableViewport}})(t,e),t.mapview.node&&t.mapview.node.addEventListener("changeEnd",()=>{t.tableview.current_table&&t.tableview.current_table.viewport&&t.tableview.current_table.update()}),t.tableview.nav_dropdown_btn.addEventListener("click",e=>{t.tableview.nav_dropdown_content.classList.toggle("show")}),t.tableview.resizeObserve())},Oe=t=>e=>{let n={};e.location&&e.location.style&&e.location.style.color&&(n={background:`-moz-linear-gradient(180deg, ${e.location.style.color} 0%, rgba(255,255,255,1) 12%)`,background:`-webkit-linear-gradient(180deg, ${e.location.style.color} 0%, rgba(255,255,255,1) 12%)`,background:`linear-gradient(180deg, ${e.location.style.color} 0%, rgba(255,255,255,1) 12%)`}),Object.values(t.tableview.nav_bar.children).forEach(t=>t.classList.remove("tab-current")),e.tab&&e.tab.remove(),t.tableview.btn.tableViewport&&(t.tableview.btn.tableViewport.style.display="none"),t.tableview.max_tabs=6;let i=t.tableview.nav_bar.children.length||0,o=t.tableview.nav_dropdown.children.length||0,r=i+o;e.tab=t.utils.wire()`<li
  class="Tab cursor noselect"
  style="${n}"
  onclick=${n=>{Object.values(t.tableview.nav_bar.children).forEach(t=>t.classList.remove("tab-current")),n.target.classList.contains("folded")&&(t.tableview.nav_bar.lastChild.classList.add("folded"),t.tableview.nav_dropdown.appendChild(t.tableview.nav_bar.lastChild),n.target.classList.remove("folded"),t.tableview.nav_bar.appendChild(n.target)),n.target.classList.add("tab-current"),e.activate(),t.tableview.btn.tableViewport&&(t.tableview.btn.tableViewport.style.display="none"),t.tableview.nav_dropdown_content.classList.remove("show")}}>${e.title}`,r<t.tableview.max_tabs?t.tableview.nav_bar.appendChild(e.tab):(e.tab.classList.add("folded"),t.tableview.nav_dropdown.appendChild(e.tab)),r=(i=t.tableview.nav_bar.children.length||0)+(o=t.tableview.nav_dropdown.children.length||0),e.tab.classList.contains("folded")?t.tableview.nav_bar.lastChild.classList.add("tab-current"):e.tab.classList.add("tab-current"),o>0&&(t.tableview.nav_dropdown_btn.style.display="inline-flex")},Pe=t=>e=>{e.tab?e.tab.remove():e.target.innerHTML="";let n=t.tableview.tables.indexOf(e);if(!(n<0)){if(t.tableview.tables.splice(n,1),t.tableview.current_table=null,n<=t.tableview.max_tabs&&t.tableview.nav_dropdown.firstChild&&t.tableview.nav_bar.appendChild(t.tableview.nav_dropdown.firstChild),t.tableview.nav_dropdown.firstChild||(t.tableview.nav_dropdown_btn.style.display="none"),t.tableview.node&&t.tableview.tables.length>0){Object.values(t.tableview.nav_bar.children).forEach(t=>t.classList.remove("tab-current"));const e=document.querySelectorAll("#tableview ul.nav_bar-nav li");return e[e.length-1].classList.add("tab-current"),t.tableview.tables[e.length-1].activate()}document.body.style.gridTemplateRows="minmax(0, 1fr) 0"}},Fe=t=>(e,n)=>{if(!e||!e.location)return;if(t.tableview.node&&(document.body.style.gridTemplateRows="minmax(0, 1fr) 40px"),!e.columns){const n=t.workspace.locale.layers[e.location.layer].infoj,i=Object.values(n).find(t=>t.title===e.title);Object.assign(e,i)}const i=[{field:"rows",title:e.title,headerSort:!1}];e.columns.forEach(t=>{t.aspatial||i.push({field:t.field,title:t.title||t.field,headerSort:!1})}),Object.keys(e.agg||{}).forEach(t=>{i.push({field:t,title:e.agg[t].title||t,headerSort:!1}),e.agg[t].formatter&&i.push({field:t,title:e.agg[t].title||t,headerSort:!1,formatter:e.agg[t].formatter,formatterParams:e.agg[t].formatterParams||null,width:e.agg[t].width||null,sorter:e.agg[t].sorter||null})}),t.tableview.tables.indexOf(e)<0&&t.tableview.tables.push(e),t.tableview.nav_bar&&t.tableview.addTab(e),e.update=()=>{const i=new XMLHttpRequest;i.open("GET",t.host+"/api/location/table?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.location.layer,id:e.location.id,tableDef:e.title,token:t.token})),i.setRequestHeader("Content-Type","application/json"),i.responseType="json",i.onload=t=>{200===t.target.status&&(e.Tabulator.setData(t.target.response),e.Tabulator.redraw(!0),n&&n(t.target.response))},i.send()},e.activate=()=>{t.tableview.node.querySelector(".tab-content").innerHTML="",e.target=t.utils.wire()`<div class="table">`,t.tableview.node.querySelector(".tab-content").appendChild(e.target),e.Tabulator=new t.utils.Tabulator(e.target,{columns:i,layout:"fitDataFill",height:"auto"}),e.update(),t.tableview.current_table=e},e.tab&&e.tab.classList.contains("folded")||e.activate()},Ie=t=>(e,n)=>{if(!e||!e.location)return;if(t.tableview.node&&(document.body.style.gridTemplateRows="minmax(0, 1fr) 40px"),!e.columns){const n=t.workspace.locale.layers[e.location.layer].infoj,i=Object.values(n).find(t=>t.title===e.title);Object.assign(e,i)}const i=[];e.columns.forEach(t=>{i.push({field:t.field,title:t.title||t.field,headerSort:!1})}),t.tableview.tables.indexOf(e)<0&&t.tableview.tables.push(e),t.tableview.nav_bar&&t.tableview.addTab(e),e.update=()=>{const i=new XMLHttpRequest;i.open("GET",t.host+"/api/location/list?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.location.layer,table:t.workspace.locale.layers[e.location.layer].tables?t.workspace.locale.layers[e.location.layer].tableMax():null,id:e.location.id,tableDef:e.title,token:t.token})),i.setRequestHeader("Content-Type","application/json"),i.responseType="json",i.onload=t=>{200===t.target.status&&(e.Tabulator.setData(t.target.response),e.Tabulator.redraw(!0),n&&n(t.target.response))},i.send()},e.activate=()=>{t.tableview.node.querySelector(".tab-content").innerHTML="",e.target=t.utils.wire()`<div class="table">`,t.tableview.node.querySelector(".tab-content").appendChild(e.target),e.Tabulator=new t.utils.Tabulator(e.target,{columns:i,layout:"fitDataFill",height:"auto"}),e.update(),t.tableview.current_table=e},e.tab&&e.tab.classList.contains("folded")||e.activate()},Ae=t=>(e,n)=>{e&&e.location&&(t.tableview.node&&(document.body.style.gridTemplateRows="minmax(0, 1fr) 40px"),t.tableview.tables.indexOf(e)<0&&t.tableview.tables.push(e),t.tableview.nav_bar&&t.tableview.addTab(e),e.update=()=>{console.log("update dashboard"),e.target.textContent="Hi I am a dashboard"},e.activate=()=>{console.log("activate dashboard"),e.update(),t.tableview.current_table=e},e.tab&&e.tab.classList.contains("folded")||e.activate())},je=t=>e=>{if(!e)return;if(e.key){if(!e.layer.tableview.tables[e.key])return;Object.assign(e,e.layer.tableview.tables[e.key])}t.tableview.node&&(document.body.style.gridTemplateRows="minmax(0, 1fr) 40px",t.map.updateSize()),t.tableview.tables.indexOf(e)<0&&t.tableview.tables.push(e),t.tableview.nav_bar&&t.tableview.addTab(e),e.columns.forEach(n=>{n.title=n.title||n.field,"date"===n.type&&(n.formatter=t.utils.formatDate),"datetime"===n.type&&(n.formatter=t.utils.formatDateTime),e.visible&&e.visible.length&&(n.visible=!!e.visible.includes(n.field))}),e.update=()=>{const n=new XMLHttpRequest,i=t.map&&t.mapview.getBounds(),o=e.layer.filter&&Object.assign({},e.layer.filter.legend,e.layer.filter.current);n.open("GET",t.host+"/api/layer/table?"+t.utils.paramString({locale:t.workspace.locale.key,layer:e.layer.key,table:e.key,viewport:e.viewport,orderby:e.orderby,order:e.order,filter:JSON.stringify(o),south:i&&i.south,west:i&&i.west,north:i&&i.north,east:i&&i.east,token:t.token})),n.setRequestHeader("Content-Type","application/json"),n.responseType="json",n.onload=t=>{200===t.target.status&&(e.Tabulator.setData(t.target.response),e.Tabulator.redraw(!0))},n.send()};let n=!1;e.activate=()=>{t.tableview&&t.tableview.btn&&t.tableview.btn.tableViewport&&(e.viewport?t.tableview.btn.tableViewport.classList.add("active"):t.tableview.btn.tableViewport.classList.remove("active"),t.tableview.btn.tableViewport.style.display="block"),e.Tabulator=new t.utils.Tabulator(e.target,{columns:e.columns,autoResize:!0,height:t.tableview.height||"auto",groupBy:e.groupBy||null,initialSort:e.initialSort||null,groupStartOpen:void 0===typeof e.groupStartOpen||e.groupStartOpen,groupToggleElement:void 0===typeof e.groupToggleElement?"arrow":e.groupToggleElement,dataSorting:t=>{t[0]&&(e.orderby===t[0].field&&e.order===t[0].dir||(n=!1,e.orderby=t[0].field,e.order=t[0].dir,n||e.update()))},dataSorted:(t,e)=>{n=!0},rowClick:e.rowClick||function(n,i){const o=i.getData();if(!o.qid)return;t.locations.select({locale:t.workspace.locale.key,layer:e.layer.key,table:e.from,id:o.qid})},groupClick:e.groupClick||null}),e.update(),t.tableview.current_table=e},e.tab&&e.tab.classList.contains("folded")||e.activate()},He=t=>()=>{if("function"!=typeof ResizeObserver)return;const e=new ResizeObserver(e=>{for(let n of e){let e=n.target.clientWidth;e>=500&&(t.tableview.max_tabs=6,r()),e>450&&e<500&&(t.tableview.max_tabs=5,o(),r()),e>400&&e<=450&&(t.tableview.max_tabs=4,o(),r()),e>300&&e<=400&&(t.tableview.max_tabs=3,o(),r()),e>200&&e<=300&&(t.tableview.max_tabs=2,o(),r()),e<=200&&(t.tableview.max_tabs=1,o(),r())}});var n,i=()=>{e.observe(t.tableview.nav_bar)};function o(){Object.values(t.tableview.nav_bar.children).map(e=>{Array.from(t.tableview.nav_bar.children).indexOf(e)>=t.tableview.max_tabs&&t.tableview.nav_dropdown.insertBefore(e,t.tableview.nav_dropdown.childNodes[0])}),a()}function r(){if(t.tableview.nav_dropdown.children.length&&t.tableview.nav_bar.children.length<t.tableview.max_tabs){let e=t.tableview.max_tabs-t.tableview.nav_bar.children.length;for(let n=0;n<e;n++)t.tableview.nav_dropdown.children[n].classList.remove("folded"),t.tableview.nav_bar.appendChild(t.tableview.nav_dropdown.children[n]);a()}}function a(){Object.values(t.tableview.nav_bar.children).forEach(t=>t.classList.remove("tab-current")),t.tableview.nav_bar&&t.tableview.nav_bar.firstChild&&t.tableview.nav_bar.firstChild.classList.add("tab-current"),t.tableview.tables[0].activate()}window.onresize=()=>{clearTimeout(n),n=setTimeout(i,100),e.unobserve(t.tableview.nav_bar)}},Ne=t=>({tables:[],create:Re(t),addTab:Oe(t),removeTab:Pe(t),locationTable:Fe(t),orderedList:Ie(t),dashboard:Ae(t),layerTable:je(t),resizeObserve:He(t)});function ze(){return function(){throw new Error("Unimplemented abstract method.")}()}var Ge=0;function We(t){return t.ol_uid||(t.ol_uid=String(++Ge))}var Be,Ve="6.0.0-beta.15",qe=(Be=function(t,e){return(Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Be(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ue=function(t){function e(e){var n=this,i="Assertion failed. See https://openlayers.org/en/"+("latest"===Ve?Ve:"v"+Ve.split("-")[0])+"/doc/errors/#"+e+" for details.";return(n=t.call(this,i)||this).code=e,n.name="AssertionError",n.message=i,n}return qe(e,t),e}(Error);function Xe(t,e){if(!t)throw new Ue(e)}var Ke=n(156),Je=n.n(Ke),Ze="function"==typeof Object.assign?Object.assign:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1,o=arguments.length;i<o;++i){var r=arguments[i];if(null!=r)for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}return n};function $e(t){for(var e in t)delete t[e]}var Qe="function"==typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function tn(t){var e;for(e in t)return!1;return!e}function en(t,e,n){return Math.min(Math.max(t,e),n)}var nn="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function on(t,e,n,i,o,r){var a=o-n,s=r-i;if(0!==a||0!==s){var l=((t-n)*a+(e-i)*s)/(a*a+s*s);l>1?(n=o,i=r):l>0&&(n+=a*l,i+=s*l)}return rn(t,e,n,i)}function rn(t,e,n,i){var o=n-t,r=i-e;return o*o+r*r}function an(t){return t*Math.PI/180}function sn(t,e){var n=t%e;return n*e<0?n+e:n}function ln(t,e,n){return t+n*(e-t)}var un={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},dn=6371008.8;
/**
 * @license
 * Latitude/longitude spherical geodesy formulae taken from
 * http://www.movable-type.co.uk/scripts/latlong.html
 * Licensed under CC-BY-3.0.
 */function cn(t,e,n){var i=n||dn,o=an(t[1]),r=an(e[1]),a=(r-o)/2,s=an(e[0]-t[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(o)*Math.cos(r);return 2*i*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}var hn={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},pn={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function fn(t){for(var e=Mn(),n=0,i=t.length;n<i;++n)Dn(e,t[n]);return e}function mn(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function gn(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function _n(t,e,n){var i,o;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(o=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*o}function yn(t,e){return bn(t,e[0],e[1])}function vn(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function bn(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function wn(t,e){var n=t[0],i=t[1],o=t[2],r=t[3],a=e[0],s=e[1],l=pn.UNKNOWN;return a<n?l|=pn.LEFT:a>o&&(l|=pn.RIGHT),s<i?l|=pn.BELOW:s>r&&(l|=pn.ABOVE),l===pn.UNKNOWN&&(l=pn.INTERSECTING),l}function Mn(){return[1/0,1/0,-1/0,-1/0]}function xn(t,e,n,i,o){return o?(o[0]=t,o[1]=e,o[2]=n,o[3]=i,o):[t,e,n,i]}function Ln(t){return xn(1/0,1/0,-1/0,-1/0,t)}function kn(t,e){var n=t[0],i=t[1];return xn(n,i,n,i,e)}function Tn(t,e,n,i,o){return Yn(Ln(o),t,e,n,i)}function En(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function Cn(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Dn(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Sn(t,e){for(var n=0,i=e.length;n<i;++n)Dn(t,e[n]);return t}function Yn(t,e,n,i,o){for(;n<i;n+=o)Rn(t,e[n],e[n+1]);return t}function Rn(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function On(t,e){var n;return(n=e(Fn(t)))?n:(n=e(In(t)))?n:(n=e(Wn(t)))?n:(n=e(Gn(t)))||!1}function Pn(t){var e=0;return qn(t)||(e=Bn(t)*Nn(t)),e}function Fn(t){return[t[0],t[1]]}function In(t){return[t[2],t[1]]}function An(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function jn(t,e){var n;return e===hn.BOTTOM_LEFT?n=Fn(t):e===hn.BOTTOM_RIGHT?n=In(t):e===hn.TOP_LEFT?n=Gn(t):e===hn.TOP_RIGHT?n=Wn(t):Xe(!1,13),n}function Hn(t,e,n,i,o){var r=e*i[0]/2,a=e*i[1]/2,s=Math.cos(n),l=Math.sin(n),u=r*s,d=r*l,c=a*s,h=a*l,p=t[0],f=t[1],m=p-u+h,g=p-u-h,_=p+u-h,y=p+u+h,v=f-d-c,b=f-d+c,w=f+d+c,M=f+d-c;return xn(Math.min(m,g,_,y),Math.min(v,b,w,M),Math.max(m,g,_,y),Math.max(v,b,w,M),o)}function Nn(t){return t[3]-t[1]}function zn(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return Vn(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):Ln(i),i}function Gn(t){return[t[0],t[3]]}function Wn(t){return[t[2],t[3]]}function Bn(t){return t[2]-t[0]}function Vn(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function qn(t){return t[2]<t[0]||t[3]<t[1]}function Un(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),function(t,e,n){return xn(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}var Xn={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Kn={};Kn[Xn.DEGREES]=2*Math.PI*6370997/360,Kn[Xn.FEET]=.3048,Kn[Xn.METERS]=1,Kn[Xn.USFEET]=1200/3937;var Jn=Xn,Zn=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Kn[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),$n=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qn=6378137,ti=Math.PI*Qn,ei=[-ti,-ti,ti,ti],ni=[-180,-85,180,85],ii=function(t){function e(e){return t.call(this,{code:e,units:Jn.METERS,extent:ei,global:!0,worldExtent:ni,getPointResolution:function(t,e){return t/nn(e[1]/Qn)}})||this}return $n(e,t),e}(Zn),oi=[new ii("EPSG:3857"),new ii("EPSG:102100"),new ii("EPSG:102113"),new ii("EPSG:900913"),new ii("urn:ogc:def:crs:EPSG:6.18:3:3857"),new ii("urn:ogc:def:crs:EPSG::3857"),new ii("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ri(t,e,n){var i=t.length,o=n>1?n:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(i));for(var a=ti,s=0;s<i;s+=o){r[s]=a*t[s]/180;var l=Qn*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));l>a?l=a:l<-a&&(l=-a),r[s+1]=l}return r}function ai(t,e,n){var i=t.length,o=n>1?n:2,r=e;void 0===r&&(r=o>2?t.slice():new Array(i));for(var a=0;a<i;a+=o)r[a]=180*t[a]/ti,r[a+1]=360*Math.atan(Math.exp(t[a+1]/Qn))/Math.PI-90;return r}var si=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),li=[-180,-90,180,90],ui=6378137*Math.PI/180,di=function(t){function e(e,n){return t.call(this,{code:e,units:Jn.DEGREES,extent:li,axisOrientation:n,global:!0,metersPerUnit:ui,worldExtent:li})||this}return si(e,t),e}(Zn),ci=[new di("CRS:84"),new di("EPSG:4326","neu"),new di("urn:ogc:def:crs:EPSG::4326","neu"),new di("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new di("urn:ogc:def:crs:OGC:1.3:CRS84"),new di("urn:ogc:def:crs:OGC:2:84"),new di("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new di("urn:x-ogc:def:crs:EPSG:4326","neu")],hi={};function pi(t,e,n){var i=t.getCode(),o=e.getCode();i in hi||(hi[i]={}),hi[i][o]=n}var fi,mi,gi,_i={};function yi(t,e,n){var i;if(void 0!==e){for(var o=0,r=t.length;o<r;++o)e[o]=t[o];i=e}else i=t.slice();return i}function vi(t,e,n){if(void 0!==e&&t!==e){for(var i=0,o=t.length;i<o;++i)e[i]=t[i];t=e}return t}function bi(t){!function(t,e){_i[t]=e}(t.getCode(),t),pi(t,t,yi)}function wi(t){return"string"==typeof t?_i[t]||null:t||null}function Mi(t,e,n,i){var o,r=(t=wi(t)).getPointResolutionFunc();if(r)o=r(e,n),i&&i!==t.getUnits()&&(a=t.getMetersPerUnit())&&(o=o*a/Kn[i]);else if(t.getUnits()==Jn.DEGREES&&!i||i==Jn.DEGREES)o=e;else{var a,s=Ei(t,wi("EPSG:4326")),l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];o=(cn((l=s(l,l,2)).slice(0,2),l.slice(2,4))+cn(l.slice(4,6),l.slice(6,8)))/2,void 0!==(a=i?Kn[i]:t.getMetersPerUnit())&&(o/=a)}return o}function xi(t){!function(t){t.forEach(bi)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&pi(e,t,yi)})})}function Li(t,e){return t?"string"==typeof t?wi(t):t:wi(e)}function ki(t,e){return Di(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function Ti(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:Ei(t,e)===yi&&n}function Ei(t,e){var n=function(t,e){var n;return t in hi&&e in hi[t]&&(n=hi[t][e]),n}(t.getCode(),e.getCode());return n||(n=vi),n}function Ci(t,e){return Ei(wi(t),wi(e))}function Di(t,e,n){return Ci(e,n)(t,void 0,t.length)}function Si(t,e,n){return Un(t,Ci(e,n))}xi(oi),xi(ci),fi=oi,mi=ri,gi=ai,ci.forEach(function(t){fi.forEach(function(e){pi(t,e,mi),pi(e,t,gi)})});var Yi=function(){function t(){this.dataProjection=null,this.defaultFeatureProjection=null}return t.prototype.getReadOptions=function(t,e){var n;if(e){var i=e.dataProjection?wi(e.dataProjection):this.readProjection(t);e.extent&&i&&i.getUnits()===Jn.TILE_PIXELS&&(i=wi(i)).setWorldExtent(e.extent),n={dataProjection:i,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return Ze({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return ze()},t.prototype.readFeature=function(t,e){return ze()},t.prototype.readFeatures=function(t,e){return ze()},t.prototype.readGeometry=function(t,e){return ze()},t.prototype.readProjection=function(t){return ze()},t.prototype.writeFeature=function(t,e){return ze()},t.prototype.writeFeatures=function(t,e){return ze()},t.prototype.writeGeometry=function(t,e){return ze()},t}();function Ri(t,e,n){var i,o=n?wi(n.featureProjection):null,r=n?wi(n.dataProjection):null;if(i=o&&r&&!Ti(o,r)?(e?t.clone():t).transform(e?o:r,e?r:o):t,e&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals);i===t&&(i=t.clone()),i.applyTransform(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t})}return i}var Oi={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},Pi={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function Fi(t,e){return t>e?1:t<e?-1:0}function Ii(t,e,n){var i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;var o=void 0;if(n>0){for(o=1;o<i;++o)if(t[o]<e)return o-1}else if(n<0){for(o=1;o<i;++o)if(t[o]<=e)return o}else for(o=1;o<i;++o){if(t[o]==e)return o;if(t[o]<e)return t[o-1]-e<e-t[o]?o-1:o}return i-1}function Ai(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function ji(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,o=0;o<i;o++)t[t.length]=n[o]}function Hi(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}var Ni="propertychange";function zi(t,e,n,i){for(var o,r=0,a=t.length;r<a;++r)if((o=t[r]).listener===e&&o.bindTo===n)return i&&(o.deleteIndex=r),o}function Gi(t,e){var n=Wi(t);return n?n[e]:void 0}function Wi(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function Bi(t,e){var n=Gi(t,e);if(n){for(var i=0,o=n.length;i<o;++i)t.removeEventListener(e,n[i].boundListener),$e(n[i]);n.length=0;var r=Wi(t);r&&(delete r[e],0===Object.keys(r).length&&function(t){delete t.ol_lm}(t))}}function Vi(t,e,n,i,o){var r=Wi(t,!0),a=r[e];a||(a=r[e]=[]);var s=zi(a,n,i,!1);return s?o||(s.callOnce=!1):(s={bindTo:i,callOnce:!!o,listener:n,target:t,type:e},t.addEventListener(e,function(t){var e=function(e){var n=t.listener,i=t.bindTo||t.target;return t.callOnce&&Xi(t),n.call(i,e)};return t.boundListener=e,e}(s)),a.push(s)),s}function qi(t,e,n,i){return Vi(t,e,n,i,!0)}function Ui(t,e,n,i){var o=Gi(t,e);if(o){var r=zi(o,n,i,!0);r&&Xi(r)}}function Xi(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=Gi(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&Bi(t.target,t.type)}$e(t)}}var Ki=function(){function t(){this.disposed_=!1}return t.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();function Ji(){return!0}function Zi(){return!1}function $i(){}var Qi=function(){function t(t){this.propagationStopped,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}(),to=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eo=function(t){function e(){var e=t.call(this)||this;return e.pendingRemovals_={},e.dispatching_={},e.listeners_={},e}return to(e,t),e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new Qi(t):t,n=e.type;e.target=this;var i,o=this.listeners_[n];if(o){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var r=0,a=o.length;r<a;++r)if(!1===o[r].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var s=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];s--;)this.removeEventListener(n,$i);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){!function(t){var e=Wi(t);if(e)for(var n in e)Bi(t,n)}(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);t in this.pendingRemovals_?(n[i]=$i,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t])}},e}(Ki),no={CHANGE:"change",ERROR:"error",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"},io=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var oo=function(t){function e(){var e=t.call(this)||this;return e.revision_=0,e}return io(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(no.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=Vi(this,t[o],e);return i}return Vi(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=qi(this,t[o],e);return i}return qi(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)Ui(this,t[n],e);else Ui(this,t,e)},e}(eo),ro=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ao=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.key=n,o.oldValue=i,o}return ro(e,t),e}(Qi),so=function(t){function e(e){var n=t.call(this)||this;return We(n),n.values_={},void 0!==e&&n.setProperties(e),n}return ro(e,t),e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Ze({},this.values_)},e.prototype.notify=function(t,e){var n;n=uo(t),this.dispatchEvent(new ao(n,t,e)),n=Ni,this.dispatchEvent(new ao(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(oo),lo={};function uo(t){return lo.hasOwnProperty(t)?lo[t]:lo[t]="change:"+t}var co=so;function ho(t,e,n,i,o,r){for(var a=r||[],s=0,l=e;l<n;l+=i){var u=t[l],d=t[l+1];a[s++]=o[0]*u+o[2]*d+o[4],a[s++]=o[1]*u+o[3]*d+o[5]}return r&&a.length!=s&&(a.length=s),a}function po(t,e,n,i,o,r,a){for(var s=a||[],l=Math.cos(o),u=Math.sin(o),d=r[0],c=r[1],h=0,p=e;p<n;p+=i){var f=t[p]-d,m=t[p+1]-c;s[h++]=d+f*l-m*u,s[h++]=c+f*u+m*l;for(var g=p+2;g<p+i;++g)s[h++]=t[g]}return a&&s.length!=h&&(s.length=h),s}function fo(t,e,n,i,o,r,a){for(var s=a||[],l=0,u=e;u<n;u+=i){s[l++]=t[u]+o,s[l++]=t[u+1]+r;for(var d=u+2;d<u+i;++d)s[l++]=t[d]}return a&&s.length!=l&&(s.length=l),s}var mo=new Array(6);function go(t){return yo(t,1,0,0,1,0,0)}function _o(t,e){var n=t[0],i=t[1],o=t[2],r=t[3],a=t[4],s=t[5],l=e[0],u=e[1],d=e[2],c=e[3],h=e[4],p=e[5];return t[0]=n*l+o*u,t[1]=i*l+r*u,t[2]=n*d+o*c,t[3]=i*d+r*c,t[4]=n*h+o*p+a,t[5]=i*h+r*p+s,t}function yo(t,e,n,i,o,r,a){return t[0]=e,t[1]=n,t[2]=i,t[3]=o,t[4]=r,t[5]=a,t}function vo(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function bo(t,e,n){return _o(t,yo(mo,e,0,0,n,0,0))}function wo(t,e,n){return yo(t,e,0,0,n,0,0)}function Mo(t,e,n,i,o,r,a,s){var l=Math.sin(r),u=Math.cos(r);return t[0]=i*u,t[1]=o*l,t[2]=-i*l,t[3]=o*u,t[4]=a*i*u-s*i*l+e,t[5]=a*o*l+s*o*u+n,t}function xo(t,e){var n,i=(n=e)[0]*n[3]-n[1]*n[2];Xe(0!==i,32);var o=e[0],r=e[1],a=e[2],s=e[3],l=e[4],u=e[5];return t[0]=s/i,t[1]=-r/i,t[2]=-a/i,t[3]=o/i,t[4]=(a*u-s*l)/i,t[5]=-(o*u-r*l)/i,t}function Lo(t){return"matrix("+t.join(", ")+")"}var ko=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),To=[1,0,0,1,0,0],Eo=function(t){function e(){var e=t.call(this)||this;return e.extent_=[1/0,1/0,-1/0,-1/0],e.extentRevision_=-1,e.simplifiedGeometryCache={},e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e}return ko(e,t),e.prototype.clone=function(){return ze()},e.prototype.closestPointXY=function(t,e,n,i){return ze()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return ze()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),function(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}(this.extent_,t)},e.prototype.rotate=function(t,e){ze()},e.prototype.scale=function(t,e,n){ze()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return ze()},e.prototype.getType=function(){return ze()},e.prototype.applyTransform=function(t){ze()},e.prototype.intersectsExtent=function(t){return ze()},e.prototype.translate=function(t,e){ze()},e.prototype.transform=function(t,e){var n=wi(t),i=n.getUnits()==Jn.TILE_PIXELS?function(t,i,o){var r=n.getExtent(),a=n.getWorldExtent(),s=Nn(a)/Nn(r);return Mo(To,a[0],a[3],s,-s,0,0,0),ho(t,0,t.length,o,To,i),Ci(n,e)(t,i,o)}:Ci(n,e);return this.applyTransform(i),this},e}(co),Co=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Do(t){var e;return t==Pi.XY?e=2:t==Pi.XYZ||t==Pi.XYM?e=3:t==Pi.XYZM&&(e=4),e}var So=function(t){function e(){var e=t.call(this)||this;return e.layout=Pi.XY,e.stride=2,e.flatCoordinates=null,e}return Co(e,t),e.prototype.computeExtent=function(t){return Tn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return ze()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&($e(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=Do(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){ze()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=Do(t);else{for(var o=0;o<n;++o){if(0===e.length)return this.layout=Pi.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=Pi.XY:3==t?e=Pi.XYZ:4==t&&(e=Pi.XYZM);return e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();po(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var o=n;o||(o=An(this.getExtent()));var r=this.getFlatCoordinates();if(r){var a=this.getStride();!function(t,e,n,i,o,r,a,s){for(var l=s||[],u=a[0],d=a[1],c=0,h=e;h<n;h+=i){var p=t[h]-u,f=t[h+1]-d;l[c++]=u+o*p,l[c++]=d+r*f;for(var m=h+2;m<h+i;++m)l[c++]=t[m]}s&&l.length!=c&&(l.length=c)}(r,0,r.length,a,t,i,o,r),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();fo(n,0,n.length,i,t,e,n),this.changed()}},e}(Eo);function Yo(t,e,n,i,o,r,a){var s,l=t[e],u=t[e+1],d=t[n]-l,c=t[n+1]-u;if(0===d&&0===c)s=e;else{var h=((o-l)*d+(r-u)*c)/(d*d+c*c);if(h>1)s=n;else{if(h>0){for(var p=0;p<i;++p)a[p]=ln(t[e+p],t[n+p],h);return void(a.length=i)}s=e}}for(p=0;p<i;++p)a[p]=t[s+p];a.length=i}function Ro(t,e,n,i,o){var r=t[e],a=t[e+1];for(e+=i;e<n;e+=i){var s=t[e],l=t[e+1],u=rn(r,a,s,l);u>o&&(o=u),r=s,a=l}return o}function Oo(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){var s=n[r];o=Ro(t,e,s,i,o),e=s}return o}function Po(t,e,n,i,o,r,a,s,l,u,d){if(e==n)return u;var c,h;if(0===o){if((h=rn(a,s,t[e],t[e+1]))<u){for(c=0;c<i;++c)l[c]=t[e+c];return l.length=i,h}return u}for(var p=d||[NaN,NaN],f=e+i;f<n;)if(Yo(t,f-i,f,i,a,s,p),(h=rn(a,s,p[0],p[1]))<u){for(u=h,c=0;c<i;++c)l[c]=p[c];l.length=i,f+=i}else f+=i*Math.max((Math.sqrt(h)-Math.sqrt(u))/o|0,1);if(r&&(Yo(t,n-i,e,i,a,s,p),(h=rn(a,s,p[0],p[1]))<u)){for(u=h,c=0;c<i;++c)l[c]=p[c];l.length=i}return u}function Fo(t,e,n,i,o,r,a,s,l,u,d){for(var c=d||[NaN,NaN],h=0,p=n.length;h<p;++h){var f=n[h];u=Po(t,e,f,i,o,r,a,s,l,u,c),e=f}return u}function Io(t,e,n,i){for(var o=0,r=n.length;o<r;++o)t[e++]=n[o];return e}function Ao(t,e,n,i){for(var o=0,r=n.length;o<r;++o)for(var a=n[o],s=0;s<i;++s)t[e++]=a[s];return e}function jo(t,e,n,i,o){for(var r=o||[],a=0,s=0,l=n.length;s<l;++s){var u=Ao(t,e,n[s],i);r[a++]=u,e=u}return r.length=a,r}function Ho(t,e,n,i,o){for(var r=void 0!==o?o:[],a=0,s=e;s<n;s+=i)r[a++]=t.slice(s,s+i);return r.length=a,r}function No(t,e,n,i,o){for(var r=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var u=n[s];r[a++]=Ho(t,e,u,i,r[a]),e=u}return r.length=a,r}function zo(t,e,n,i,o){for(var r=void 0!==o?o:[],a=0,s=0,l=n.length;s<l;++s){var u=n[s];r[a++]=No(t,e,u,i,r[a]),e=u[u.length-1]}return r.length=a,r}function Go(t,e,n,i,o,r){var a=NaN,s=NaN,l=(n-e)/i;if(1===l)a=t[e],s=t[e+1];else if(2==l)a=(1-o)*t[e]+o*t[e+i],s=(1-o)*t[e+1]+o*t[e+i+1];else if(0!==l){for(var u=t[e],d=t[e+1],c=0,h=[0],p=e+i;p<n;p+=i){var f=t[p],m=t[p+1];c+=Math.sqrt((f-u)*(f-u)+(m-d)*(m-d)),h.push(c),u=f,d=m}var g=o*c,_=function(t,e,n){for(var i,o,r=n||Fi,a=0,s=t.length,l=!1;a<s;)(o=+r(t[i=a+(s-a>>1)],e))<0?a=i+1:(s=i,l=!o);return l?a:~a}(h,g);if(_<0){var y=(g-h[-_-2])/(h[-_-1]-h[-_-2]),v=e+(-_-2)*i;a=ln(t[v],t[v+i],y),s=ln(t[v+1],t[v+i+1],y)}else a=t[e+_*i],s=t[e+_*i+1]}return r?(r[0]=a,r[1]=s,r):[a,s]}function Wo(t,e,n,i,o,r){if(n==e)return null;var a;if(o<t[e+i-1])return r?((a=t.slice(e,e+i))[i-1]=o,a):null;if(t[n-1]<o)return r?((a=t.slice(n-i,n))[i-1]=o,a):null;if(o==t[e+i-1])return t.slice(e,e+i);for(var s=e/i,l=n/i;s<l;){var u=s+l>>1;o<t[(u+1)*i-1]?l=u:s=u+1}var d=t[s*i-1];if(o==d)return t.slice((s-1)*i,(s-1)*i+i);var c=(o-d)/(t[(s+1)*i-1]-d);a=[];for(var h=0;h<i-1;++h)a.push(ln(t[(s-1)*i+h],t[s*i+h],c));return a.push(o),a}function Bo(t,e,n,i,o){return!On(o,function(o){return!Vo(t,e,n,i,o[0],o[1])})}function Vo(t,e,n,i,o,r){for(var a=0,s=t[n-i],l=t[n-i+1];e<n;e+=i){var u=t[e],d=t[e+1];l<=r?d>r&&(u-s)*(r-l)-(o-s)*(d-l)>0&&a++:d<=r&&(u-s)*(r-l)-(o-s)*(d-l)<0&&a--,s=u,l=d}return 0!==a}function qo(t,e,n,i,o,r){if(0===n.length)return!1;if(!Vo(t,e,n[0],i,o,r))return!1;for(var a=1,s=n.length;a<s;++a)if(Vo(t,n[a-1],n[a],i,o,r))return!1;return!0}function Uo(t,e,n,i,o){for(var r,a=[t[e],t[e+1]],s=[];e+i<n;e+=i){if(s[0]=t[e+i],s[1]=t[e+i+1],r=o(a,s))return r;a[0]=s[0],a[1]=s[1]}return!1}function Xo(t,e,n,i,o){var r=Yn([1/0,1/0,-1/0,-1/0],t,e,n,i);return!!Vn(o,r)&&(!!vn(o,r)||(r[0]>=o[0]&&r[2]<=o[2]||(r[1]>=o[1]&&r[3]<=o[3]||Uo(t,e,n,i,function(t,e){return function(t,e,n){var i=!1,o=wn(t,e),r=wn(t,n);if(o===pn.INTERSECTING||r===pn.INTERSECTING)i=!0;else{var a=t[0],s=t[1],l=t[2],u=t[3],d=e[0],c=e[1],h=n[0],p=n[1],f=(p-c)/(h-d),m=void 0,g=void 0;r&pn.ABOVE&&!(o&pn.ABOVE)&&(i=(m=h-(p-u)/f)>=a&&m<=l),i||!(r&pn.RIGHT)||o&pn.RIGHT||(i=(g=p-(h-l)*f)>=s&&g<=u),i||!(r&pn.BELOW)||o&pn.BELOW||(i=(m=h-(p-s)/f)>=a&&m<=l),i||!(r&pn.LEFT)||o&pn.LEFT||(i=(g=p-(h-a)*f)>=s&&g<=u)}return i}(o,t,e)}))))}function Ko(t,e,n,i,o){if(!function(t,e,n,i,o){return!!Xo(t,e,n,i,o)||(!!Vo(t,e,n,i,o[0],o[1])||(!!Vo(t,e,n,i,o[0],o[3])||(!!Vo(t,e,n,i,o[2],o[1])||!!Vo(t,e,n,i,o[2],o[3]))))}(t,e,n[0],i,o))return!1;if(1===n.length)return!0;for(var r=1,a=n.length;r<a;++r)if(Bo(t,n[r-1],n[r],i,o)&&!Xo(t,n[r-1],n[r],i,o))return!1;return!0}function Jo(t,e,n,i){for(var o=t[e],r=t[e+1],a=0,s=e+i;s<n;s+=i){var l=t[s],u=t[s+1];a+=Math.sqrt((l-o)*(l-o)+(u-r)*(u-r)),o=l,r=u}return a}function Zo(t,e,n,i,o,r,a){var s=(n-e)/i;if(s<3){for(;e<n;e+=i)r[a++]=t[e],r[a++]=t[e+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[e,n-i],d=0;u.length>0;){for(var c=u.pop(),h=u.pop(),p=0,f=t[h],m=t[h+1],g=t[c],_=t[c+1],y=h+i;y<c;y+=i){var v=on(t[y],t[y+1],f,m,g,_);v>p&&(d=y,p=v)}p>o&&(l[(d-e)/i]=1,h+i<d&&u.push(h,d),d+i<c&&u.push(d,c))}for(y=0;y<s;++y)l[y]&&(r[a++]=t[e+y*i],r[a++]=t[e+y*i+1]);return a}function $o(t,e,n,i,o,r,a,s){for(var l=0,u=n.length;l<u;++l){var d=n[l];a=Zo(t,e,d,i,o,r,a),s.push(a),e=d}return a}function Qo(t,e){return e*Math.round(t/e)}function tr(t,e,n,i,o,r,a){if(e==n)return a;var s,l,u=Qo(t[e],o),d=Qo(t[e+1],o);e+=i,r[a++]=u,r[a++]=d;do{if(s=Qo(t[e],o),l=Qo(t[e+1],o),(e+=i)==n)return r[a++]=s,r[a++]=l,a}while(s==u&&l==d);for(;e<n;){var c=Qo(t[e],o),h=Qo(t[e+1],o);if(e+=i,c!=s||h!=l){var p=s-u,f=l-d,m=c-u,g=h-d;p*g==f*m&&(p<0&&m<p||p==m||p>0&&m>p)&&(f<0&&g<f||f==g||f>0&&g>f)?(s=c,l=h):(r[a++]=s,r[a++]=l,u=s,d=l,s=c,l=h)}}return r[a++]=s,r[a++]=l,a}function er(t,e,n,i,o,r,a,s){for(var l=0,u=n.length;l<u;++l){var d=n[l];a=tr(t,e,d,i,o,r,a),s.push(a),e=d}return a}var nr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ir=function(t){function e(e,n){var i=t.call(this)||this;return i.flatMidpoint_=null,i.flatMidpointRevision_=-1,i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return nr(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?ji(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<_n(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ro(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Po(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return Uo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=Pi.XYM&&this.layout!=Pi.XYZM)return null;var n=void 0!==e&&e;return Wo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Ho(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Go(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Jo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Zo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Pi.XY)},e.prototype.getType=function(){return un.LINE_STRING},e.prototype.intersectsExtent=function(t){return Xo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ao(this.flatCoordinates,0,t,this.stride),this.changed()},e}(So),or=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rr=function(t){function e(e,n,i){var o=t.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(e[0]))o.setCoordinates(e,n);else if(void 0!==n&&i)o.setFlatCoordinates(n,e),o.ends_=i;else{for(var r=o.getLayout(),a=e,s=[],l=[],u=0,d=a.length;u<d;++u){var c=a[u];0===u&&(r=c.getLayout()),ji(s,c.getFlatCoordinates()),l.push(s.length)}o.setFlatCoordinates(r,s),o.ends_=l}return o}return or(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?ji(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<_n(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Oo(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Fo(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=Pi.XYM&&this.layout!=Pi.XYZM||0===this.flatCoordinates.length)return null;var i=void 0!==e&&e,o=void 0!==n&&n;return function(t,e,n,i,o,r,a){if(a)return Wo(t,e,n[n.length-1],i,o,r);var s;if(o<t[i-1])return r?((s=t.slice(0,i))[i-1]=o,s):null;if(t[t.length-1]<o)return r?((s=t.slice(t.length-i))[i-1]=o,s):null;for(var l=0,u=n.length;l<u;++l){var d=n[l];if(e!=d){if(o<t[e+i-1])return null;if(o<=t[d-1])return Wo(t,e,d,i,o,!1);e=d}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,i,o)},e.prototype.getCoordinates=function(){return No(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new ir(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],o=0,r=0,a=e.length;r<a;++r){var s=e[r],l=new ir(t.slice(o,s),n);i.push(l),o=s}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,o=this.stride,r=0,a=i.length;r<a;++r){var s=i[r];ji(t,Go(e,n,s,o,.5)),n=s}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=$o(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,Pi.XY,i)},e.prototype.getType=function(){return un.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){if(Xo(t,e,n[r],i,o))return!0;e=n[r]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=jo(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(So),ar=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sr=function(t){function e(e,n){var i=t.call(this)||this;return i.setCoordinates(e,n),i}return ar(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var o=this.flatCoordinates,r=rn(t,e,o[0],o[1]);if(r<i){for(var a=this.stride,s=0;s<a;++s)n[s]=o[s];return n.length=a,r}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return kn(this.flatCoordinates,t)},e.prototype.getType=function(){return un.POINT},e.prototype.intersectsExtent=function(t){return bn(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Io(this.flatCoordinates,0,t,this.stride),this.changed()},e}(So),lr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ur=function(t){function e(e,n){var i=t.call(this)||this;return n&&!Array.isArray(e[0])?i.setFlatCoordinates(n,e):i.setCoordinates(e,n),i}return lr(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?ji(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){if(i<_n(this.getExtent(),t,e))return i;for(var o=this.flatCoordinates,r=this.stride,a=0,s=o.length;a<s;a+=r){var l=rn(t,e,o[a],o[a+1]);if(l<i){i=l;for(var u=0;u<r;++u)n[u]=o[a+u];n.length=r}}return i},e.prototype.getCoordinates=function(){return Ho(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new sr(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],o=0,r=t.length;o<r;o+=n){var a=new sr(t.slice(o,o+n),e);i.push(a)}return i},e.prototype.getType=function(){return un.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,o=e.length;i<o;i+=n){if(bn(t,e[i],e[i+1]))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ao(this.flatCoordinates,0,t,this.stride),this.changed()},e}(So);function dr(t,e,n,i){for(var o=0,r=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];o+=a*s-r*l,r=s,a=l}return o/2}function cr(t,e,n,i){for(var o=0,r=0,a=n.length;r<a;++r){var s=n[r];o+=dr(t,e,s,i),e=s}return o}var hr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pr=function(t){function e(e,n){var i=t.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?i.setCoordinates(e,n):i.setFlatCoordinates(n,e),i}return hr(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<_n(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Ro(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Po(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return dr(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Ho(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Zo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,Pi.XY)},e.prototype.getType=function(){return un.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ao(this.flatCoordinates,0,t,this.stride),this.changed()},e}(So);function fr(t,e,n,i,o,r,a){for(var s,l,u,d,c,h,p,f=o[r+1],m=[],g=0,_=n.length;g<_;++g){var y=n[g];for(d=t[y-i],h=t[y-i+1],s=e;s<y;s+=i)c=t[s],p=t[s+1],(f<=h&&p<=f||h<=f&&f<=p)&&(u=(f-h)/(p-h)*(c-d)+d,m.push(u)),d=c,h=p}var v=NaN,b=-1/0;for(m.sort(Fi),d=m[0],s=1,l=m.length;s<l;++s){c=m[s];var w=Math.abs(c-d);w>b&&qo(t,e,n,i,u=(d+c)/2,f)&&(v=u,b=w),d=c}return isNaN(v)&&(v=o[r]),a?(a.push(v,f,b),a):[v,f,b]}function mr(t,e,n,i,o){for(var r=[],a=0,s=n.length;a<s;++a){var l=n[a];r=fr(t,e,l,i,o,2*a,r),e=l[l.length-1]}return r}function gr(t,e,n,i){for(;e<n-i;){for(var o=0;o<i;++o){var r=t[e+o];t[e+o]=t[n-i+o],t[n-i+o]=r}e+=i,n-=i}}function _r(t,e,n,i){for(var o=0,r=t[n-i],a=t[n-i+1];e<n;e+=i){var s=t[e],l=t[e+1];o+=(s-r)*(l+a),r=s,a=l}return o>0}function yr(t,e,n,i,o){for(var r=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],u=_r(t,e,l,i);if(0===a){if(r&&u||!r&&!u)return!1}else if(r&&!u||!r&&u)return!1;e=l}return!0}function vr(t,e,n,i,o){for(var r=void 0!==o&&o,a=0,s=n.length;a<s;++a){var l=n[a],u=_r(t,e,l,i);(0===a?r&&u||!r&&!u:r&&!u||!r&&u)&&gr(t,e,l,i),e=l}return e}function br(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r)e=vr(t,e,n[r],i,o);return e}var wr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mr=function(t){function e(e,n,i){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==n&&i?(o.setFlatCoordinates(n,e),o.ends_=i):o.setCoordinates(e,n),o}return wr(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?ji(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<_n(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Oo(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Fo(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return qo(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return cr(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?vr(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,No(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=An(this.getExtent());this.flatInteriorPoint_=fr(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new sr(this.getFlatInteriorPoint(),Pi.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new pr(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],o=0,r=0,a=n.length;r<a;++r){var s=n[r],l=new pr(e.slice(o,s),t);i.push(l),o=s}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;yr(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=vr(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=er(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,Pi.XY,i)},e.prototype.getType=function(){return un.POLYGON},e.prototype.intersectsExtent=function(t){return Ko(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=jo(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(So),xr=Mr;function Lr(t){var e=t[0],n=t[1],i=t[2],o=t[3],r=[e,n,e,o,i,o,i,n,e,n];return new Mr(r,Pi.XY,[r.length])}function kr(t,e,n,i){for(var o=[],r=[1/0,1/0,-1/0,-1/0],a=0,s=n.length;a<s;++a){var l=n[a];r=Tn(t,e,l[0],i),o.push((r[0]+r[2])/2,(r[1]+r[3])/2),e=l[l.length-1]}return o}var Tr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Er=function(t){function e(e,n,i){var o=t.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var r=o.getLayout(),a=e,s=[],l=[],u=0,d=a.length;u<d;++u){var c=a[u];0===u&&(r=c.getLayout());for(var h=s.length,p=c.getEnds(),f=0,m=p.length;f<m;++f)p[f]+=h;ji(s,c.getFlatCoordinates()),l.push(p)}n=r,e=s,i=l}return void 0!==n&&i?(o.setFlatCoordinates(n,e),o.endss_=i):o.setCoordinates(e,n),o}return Tr(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;ji(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,o=(e=t.getEnds().slice()).length;i<o;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,i){return i<_n(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){var s=n[r];o=Oo(t,e,s,i,o),e=s[s.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,n,i,o,r,a,s,l,u,d){for(var c=d||[NaN,NaN],h=0,p=n.length;h<p;++h){var f=n[h];u=Fo(t,e,f,i,o,r,a,s,l,u,c),e=f[f.length-1]}return u}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return function(t,e,n,i,o,r){if(0===n.length)return!1;for(var a=0,s=n.length;a<s;++a){var l=n[a];if(qo(t,e,l,i,o,r))return!0;e=l[l.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,n,i){for(var o=0,r=0,a=n.length;r<a;++r){var s=n[r];o+=cr(t,e,s,i),e=s[s.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?br(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,zo(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=kr(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=mr(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new ur(this.getFlatInteriorPoints().slice(),Pi.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){var s=n[r];if(!yr(t,e,s,i,o))return!1;s.length&&(e=s[s.length-1])}return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=br(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=function(t,e,n,i,o,r,a,s){for(var l=0,u=n.length;l<u;++l){var d=n[l],c=[];a=er(t,e,d,i,o,r,a,c),s.push(c),e=d[d.length-1]}return a}(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,Pi.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),o=i[i.length-1];if(0!==e)for(var r=0,a=i.length;r<a;++r)i[r]-=e;return new xr(this.flatCoordinates.slice(e,o),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],o=0,r=0,a=n.length;r<a;++r){var s=n[r].slice(),l=s[s.length-1];if(0!==o)for(var u=0,d=s.length;u<d;++u)s[u]-=o;var c=new xr(e.slice(o,l),t,s);i.push(c),o=l}return i},e.prototype.getType=function(){return un.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return function(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){var s=n[r];if(Ko(t,e,s,i,o))return!0;e=s[s.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=function(t,e,n,i,o){for(var r=o||[],a=0,s=0,l=n.length;s<l;++s){var u=jo(t,e,n[s],i,r[a]);r[a++]=u,e=u[u.length-1]}return r.length=a,r}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(So),Cr=[1,0,0,1,0,0],Dr=function(){function t(t,e,n,i,o){this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=i}return t.prototype.get=function(t){return this.properties_[t]},t.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===un.POINT?kn(this.flatCoordinates_):Tn(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},t.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=An(this.getExtent());this.flatInteriorPoints_=fr(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},t.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=kr(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=mr(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},t.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Go(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},t.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,e=0,n=this.ends_,i=0,o=n.length;i<o;++i){var r=n[i],a=Go(t,e,r,2,.5);ji(this.flatMidpoints_,a),e=r}}return this.flatMidpoints_},t.prototype.getId=function(){return this.id_},t.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},t.prototype.getGeometry=function(){return this},t.prototype.getSimplifiedGeometry=function(t){return this},t.prototype.getProperties=function(){return this.properties_},t.prototype.getStride=function(){return 2},t.prototype.getStyleFunction=function(){},t.prototype.getType=function(){return this.type_},t.prototype.transform=function(t,e){var n=(t=wi(t)).getExtent(),i=t.getWorldExtent(),o=Nn(i)/Nn(n);Mo(Cr,i[0],i[3],o,-o,0,0,0),ho(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Cr,this.flatCoordinates_)},t}();Dr.prototype.getEnds=Dr.prototype.getEndss=function(){return this.ends_},Dr.prototype.getFlatCoordinates=Dr.prototype.getOrientedFlatCoordinates;var Sr=Dr,Yr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Rr(t,e,n){if(3===t){var i={keys:[],values:[],features:[]},o=n.readVarint()+n.pos;n.readFields(Or,i,o),i.length=i.features.length,i.length&&(e[i.name]=i)}}function Or(t,e,n){if(15===t)e.version=n.readVarint();else if(1===t)e.name=n.readString();else if(5===t)e.extent=n.readVarint();else if(2===t)e.features.push(n.pos);else if(3===t)e.keys.push(n.readString());else if(4===t){for(var i=null,o=n.readVarint()+n.pos;n.pos<o;)i=1===(t=n.readVarint()>>3)?n.readString():2===t?n.readFloat():3===t?n.readDouble():4===t?n.readVarint64():5===t?n.readVarint():6===t?n.readSVarint():7===t?n.readBoolean():null;e.values.push(i)}}function Pr(t,e,n){if(1==t)e.id=n.readVarint();else if(2==t)for(var i=n.readVarint()+n.pos;n.pos<i;){var o=e.layer.keys[n.readVarint()],r=e.layer.values[n.readVarint()];e.properties[o]=r}else 3==t?e.type=n.readVarint():4==t&&(e.geometry=n.pos)}function Fr(t,e,n){t.pos=e.features[n];var i=t.readVarint()+t.pos,o={layer:e,type:0,properties:{}};return t.readFields(Pr,o,i),o}var Ir=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.dataProjection=new Zn({code:"",units:Jn.TILE_PIXELS}),n.featureClass_=i.featureClass?i.featureClass:Sr,n.geometryName_=i.geometryName,n.layerName_=i.layerName?i.layerName:"layer",n.layers_=i.layers?i.layers:null,n.idProperty_=i.idProperty,n}return Yr(e,t),e.prototype.readRawGeometry_=function(t,e,n,i){t.pos=e.geometry;for(var o=t.readVarint()+t.pos,r=1,a=0,s=0,l=0,u=0,d=0;t.pos<o;){if(!a){var c=t.readVarint();r=7&c,a=c>>3}a--,1===r||2===r?(s+=t.readSVarint(),l+=t.readSVarint(),1===r&&u>d&&(i.push(u),d=u),n.push(s,l),u+=2):7===r?u>d&&(n.push(n[d],n[d+1]),u+=2):Xe(!1,59)}u>d&&(i.push(u),d=u)},e.prototype.createFeature_=function(t,e,n){var i,o=e.type;if(0===o)return null;var r,a=e.properties;this.idProperty_?(r=a[this.idProperty_],delete a[this.idProperty_]):r=e.id,a[this.layerName_]=e.layer.name;var s=[],l=[];this.readRawGeometry_(t,e,s,l);var u=function(t,e){var n;1===t?n=1===e?un.POINT:un.MULTI_POINT:2===t?n=1===e?un.LINE_STRING:un.MULTI_LINE_STRING:3===t&&(n=un.POLYGON);return n}(o,l.length);if(this.featureClass_===Sr)(i=new this.featureClass_(u,s,l,a,r)).transform(n.dataProjection,n.featureProjection);else{var d=void 0;if(u==un.POLYGON){for(var c=[],h=0,p=0,f=0,m=l.length;f<m;++f){var g=l[f];_r(s,h,g,2)||(c.push(l.slice(p,f)),p=f),h=g}d=c.length>1?new Er(s,Pi.XY,c):new xr(s,Pi.XY,l)}else d=u===un.POINT?new sr(s,Pi.XY):u===un.LINE_STRING?new ir(s,Pi.XY):u===un.POLYGON?new xr(s,Pi.XY,l):u===un.MULTI_POINT?new ur(s,Pi.XY):u===un.MULTI_LINE_STRING?new rr(s,Pi.XY,l):null;i=new(0,this.featureClass_),this.geometryName_&&i.setGeometryName(this.geometryName_);var _=Ri(d,!1,n);i.setGeometry(_),i.setId(r),i.setProperties(a,!0)}return i},e.prototype.getType=function(){return Oi.ARRAY_BUFFER},e.prototype.readFeatures=function(t,e){var n=this.layers_,i=this.adaptOptions(e),o=wi(i.dataProjection);o.setWorldExtent(i.extent),i.dataProjection=o;var r=new Je.a(t),a=r.readFields(Rr,{}),s=[];for(var l in a)if(!n||-1!=n.indexOf(l)){var u=a[l],d=u?[0,0,u.extent,u.extent]:null;o.setExtent(d);for(var c=0,h=u.length;c<h;++c){var p=Fr(r,u,c);s.push(this.createFeature_(r,p,i))}}return s},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(Yi),Ar=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var jr=function(t){function e(e){var n=t.call(this)||this;if(n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,Vi(n,uo(n.geometryName_),n.handleGeometryChanged_,n),e)if("function"==typeof e.getSimplifiedGeometry){var i=e;n.setGeometry(i)}else{var o=e;n.setProperties(o)}return n}return Ar(e,t),e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Xi(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Vi(t,no.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;var e;Array.isArray(t)?e=t:(Xe("function"==typeof t.getZIndex,41),e=[t]);return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Ui(this,uo(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Vi(this,uo(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(co),Hr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Nr(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}var zr=function(t){function e(){return t.call(this)||this}return Hr(e,t),e.prototype.getType=function(){return Oi.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(Nr(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(Nr(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return ze()},e.prototype.readFeaturesFromObject=function(t,e){return ze()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(Nr(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return ze()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(Nr(t))},e.prototype.readProjectionFromObject=function(t){return ze()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return ze()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return ze()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return ze()},e}(Yi),Gr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Wr(t){for(var e=[],n=0,i=t.length;n<i;++n)e.push(t[n].clone());return e}var Br=function(t){function e(e){var n=t.call(this)||this;return n.geometries_=e||null,n.listenGeometriesChange_(),n}return Gr(e,t),e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Ui(this.geometries_[t],no.CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Vi(this.geometries_[t],no.CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,n,i){if(i<_n(this.getExtent(),t,e))return i;for(var o=this.geometries_,r=0,a=o.length;r<a;++r)i=o[r].closestPointXY(t,e,n,i);return i},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,i=0,o=n.length;i<o;++i)if(n[i].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){Ln(t);for(var e=this.geometries_,n=0,i=e.length;n<i;++n)Cn(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return Wr(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&($e(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(n))return this.simplifiedGeometryCache[n];for(var i=[],o=this.geometries_,r=!1,a=0,s=o.length;a<s;++a){var l=o[a],u=l.getSimplifiedGeometry(t);i.push(u),u!==l&&(r=!0)}if(r){var d=new e(null);return d.setGeometriesArray(i),this.simplifiedGeometryCache[n]=d,d}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return un.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,i=0,o=n.length;i<o;++i)n[i].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var i=n;i||(i=An(this.getExtent()));for(var o=this.geometries_,r=0,a=o.length;r<a;++r)o[r].scale(t,e,i);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(Wr(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,i=0,o=n.length;i<o;++i)n[i].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(Eo),Vr=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function qr(t,e){if(!t)return null;var n;switch(t.type){case un.POINT:n=function(t){return new sr(t.coordinates)}(t);break;case un.LINE_STRING:n=function(t){return new ir(t.coordinates)}(t);break;case un.POLYGON:n=function(t){return new xr(t.coordinates)}(t);break;case un.MULTI_POINT:n=function(t){return new ur(t.coordinates)}(t);break;case un.MULTI_LINE_STRING:n=function(t){return new rr(t.coordinates)}(t);break;case un.MULTI_POLYGON:n=function(t){return new Er(t.coordinates)}(t);break;case un.GEOMETRY_COLLECTION:n=function(t,e){var n=t.geometries.map(function(t){return qr(t,e)});return new Br(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Ri(n,!1,e)}function Ur(t,e){var n,i=(t=Ri(t,!0,e)).getType();switch(i){case un.POINT:n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case un.LINE_STRING:n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case un.POLYGON:n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case un.MULTI_POINT:n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case un.MULTI_LINE_STRING:n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case un.MULTI_POLYGON:n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case un.GEOMETRY_COLLECTION:n=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var n=Ze({},e);return delete n.featureProjection,Ur(t,n)})}}(t,e);break;case un.CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return n}var Xr=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this)||this).dataProjection=wi(i.dataProjection?i.dataProjection:"EPSG:4326"),i.featureProjection&&(n.defaultFeatureProjection=wi(i.featureProjection)),n.geometryName_=i.geometryName,n.extractGeometryName_=i.extractGeometryName,n}return Vr(e,t),e.prototype.readFeatureFromObject=function(t,e){var n=null,i=qr((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),o=new jr;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&o.setGeometryName(n.geometry_name),o.setGeometry(i),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties,!0),o},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var i=t.features,o=0,r=i.length;o<r;++o)n.push(this.readFeatureFromObject(i[o],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return qr(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=wi(n.properties.name):Xe(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},i=t.getId();void 0!==i&&(n.id=i);var o=t.getGeometry();o&&(n.geometry=Ur(o,e));var r=t.getProperties();return delete r[t.getGeometryName()],tn(r)||(n.properties=r),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],i=0,o=t.length;i<o;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return Ur(t,this.adaptOptions(e))},e}(zr),Kr=.5,Jr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};function Zr(t){return Math.pow(t,3)}function $r(t){return 1-Zr(1-t)}function Qr(t){return 3*t*t-2*t*t*t}function ta(t){return t}var ea=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),na=function(t){function e(e,n,i){var o=t.call(this)||this,r=i||{};return o.tileCoord=e,o.state=n,o.interimTile=null,o.hifi=!0,o.key="",o.transition_=void 0===r.transition?250:r.transition,o.transitionStarts_={},o}return ea(e,t),e.prototype.changed=function(){this.dispatchEvent(no.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Jr.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==Jr.LOADED){t.interimTile=null;break}t.getState()==Jr.LOADING?e=t:t.getState()==Jr.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){ze()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:Zr(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(eo);function ia(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function oa(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}function ra(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}function aa(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function sa(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function la(t){for(;t.lastChild;)t.removeChild(t.lastChild)}var ua=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),da=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.extent=e,r.pixelRatio_=i,r.resolution=n,r.state=o,r}return ua(e,t),e.prototype.changed=function(){this.dispatchEvent(no.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return ze()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){ze()},e}(eo),ca={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},ha="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",pa=-1!==ha.indexOf("firefox"),fa=-1!==ha.indexOf("safari")&&-1==ha.indexOf("chrom"),ma=-1!==ha.indexOf("webkit")&&-1==ha.indexOf("edge"),ga=-1!==ha.indexOf("macintosh"),_a=window.devicePixelRatio||1,ya="undefined"!=typeof Image&&Image.prototype.decode,va=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function ba(t,e,n){var i=t;if(i.src&&ya){var o=i.decode(),r=!0;return o.then(function(){r&&e()}).catch(function(t){r&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())}),function(){r=!1}}var a=[qi(i,no.LOAD,e),qi(i,no.ERROR,n)];return function(){a.forEach(Xi)}}!function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,n,i,ca.IDLE)||this;return s.src_=o,s.image_=new Image,null!==r&&(s.image_.crossOrigin=r),s.unlisten_=null,s.state=ca.IDLE,s.imageLoadFunction_=a,s}va(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=ca.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Nn(this.extent)/this.image_.height),this.state=ca.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=ca.IDLE&&this.state!=ca.ERROR||(this.state=ca.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=ba(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}(da);var wa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Ma(){var t=ia(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var xa=function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=o,s.src_=i,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.tileLoadFunction_=r,s}return wa(e,t),e.prototype.disposeInternal=function(){this.state==Jr.LOADING&&(this.unlistenImage_(),this.image_=Ma()),this.interimTile&&this.interimTile.dispose(),this.state=Jr.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=Jr.ERROR,this.unlistenImage_(),this.image_=Ma(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Jr.LOADED:this.state=Jr.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==Jr.ERROR&&(this.state=Jr.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Jr.IDLE&&(this.state=Jr.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=ba(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(na),La=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ka=function(t){function e(e){var n=t.call(this)||this;return n.highWaterMark=void 0!==e?e:2048,n.count_=0,n.entries_={},n.oldest_=null,n.newest_=null,n}return La(e,t),e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(no.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},e.prototype.get=function(t,e){var n=this.entries_[t];return Xe(void 0!==n,15),n===this.newest_?n.value_:(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n,n.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return Xe(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Xe(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e}(eo);function Ta(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function Ea(t,e,n){return t+"/"+e+"/"+n}function Ca(t){return Ea(t[0],t[1],t[2])}var Da=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sa=function(t){function e(e){return t.call(this,e)||this}return Da(e,t),e.prototype.expireCache=function(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(Ca(e.tileCoord)),e.dispose())}.bind(this))}},e}(ka);function Ya(t,e,n,i){var o=n-t,r=i-e,a=Math.sqrt(o*o+r*r);return[Math.round(n+o/a),Math.round(i+r/a)]}function Ra(t,e,n,i,o,r,a,s,l,u,d){var c=ia(Math.round(n*t),Math.round(n*e));if(0===l.length)return c.canvas;c.scale(n,n);var h=[1/0,1/0,-1/0,-1/0];l.forEach(function(t,e,n){Cn(h,t.extent)});var p=Bn(h),f=Nn(h),m=ia(Math.round(n*p/i),Math.round(n*f/i)),g=n/i;l.forEach(function(t,e,n){var i=t.extent[0]-h[0],o=-(t.extent[3]-h[3]),r=Bn(t.extent),a=Nn(t.extent);m.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,i*g,o*g,r*g,a*g)});var _=Gn(a);return s.getTriangles().forEach(function(t,e,o){var a=t.source,s=t.target,l=a[0][0],u=a[0][1],d=a[1][0],p=a[1][1],f=a[2][0],g=a[2][1],y=(s[0][0]-_[0])/r,v=-(s[0][1]-_[1])/r,b=(s[1][0]-_[0])/r,w=-(s[1][1]-_[1])/r,M=(s[2][0]-_[0])/r,x=-(s[2][1]-_[1])/r,L=l,k=u;l=0,u=0;var T=function(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,o=Math.abs(t[n][n]),r=n+1;r<e;r++){var a=Math.abs(t[r][n]);a>o&&(o=a,i=r)}if(0===o)return null;var s=t[i];t[i]=t[n],t[n]=s;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],d=n;d<e+1;d++)n==d?t[l][d]=0:t[l][d]+=u*t[n][d]}for(var c=new Array(e),h=e-1;h>=0;h--){c[h]=t[h][e]/t[h][h];for(var p=h-1;p>=0;p--)t[p][e]-=t[p][h]*c[h]}return c}([[d-=L,p-=k,0,0,b-y],[f-=L,g-=k,0,0,M-y],[0,0,d,p,w-v],[0,0,f,g,x-v]]);if(T){c.save(),c.beginPath();var E=(y+b+M)/3,C=(v+w+x)/3,D=Ya(E,C,y,v),S=Ya(E,C,b,w),Y=Ya(E,C,M,x);c.moveTo(S[0],S[1]),c.lineTo(D[0],D[1]),c.lineTo(Y[0],Y[1]),c.clip(),c.transform(T[0],T[2],T[1],T[3],y,v),c.translate(h[0]-L,h[3]-k),c.scale(i/n,-i/n),c.drawImage(m.canvas,0,0),c.restore()}}),d&&(c.save(),c.strokeStyle="black",c.lineWidth=1,s.getTriangles().forEach(function(t,e,n){var i=t.target,o=(i[0][0]-_[0])/r,a=-(i[0][1]-_[1])/r,s=(i[1][0]-_[0])/r,l=-(i[1][1]-_[1])/r,u=(i[2][0]-_[0])/r,d=-(i[2][1]-_[1])/r;c.beginPath(),c.moveTo(s,l),c.lineTo(o,a),c.lineTo(u,d),c.closePath(),c.stroke()}),c.restore()),c.canvas}var Oa=10,Pa=function(){function t(t,e,n,i,o){this.sourceProj_=t,this.targetProj_=e;var r={},a=Ci(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return r[e]||(r[e]=a(t)),r[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Bn(i)==Bn(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Bn(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Bn(this.targetProj_.getExtent()):null;var s=Gn(n),l=Wn(n),u=In(n),d=Fn(n),c=this.transformInv_(s),h=this.transformInv_(l),p=this.transformInv_(u),f=this.transformInv_(d);if(this.addQuad_(s,l,u,d,c,h,p,f,Oa),this.wrapsXInSource_){var m=1/0;this.triangles_.forEach(function(t,e,n){m=Math.min(m,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-m>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-m>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-m>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-m>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}r={}}return t.prototype.addTriangle_=function(t,e,n,i,o,r){this.triangles_.push({source:[i,o,r],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,i,o,r,a,s,l){var u=fn([o,r,a,s]),d=this.sourceWorldWidth_?Bn(u)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,h=this.sourceProj_.canWrapX()&&d>.5&&d<1,p=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_)p=Bn(fn([t,e,n,i]))/this.targetWorldWidth_>.25||p;!h&&this.sourceProj_.isGlobal()&&d&&(p=d>.25||p)}if(p||!this.maxSourceExtent_||Vn(u,this.maxSourceExtent_)){if(!(p||isFinite(o[0])&&isFinite(o[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1]))){if(!(l>0))return;p=!0}if(l>0){if(!p){var f=[(t[0]+n[0])/2,(t[1]+n[1])/2],m=this.transformInv_(f),g=void 0;if(h)g=(sn(o[0],c)+sn(a[0],c))/2-sn(m[0],c);else g=(o[0]+a[0])/2-m[0];var _=(o[1]+a[1])/2-m[1];p=g*g+_*_>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var y=[(e[0]+n[0])/2,(e[1]+n[1])/2],v=this.transformInv_(y),b=[(i[0]+t[0])/2,(i[1]+t[1])/2],w=this.transformInv_(b);this.addQuad_(t,e,y,b,o,r,v,w,l-1),this.addQuad_(b,y,n,i,w,v,a,s,l-1)}else{var M=[(t[0]+e[0])/2,(t[1]+e[1])/2],x=this.transformInv_(M),L=[(n[0]+i[0])/2,(n[1]+i[1])/2],k=this.transformInv_(L);this.addQuad_(t,M,L,i,o,x,k,s,l-1),this.addQuad_(M,e,n,L,x,r,a,k,l-1)}return}}if(h){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,i,o,a,s),this.addTriangle_(t,e,n,o,r,a)}},t.prototype.calculateSourceExtent=function(){var t=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach(function(e,n,i){var o=e.source;Dn(t,o[0]),Dn(t,o[1]),Dn(t,o[2])}),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),Fa=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ia=function(t){function e(e,n,i,o,r,a,s,l,u,d,c){var h=t.call(this,r,Jr.IDLE)||this;h.renderEdges_=void 0!==c&&c,h.pixelRatio_=s,h.gutter_=l,h.canvas_=null,h.sourceTileGrid_=n,h.targetTileGrid_=o,h.wrappedTileCoord_=a||r,h.sourceTiles_=[],h.sourcesListenerKeys_=null,h.sourceZ_=0;var p=o.getTileCoordExtent(h.wrappedTileCoord_),f=h.targetTileGrid_.getExtent(),m=h.sourceTileGrid_.getExtent(),g=f?zn(p,f):p;if(0===Pn(g))return h.state=Jr.EMPTY,h;var _=e.getExtent();_&&(m=m?zn(m,_):_);var y=o.getResolution(h.wrappedTileCoord_[0]),v=function(t,e,n,i){var o=Di(n,e,t),r=Mi(e,i,n),a=e.getMetersPerUnit();void 0!==a&&(r*=a);var s=t.getMetersPerUnit();void 0!==s&&(r/=s);var l=t.getExtent();if(!l||yn(l,o)){var u=Mi(t,r,o)/r;isFinite(u)&&u>0&&(r/=u)}return r}(e,i,An(g),y);if(!isFinite(v)||v<=0)return h.state=Jr.EMPTY,h;var b=void 0!==d?d:Kr;if(h.triangulation_=new Pa(e,i,g,m,v*b),0===h.triangulation_.getTriangles().length)return h.state=Jr.EMPTY,h;h.sourceZ_=n.getZForResolution(v);var w=h.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(w[1]=en(w[1],m[1],m[3]),w[3]=en(w[3],m[1],m[3])):w=zn(w,m)),Pn(w)){for(var M=n.getTileRangeForExtentAndZ(w,h.sourceZ_),x=M.minX;x<=M.maxX;x++)for(var L=M.minY;L<=M.maxY;L++){var k=u(h.sourceZ_,x,L,s);k&&h.sourceTiles_.push(k)}0===h.sourceTiles_.length&&(h.state=Jr.EMPTY)}else h.state=Jr.EMPTY;return h}return Fa(e,t),e.prototype.disposeInternal=function(){this.state==Jr.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&e.getState()==Jr.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=Jr.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],o="number"==typeof n?n:n[1],r=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Ra(i,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),r,s,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=Jr.LOADED}this.changed()},e.prototype.load=function(){if(this.state==Jr.IDLE){this.state=Jr.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var o=e.getState();if(o==Jr.IDLE||o==Jr.LOADING){t++;var r=Vi(e,no.CHANGE,function(n){var i=e.getState();i!=Jr.LOADED&&i!=Jr.ERROR&&i!=Jr.EMPTY||(Xi(r),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(r)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==Jr.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(Xi),this.sourcesListenerKeys_=null},e}(na);function Aa(t,e){var n=/\{z\}/g,i=/\{x\}/g,o=/\{y\}/g,r=/\{-y\}/g;return function(a,s,l){return a?t.replace(n,a[0].toString()).replace(i,a[1].toString()).replace(o,a[2].toString()).replace(r,function(){var t=a[0],n=e.getFullTileRange(t);return Xe(n,55),(n.getHeight()-a[2]-1).toString()}):void 0}}function ja(t,e){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=Aa(t[o],e);return function(t){if(1===t.length)return t[0];return function(e,n,i){if(e){var o=sn(function(t){return(t[1]<<t[0])+t[2]}(e),t.length);return t[o](e,n,i)}}}(i)}function Ha(t,e,n){}function Na(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}var za={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Ga=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Wa(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var Ba=function(t){function e(e){var n=t.call(this)||this;return n.projection_=wi(e.projection),n.attributions_=Wa(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:za.READY,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return Ga(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return ze()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=Wa(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(co),Va=42,qa=256,Ua=function(){function t(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function Xa(t,e,n,i,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=i,o):new Ua(t,e,n,i)}var Ka=Ua,Ja=[0,0,0],Za=function(){function t(t){var e,n,i,o;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Xe((e=this.resolutions_,n=!0,i=function(t,e){return e-t}||Fi,e.every(function(t,o){if(0===o)return!0;var r=i(e[o-1],t);return!(r>0||n&&0===r)})),17),!t.origins)for(var r=0,a=this.resolutions_.length-1;r<a;++r)if(o){if(this.resolutions_[r]/this.resolutions_[r+1]!==o){o=void 0;break}}else o=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=o,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Xe(this.origins_.length==this.resolutions_.length,20));var s=t.extent;void 0===s||this.origin_||this.origins_||(this.origin_=Gn(s)),Xe(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Xe(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:qa,Xe(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==s?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new Ka(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):s&&this.calculateTileRanges_(s)}return t.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),o=i.minX,r=i.maxX;o<=r;++o)for(var a=i.minY,s=i.maxY;a<=s;++a)n([e,o,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,i){var o,r,a=null,s=t[0]-1;for(2===this.zoomFactor_?(o=t[1],r=t[2]):a=this.getTileCoordExtent(t,i);s>=this.minZoom;){if(e(s,2===this.zoomFactor_?Xa(o=Math.floor(o/2),o,r=Math.floor(r/2),r,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],o=2*t[2];return Xa(i,i+1,o,o+1,e)}var r=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(r,t[0]+1,e)}return null},t.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),o=this.getResolution(t),r=Na(this.getTileSize(t),this.tmpSize_),a=i[0]+e.minX*r[0]*o,s=i[0]+(e.maxX+1)*r[0]*o;return xn(a,i[1]+e.minY*r[1]*o,s,i[1]+(e.maxY+1)*r[1]*o,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=Ja;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,i);var o=i[1],r=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,i),Xa(o,i[1],r,i[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=Na(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]-(t[2]+.5)*i[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=Na(this.getTileSize(t[0]),this.tmpSize_),r=n[0]+t[1]*o[0]*i,a=n[1]-(t[2]+1)*o[1]*i;return xn(r,a,r+o[0]*i,a+o[1]*i,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,o){var r=this.getZForResolution(n),a=n/this.getResolution(r),s=this.getOrigin(r),l=Na(this.getTileSize(r),this.tmpSize_),u=i?.5:0,d=i?.5:0,c=Math.floor((t-s[0])/n+u),h=Math.floor((s[1]-e)/n+d),p=a*c/l[0],f=a*h/l[1];return i?(p=Math.ceil(p)-1,f=Math.ceil(f)-1):(p=Math.floor(p),f=Math.floor(f)),Ta(r,p,f,o)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,o){var r=this.getOrigin(n),a=this.getResolution(n),s=Na(this.getTileSize(n),this.tmpSize_),l=i?.5:0,u=i?.5:0,d=Math.floor((t-r[0])/a+l),c=Math.floor((r[1]-e)/a+u),h=d/s[0],p=c/s[1];return i?(h=Math.ceil(h)-1,p=Math.ceil(p)-1):(h=Math.floor(h),p=Math.floor(p)),Ta(n,h,p,o)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},t.prototype.getZForResolution=function(t,e){return en(Ii(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n},t}();function $a(t){var e=t.getDefaultTileGrid();return e||(e=es(t),t.setDefaultTileGrid(e)),e}function Qa(t){var e=t||{},n=e.extent||wi("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:ts(n,e.maxZoom,e.tileSize)};return new Za(i)}function ts(t,e,n){for(var i=void 0!==e?e:Va,o=Nn(t),r=Bn(t),a=Na(void 0!==n?n:qa),s=Math.max(r/a[0],o/a[1]),l=i+1,u=new Array(l),d=0;d<l;++d)u[d]=s/Math.pow(2,d);return u}function es(t,e,n,i){return function(t,e,n,i){var o=void 0!==i?i:hn.TOP_LEFT,r=ts(t,e,n);return new Za({extent:t,origin:jn(t,o),resolutions:r,tileSize:n})}(ns(t),e,n,i)}function ns(t){var e=(t=wi(t)).getExtent();if(!e){var n=180*Kn[Jn.DEGREES]/t.getMetersPerUnit();e=xn(-n,-n,n,n)}return e}var is=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),os=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var i=e.cacheSize;if(void 0===i){var o=[256,256],r=e.tileGrid;r&&Na(r.getTileSize(r.getMinZoom()),o);var a="undefined"!=typeof screen,s=a?screen.availWidth||screen.width:1920,l=a?screen.availHeight||screen.height:1080;i=4*Math.ceil(s/o[0])*Math.ceil(l/o[1])}return n.tileCache=new Sa(i),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return is(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var r,a,s,l=!0,u=n.minX;u<=n.maxX;++u)for(var d=n.minY;d<=n.maxY;++d)a=Ea(e,u,d),s=!1,o.containsKey(a)&&(s=(r=o.get(a)).getState()===Jr.LOADED)&&(s=!1!==i(r)),s||(l=!1);return l},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return ze()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:$a(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Ti(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i,o,r,a=this.getTileGridForProjection(n),s=this.getTilePixelRatio(e),l=Na(a.getTileSize(t),this.tmpSize);return 1==s?l:(i=l,o=s,void 0===(r=this.tmpSize)&&(r=[0,0]),r[0]=i[0]*o+.5|0,r[1]=i[1]*o+.5|0,r)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var i=e[0],o=t.getTileCoordCenter(e),r=ns(n);if(yn(r,o))return e;var a=Bn(r),s=Math.ceil((r[0]-o[0])/a);return o[0]+=a*s,t.getTileCoordForCoordAndZ(o,i)}(i,t,n)),function(t,e){var n=t[0],i=t[1],o=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var r,a=e.getExtent();return!(r=a?e.getTileRangeForExtentAndZ(a,n):e.getFullTileRange(n))||r.containsXY(i,o)}(t,i)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.useTile=function(t,e,n,i){},e}(Ba),rs=function(t){function e(e,n){var i=t.call(this,e)||this;return i.tile=n,i}return is(e,t),e}(Qi),as=os,ss="tileloadstart",ls="tileloadend",us="tileloaderror",ds=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cs=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.generateTileUrlFunction_=!e.tileUrlFunction,n.tileLoadFunction=e.tileLoadFunction,n.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(n):Ha,n.urls=null,e.urls?n.setUrls(e.urls):e.url&&n.setUrl(e.url),n.tileLoadingKeys_={},n}return ds(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=We(n),o=n.getState();o==Jr.LOADING?(this.tileLoadingKeys_[i]=!0,e=ss):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=o==Jr.ERROR?us:o==Jr.LOADED||o==Jr.ABORT?ls:void 0),null!=e&&this.dispatchEvent(new rs(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i=n[1].charCodeAt(0),o=n[2].charCodeAt(0),r=void 0;for(r=i;r<=o;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(ja(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var i=Ea(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(as),hs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function ps(t,e){t.getImage().src=e}var fs=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ps,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:xa,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.renderReprojectionEdges_=!1,n}return hs(e,t),e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);for(var i in this.tileCache.expireCache(this.tileCache==n?e:{}),this.tileCacheForProjection){var o=this.tileCacheForProjection[i];o.expireCache(o==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Ti(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Ti(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Ti(e,t)){var n=We(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=$a(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Ti(e,t))return this.tileCache;var n=We(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new Sa(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,o,r){var a=[t,e,n],s=this.getTileCoordForTileUrlFunction(a,o),l=s?this.tileUrlFunction(s,i,o):void 0,u=new this.tileClass(a,void 0!==l?Jr.IDLE:Jr.EMPTY,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=r,Vi(u,no.CHANGE,this.handleTileChange,this),u},e.prototype.getTile=function(t,e,n,i,o){var r=this.getProjection();if(r&&o&&!Ti(r,o)){var a=this.getTileCacheForProjection(o),s=[t,e,n],l=void 0,u=Ca(s);a.containsKey(u)&&(l=a.get(u));var d=this.getKey();if(l&&l.key==d)return l;var c=this.getTileGridForProjection(r),h=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(s,o),f=new Ia(r,c,o,h,s,p,this.getTilePixelRatio(i),this.getGutter(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,r)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return f.key=d,l?(f.interimTile=l,f.refreshInterimChain(),a.replace(u,f)):a.set(u,f),f}return this.getTileInternal(t,e,n,i,r||o)},e.prototype.getTileInternal=function(t,e,n,i,o){var r=null,a=Ea(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if((r=this.tileCache.get(a)).key!=s){var l=r;r=this.createTile_(t,e,n,i,o,s),l.getState()==Jr.IDLE?r.interimTile=l.interimTile:r.interimTile=l,r.refreshInterimChain(),this.tileCache.replace(a,r)}}else r=this.createTile_(t,e,n,i,o,s),this.tileCache.set(a,r);return r},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=wi(t);if(n){var i=We(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}},e}(cs),ms=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),gs=function(t){function e(e){var n=e||{},i=void 0!==n.projection?n.projection:"EPSG:3857",o=void 0!==n.tileGrid?n.tileGrid:Qa({extent:ns(i),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});return t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this}return ms(e,t),e}(fs),_s=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ys='&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',vs=function(t){function e(e){var n,i=e||{};n=void 0!==i.attributions?i.attributions:[ys];var o=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",r=void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return t.call(this,{attributions:n,cacheSize:i.cacheSize,crossOrigin:o,opaque:void 0===i.opaque||i.opaque,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,url:r,wrapX:i.wrapX,attributionsCollapsible:!1})||this}return _s(e,t),e}(gs),bs=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ws=function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,n,{transition:0})||this;return s.context_={},s.executorGroups={},s.loadingSourceTiles=0,s.errorSourceTileKeys={},s.replayState_={},s.wantedResolution,s.getSourceTiles_=r,s.removeSourceTiles_=a,s.sourceTileGrid_=o,s.sourceZ=-1,s.hifi=!1,s.wrappedTileCoord=i,s}return bs(e,t),e.prototype.disposeInternal=function(){for(var e in this.removeSourceTiles_(this),this.context_){var n=this.context_[e].canvas;n.width=n.height=0}for(var e in this.executorGroups)for(var i=this.executorGroups[e],o=0,r=i.length;o<r;++o)i[o].disposeInternal();this.setState(Jr.ABORT),t.prototype.disposeInternal.call(this)},e.prototype.getContext=function(t){var e=We(t);return e in this.context_||(this.context_[e]=ia()),this.context_[e]},e.prototype.hasContext=function(t){return We(t)in this.context_},e.prototype.getImage=function(t){return this.hasContext(t)?this.getContext(t).canvas:null},e.prototype.getReplayState=function(t){var e=We(t);return e in this.replayState_||(this.replayState_[e]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedZ:-1,renderedTileZ:-1}),this.replayState_[e]},e.prototype.load=function(){this.getSourceTiles_(this)},e}(na),Ms=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),xs=function(t){function e(e,n,i,o,r,a){var s=t.call(this,e,n,a)||this;return s.consumers=0,s.extent=null,s.format_=o,s.features_=null,s.loader_,s.projection=null,s.resolution,s.tileLoadFunction_=r,s.url_=i,s}return Ms(e,t),e.prototype.disposeInternal=function(){this.setState(Jr.ABORT),t.prototype.disposeInternal.call(this)},e.prototype.getFormat=function(){return this.format_},e.prototype.getFeatures=function(){return this.features_},e.prototype.getKey=function(){return this.url_},e.prototype.load=function(){this.state==Jr.IDLE&&(this.setState(Jr.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(this.extent,this.resolution,this.projection))},e.prototype.onLoad=function(t,e){this.setFeatures(t)},e.prototype.onError=function(){this.setState(Jr.ERROR)},e.prototype.setFeatures=function(t){this.features_=t,this.setState(Jr.LOADED)},e.prototype.setLoader=function(t){this.loader_=t},e}(na);function Ls(t,e,n,i){return function(o,r,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(o,r,a):t,!0),e.getType()==Oi.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var r=e.getType(),l=void 0;r==Oi.JSON||r==Oi.TEXT?l=s.responseText:r==Oi.XML?(l=s.responseXML)||(l=(new DOMParser).parseFromString(s.responseText,"application/xml")):r==Oi.ARRAY_BUFFER&&(l=s.response),l?n.call(this,e.readFeatures(l,{extent:o,featureProjection:a}),e.readProjection(l)):i.call(this)}else i.call(this)}.bind(this),s.onerror=function(){i.call(this)}.bind(this),s.send()}}function ks(t,e){return Ls(t,e,function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)},$i)}var Ts=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Es=function(t){function e(e){var n=this,i=e.projection||"EPSG:3857",o=e.extent||ns(i),r=e.tileGrid||Qa({extent:o,maxZoom:e.maxZoom||22,minZoom:e.minZoom,tileSize:e.tileSize||512});return(n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,opaque:!1,projection:i,state:e.state,tileGrid:r,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Cs,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:void 0===e.zDirection?1:e.zDirection})||this).format_=e.format?e.format:null,n.loadingTiles_={},n.sourceTileByCoordKey_={},n.sourceTilesByTileKey_={},n.overlaps_=null==e.overlaps||e.overlaps,n.tileClass=e.tileClass?e.tileClass:xs,n.tileGrids_={},n}return Ts(e,t),e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.clear=function(){this.tileCache.clear(),this.sourceTileByCoordKey_={},this.sourceTilesByTileKey_={}},e.prototype.getSourceTiles=function(t,e,n){var i=n.wrappedTileCoord,o=this.getTileGridForProjection(e),r=o.getTileCoordExtent(i),a=i[0],s=o.getResolution(a);mn(r,-1/s,r);var l=this.tileGrid,u=l.getExtent();u&&zn(r,u,r);var d,c,h,p,f=l.getZForResolution(s,1),m=l.getMinZoom(),g=this.sourceTilesByTileKey_[n.getKey()];if(g&&g.length>0&&g[0].tileCoord[0]===f)d=g,c=!0,h=!1,p=f;else{d=[],p=f+1;do{--p,c=!0,h=!0,l.forEachTileCoord(r,p,function(i){var o,r=Ca(i);if(r in this.sourceTileByCoordKey_){var a=(o=this.sourceTileByCoordKey_[r]).getState();if(a===Jr.LOADED||a===Jr.ERROR||a===Jr.EMPTY)return h=h&&a===Jr.EMPTY,void d.push(o)}else if(p===f){var s=this.tileUrlFunction(i,t,e);void 0!==s&&((o=new this.tileClass(i,Jr.IDLE,s,this.format_,this.tileLoadFunction)).extent=l.getTileCoordExtent(i),o.projection=e,o.resolution=l.getResolution(i[0]),this.sourceTileByCoordKey_[r]=o,h=!1,Vi(o,no.CHANGE,this.handleTileChange,this),o.load())}else h=!1;if(c=!1,o&&o.getState()!==Jr.EMPTY&&n.getState()===Jr.IDLE){n.loadingSourceTiles++;var u=Vi(o,no.CHANGE,function(){var t=o.getState(),e=o.getKey();t!==Jr.LOADED&&t!==Jr.ERROR||(t===Jr.LOADED?(Xi(u),n.loadingSourceTiles--,delete n.errorSourceTileKeys[e]):t===Jr.ERROR&&(n.errorSourceTileKeys[e]=!0),n.loadingSourceTiles-Object.keys(n.errorSourceTileKeys).length==0&&(n.hifi=!0,n.sourceZ=f,n.setState(tn(n.errorSourceTileKeys)?Jr.LOADED:Jr.ERROR)))})}}.bind(this)),c||(d.length=0)}while(!c&&p>m)}return h||n.getState()!==Jr.IDLE||n.setState(Jr.LOADING),(c||h)&&(n.hifi=f===p,n.sourceZ=p,n.getState()<Jr.LOADED?n.setState(h?Jr.EMPTY:Jr.LOADED):g&&Hi(d,g)||(this.removeSourceTiles(n),this.addSourceTiles(n,d))),d},e.prototype.addSourceTiles=function(t,e){this.sourceTilesByTileKey_[t.getKey()]=e;for(var n=0,i=e.length;n<i;++n)e[n].consumers++},e.prototype.removeSourceTiles=function(t){var e=t.getKey();if(e in this.sourceTilesByTileKey_)for(var n=this.sourceTilesByTileKey_[e],i=0,o=n.length;i<o;++i){var r=n[i];r.consumers--,0===r.consumers&&(r.dispose(),delete this.sourceTileByCoordKey_[Ca(r.tileCoord)])}delete this.sourceTilesByTileKey_[e]},e.prototype.getTile=function(t,e,n,i,o){var r,a=Ea(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)&&(r=this.tileCache.get(a)).key===s)return r;var l=[t,e,n],u=this.getTileCoordForTileUrlFunction(l,o),d=this.getTileGrid().getExtent();if(u&&d){var c=this.getTileGridForProjection(o),h=c.getTileCoordExtent(u);mn(h,-1/c.getResolution(t),h),Vn(d,h)||(u=null)}var p=new ws(l,null!==u?Jr.IDLE:Jr.EMPTY,u,this.tileGrid,this.getSourceTiles.bind(this,i,o),this.removeSourceTiles.bind(this));return p.key=s,r?(p.interimTile=r,p.refreshInterimChain(),this.tileCache.replace(a,p)):this.tileCache.set(a,p),p},e.prototype.getTileGridForProjection=function(t){var e=t.getCode(),n=this.tileGrids_[e];if(!n){var i=this.tileGrid;n=this.tileGrids_[e]=es(t,void 0,i?i.getTileSize(i.getMinZoom()):void 0)}return n},e.prototype.getTilePixelRatio=function(t){return t},e.prototype.getTilePixelSize=function(t,e,n){var i=Na(this.getTileGridForProjection(n).getTileSize(t),this.tmpSize);return[Math.round(i[0]*e),Math.round(i[1]*e)]},e}(cs);function Cs(t,e){var n=Ls(e,t.getFormat(),t.onLoad.bind(t),t.onError.bind(t));t.setLoader(n)}var Ds={ADD:"add",REMOVE:"remove"},Ss=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ys="length",Rs=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.element=n,o.index=i,o}return Ss(e,t),e}(Qi),Os=function(t){function e(e,n){var i=t.call(this)||this,o=n||{};if(i.unique_=!!o.unique,i.array_=e||[],i.unique_)for(var r=0,a=i.array_.length;r<a;++r)i.assertUnique_(i.array_[r],r);return i.updateLength_(),i}return Ss(e,t),e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(Ys)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Rs(Ds.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Rs(Ds.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Rs(Ds.REMOVE,i,t)),this.dispatchEvent(new Rs(Ds.ADD,e,t))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(Ys,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new Ue(58)},e}(co);function Ps(t,e){return[[-1/0,-1/0,1/0,1/0]]}function Fs(t,e){return[t]}var Is="addfeature",As="changefeature",js="clear",Hs="removefeature",Ns=n(14),zs=n.n(Ns),Gs=function(){function t(t){this.rbush_=new zs.a(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[We(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,o=e.length;i<o;i++){var r=t[i],a=e[i],s={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:a};n[i]=s,this.items_[We(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=We(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[We(e)];En([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,i=0,o=t.length;i<o;i++)if(n=e(t[i]))return n;return n},t.prototype.isEmpty=function(){return tn(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return xn(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),Ws=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bs=function(t){function e(e,n){var i=t.call(this,e)||this;return i.feature=n,i}return Ws(e,t),e}(Qi),Vs=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{attributions:i.attributions,projection:void 0,state:za.READY,wrapX:void 0===i.wrapX||i.wrapX})||this).loader_=$i,n.format_=i.format,n.overlaps_=null==i.overlaps||i.overlaps,n.url_=i.url,void 0!==i.loader?n.loader_=i.loader:void 0!==n.url_&&(Xe(n.format_,7),n.loader_=ks(n.url_,n.format_)),n.strategy_=void 0!==i.strategy?i.strategy:Ps;var o,r,a=void 0===i.useSpatialIndex||i.useSpatialIndex;return n.featuresRtree_=a?new Gs:null,n.loadedExtentsRtree_=new Gs,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(i.features)?r=i.features:i.features&&(r=(o=i.features).getArray()),a||void 0!==o||(o=new Os(r)),void 0!==r&&n.addFeaturesInternal(r),void 0!==o&&n.bindFeaturesCollection_(o),n}return Ws(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=We(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Bs(Is,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Vi(e,no.CHANGE,this.handleFeatureChange_,this),Vi(e,Ni,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i&&(i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e),n&&(Xe(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],o=0,r=t.length;o<r;o++){var a=We(l=t[o]);this.addToIndex_(a,l)&&n.push(l)}o=0;for(var s=n.length;o<s;o++){var l;a=We(l=n[o]);this.setupChangeEvents_(a,l);var u=l.getGeometry();if(u){var d=u.getExtent();e.push(d),i.push(l)}else this.nullGeometryFeatures_[a]=l}this.featuresRtree_&&this.featuresRtree_.load(e,i);o=0;for(var c=n.length;o<c;o++)this.dispatchEvent(new Bs(Is,n[o]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;Vi(this,Is,function(n){e||(e=!0,t.push(n.feature),e=!1)}),Vi(this,Hs,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),Vi(t,Ds.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),Vi(t,Ds.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(Xi)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var i=new Bs(js);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),tn(this.nullGeometryFeatures_)||ji(t,Qe(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],o=null,r=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],l=e||Ji;return this.featuresRtree_.forEachInExtent(s,function(t){if(l(t)){var e=t.getGeometry(),u=a;if((a=e.closestPointXY(n,i,r,a))<u){o=t;var d=Math.sqrt(a);s[0]=n-d,s[1]=i-d,s[2]=n+d,s[3]=i+d}}}),o},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=We(e),i=e.getGeometry();if(i){var o=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var r=e.getId();if(void 0!==r){var a=r.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new Bs(As,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:We(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&tn(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var r=function(t,r){var s=o[t];i.forEachInExtent(s,function(t){return vn(t.extent,s)})||(a.loader_.call(a,s,e,n),i.insert(s,{extent:s.slice()}),a.loading=a.loader_!==$i)},a=this,s=0,l=o.length;s<l;++s)r(s)},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(En(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=We(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=We(t);this.featureChangeKeys_[e].forEach(Xi),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new Bs(Hs,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){Xe(this.format_,7),this.setLoader(ks(t,this.format_))},e}(Ba),qs={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"},Us=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xs=function(t){function e(e){var n=t.call(this)||this,i=Ze({},e);return i[qs.OPACITY]=void 0!==e.opacity?e.opacity:1,Xe("number"==typeof i[qs.OPACITY],64),i[qs.VISIBLE]=void 0===e.visible||e.visible,i[qs.Z_INDEX]=e.zIndex,i[qs.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,i[qs.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,i[qs.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,i[qs.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==i.className?e.className:"ol-layer",delete i.className,n.setProperties(i),n.state_=null,n}return Us(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t,hasOverlay:!1};return e.opacity=en(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=this.getZIndex()||(!1===e.managed?1/0:0),e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return ze()},e.prototype.getLayerStatesArray=function(t){return ze()},e.prototype.getExtent=function(){return this.get(qs.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(qs.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(qs.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(qs.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(qs.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(qs.OPACITY)},e.prototype.getSourceState=function(){return ze()},e.prototype.getVisible=function(){return this.get(qs.VISIBLE)},e.prototype.getZIndex=function(){return this.get(qs.Z_INDEX)},e.prototype.setExtent=function(t){this.set(qs.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(qs.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(qs.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(qs.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(qs.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){Xe("number"==typeof t,64),this.set(qs.OPACITY,t)},e.prototype.setVisible=function(t){this.set(qs.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(qs.Z_INDEX,t)},e}(co),Ks="prerender",Js="postrender",Zs="precompose",$s="postcompose",Qs="rendercomplete",tl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function el(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}var nl,il,ol,rl=function(t){function e(e){var n=this,i=Ze({},e);delete i.source,(n=t.call(this,i)||this).mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),Vi(n,uo(qs.SOURCE),n.handleSourcePropertyChange_,n);var o=e.source?e.source:null;return n.setSource(o),n}return tl(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(qs.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():za.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Xi(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Vi(t,no.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Xi(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Xi(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Vi(t,Zs,function(t){t.frameState.layerStatesArray.push(this.getLayerState(!1))},this),this.mapRenderKey_=Vi(this,no.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(qs.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e}(Xs),al="preload",sl="useInterimTilesOnError",ll=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ul=function(t){function e(e){var n=this,i=e||{},o=Ze({},i);return delete o.preload,delete o.useInterimTilesOnError,(n=t.call(this,o)||this).setPreload(void 0!==i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return ll(e,t),e.prototype.getPreload=function(){return this.get(al)},e.prototype.setPreload=function(t){this.set(al,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(sl)},e.prototype.setUseInterimTilesOnError=function(t){this.set(sl,t)},e}(rl),dl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cl=function(t){function e(e,n,i,o){var r=t.call(this,e)||this;return r.inversePixelTransform=n,r.frameState=i,r.context=o,r}return dl(e,t),e}(Qi),hl="ol-hidden",pl="ol-selectable",fl="ol-unselectable",ml="ol-control",gl="ol-collapsed",_l=(il={},function(t){if(nl||(nl=document.createElement("div").style),!(t in il)){nl.font=t;var e=nl.fontFamily,n=nl.fontWeight,i=nl.fontStyle;if(nl.font="",!e)return null;var o=e.split(/,\s?/);il[t]={families:o,weight:n,style:i}}return il[t]}),yl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),vl=function(t){function e(e){var n=t.call(this,e)||this;return n.consumers={},n}return yl(e,t),e.prototype.clear=function(){this.consumers={},t.prototype.clear.call(this)},e.prototype.get=function(e,n){var i=t.prototype.get.call(this,e),o=We(n);return o in this.consumers||(this.consumers[o]={}),this.consumers[o][e]=!0,i},e.prototype.prune=function(){t:for(;this.canExpireCache();){var t=this.peekLastKey();for(var e in this.consumers)if(t in this.consumers[e])break t;var n=this.pop();for(var e in n.width=n.height=0,this.consumers)delete this.consumers[e][t]}},e.prototype.release=function(t){delete this.consumers[We(t)]},e}(ka),bl=[],wl=[0,0,0,0],Ml=new vl,xl={},Ll=null,kl={},Tl=function(){var t,e,n=100,i=xl,o="32px ",r=["monospace","serif"],a=r.length,s="wmytzilWMYTZIL@#/&?$%10";function l(t,n,i){for(var l=El(),u=!0,d=0;d<a;++d){var c=r[d];if(l.font=t+" "+n+" "+o+c,e=l.measureText(s).width,i!=c){l.font=t+" "+n+" "+o+i+","+c;var h=l.measureText(s).width;u=u&&h!=e}}return!!u}function u(){var e=!0;for(var o in i)i[o]<n&&(l.apply(this,o.split("\n"))?(i[o]=n,$e(kl),Ll=null,ol=void 0,Ml.getCount()&&Ml.clear()):(++i[o],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=_l(e);if(o)for(var r=o.families,a=0,s=r.length;a<s;++a){var d=r[a],c=o.style+"\n"+o.weight+"\n"+d;c in i||(i[c]=n,l(o.style,o.weight,d)||(i[c]=0,void 0===t&&(t=setInterval(u,32))))}}}();function El(){return Ll||(Ll=ia(1,1)),Ll}var Cl,Dl,Sl=(Dl=kl,function(t){var e=Dl[t];return null==e&&(Cl||((Cl=document.createElement("div")).innerHTML="M",Cl.style.margin=Cl.style.padding="0 !important",Cl.style.position="absolute !important",Cl.style.left="-99999px !important"),Cl.style.font=t,document.body.appendChild(Cl),e=Dl[t]=Cl.offsetHeight,document.body.removeChild(Cl)),e});function Yl(t,e){var n=El();return t!=ol&&(n.font=ol=t),n.measureText(e).width}function Rl(t,e,n){return e in n?n[e]:n[e]=Yl(t,e)}function Ol(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}var Pl=[1,0,0,1,0,0];function Fl(t,e,n,i,o,r,a,s,l,u,d){var c;1!=n&&(c=t.globalAlpha,t.globalAlpha=c*n),e&&t.setTransform.apply(t,e),t.drawImage(i,o,r,a,s,l,u,a*d,s*d),1!=n&&(t.globalAlpha=c),e&&t.setTransform.apply(t,Pl)}var Il=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Al=function(t){function e(e){var n=t.call(this)||this;return n.layer_=e,n}return Il(e,t),e.prototype.prepareFrame=function(t){return ze()},e.prototype.renderFrame=function(t,e){return ze()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,o){var r=this.loadedTileCallback.bind(this,n,i);return t.forEachLoadedTile(e,i,o,r)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){},e.prototype.getDataAtPixel=function(t,e,n){return ze()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){t.target.getState()===ca.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=ca.LOADED&&e!=ca.ERROR&&Vi(t,no.CHANGE,this.handleImageChange_,this),e==ca.IDLE&&(t.load(),e=t.getState()),e==ca.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==za.READY&&t.changed()},e}(oo),jl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hl=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform_=[1,0,0,1,0,0],n.pixelTransform=[1,0,0,1,0,0],n.inversePixelTransform=[1,0,0,1,0,0],n.context=null,n.containerReused=!1,n}return jl(e,t),e.prototype.useContainer=function(t,e,n){var i,o,r=this.getLayer().getClassName();t&&""===t.style.opacity&&t.className===r&&((s=t.firstElementChild)instanceof HTMLCanvasElement&&(o=s.getContext("2d")));if(o&&o.canvas.style.transform===Lo(e)?(this.container=t,this.context=o,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){(i=document.createElement("div")).className=r;var a=i.style;a.position="absolute",a.width="100%",a.height="100%";var s=(o=ia()).canvas;i.appendChild(s),(a=s.style).position="absolute",a.transformOrigin="top left",this.container=i,this.context=o}},e.prototype.clip=function(t,e,n){var i=e.pixelRatio,o=e.size[0]*i/2,r=e.size[1]*i/2,a=e.viewState.rotation,s=Gn(n),l=Wn(n),u=In(n),d=Fn(n);vo(e.coordinateToPixelTransform,s),vo(e.coordinateToPixelTransform,l),vo(e.coordinateToPixelTransform,u),vo(e.coordinateToPixelTransform,d),t.save(),Ol(t,-a,o,r),t.beginPath(),t.moveTo(s[0]*i,s[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(u[0]*i,u[1]*i),t.lineTo(d[0]*i,d[1]*i),t.clip(),Ol(t,a,o,r)},e.prototype.clipUnrotated=function(t,e,n){var i=Gn(n),o=Wn(n),r=In(n),a=Fn(n);vo(e.coordinateToPixelTransform,i),vo(e.coordinateToPixelTransform,o),vo(e.coordinateToPixelTransform,r),vo(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;vo(s,i),vo(s,o),vo(s,r),vo(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var i=this.getLayer();if(i.hasListener(t)){var o=new cl(t,this.inversePixelTransform,n,e);i.dispatchEvent(o)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(Ks,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(Js,t,e)},e.prototype.getRenderTransform=function(t,e,n,i){var o=t.viewState,r=e/2,a=n/2,s=t.pixelRatio/o.resolution,l=-s,u=-o.center[0]+i,d=-o.center[1];return Mo(this.tempTransform_,r,a,s,l,-o.rotation,u,d)},e.prototype.getDataAtPixel=function(t,e,n){var i,o=vo(this.inversePixelTransform,t.slice()),r=this.context;try{i=r.getImageData(Math.round(o[0]),Math.round(o[1]),1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:i}return 0===i[3]?null:i},e}(Al),Nl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zl=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=[1/0,1/0,-1/0,-1/0],n.tmpTileRange_=new Ka(0,0,0,0),n}return Nl(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==Jr.LOADED||n==Jr.EMPTY||n==Jr.ERROR&&!i},e.prototype.getTile=function(t,e,n,i){var o=i.pixelRatio,r=i.viewState.projection,a=this.getLayer(),s=a.getSource().getTile(t,e,n,o,r);return s.getState()==Jr.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):s.setState(Jr.LOADED)),this.isDrawableTile(s)||(s=s.getInterimTile()),s},e.prototype.loadedTileCallback=function(e,n,i){return!!this.isDrawableTile(i)&&t.prototype.loadedTileCallback.call(this,e,n,i)},e.prototype.prepareFrame=function(t){return!0},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],i=t.viewState,o=i.projection,r=i.resolution,a=i.center,s=i.rotation,l=t.pixelRatio,u=this.getLayer(),d=u.getSource(),c=d.getRevision(),h=d.getTileGridForProjection(o),p=h.getZForResolution(r,d.zDirection),f=h.getResolution(p),m=t.extent;n.extent&&(m=zn(m,n.extent));var g=d.getTilePixelRatio(l),_=Math.round(t.size[0]*g),y=Math.round(t.size[1]*g);s&&(_=y=Math.round(Math.sqrt(_*_+y*y)));var v=f*_/2/g,b=f*y/2/g,w=[a[0]-v,a[1]-b,a[0]+v,a[1]+b],M=h.getTileRangeForExtentAndZ(m,p),x={};x[p]={};var L=this.createLoadedTileFinder(d,o,x),k=this.tmpExtent,T=this.tmpTileRange_;this.newTiles_=!1;for(var E=M.minX;E<=M.maxX;++E)for(var C=M.minY;C<=M.maxY;++C){var D=this.getTile(p,E,C,t);if(this.isDrawableTile(D)){var S=We(this);if(D.getState()==Jr.LOADED){x[p][D.tileCoord.toString()]=D;var Y=D.inTransition(S);this.newTiles_||!Y&&-1!==this.renderedTiles.indexOf(D)||(this.newTiles_=!0)}if(1===D.getAlpha(S,t.time))continue}var R=h.getTileCoordChildTileRange(D.tileCoord,T,k),O=!1;R&&(O=L(p+1,R)),O||h.forEachTileCoordParentTileRange(D.tileCoord,L,T,k)}var P=f/r;Mo(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/g,1/g,s,-_/2,-y/2),this.useContainer(e,this.pixelTransform,n.opacity);var F=this.context,I=F.canvas;xo(this.inversePixelTransform,this.pixelTransform),Mo(this.tempTransform_,_/2,y/2,P,P,0,-_/2,-y/2),I.width!=_||I.height!=y?(I.width=_,I.height=y):this.containerReused||F.clearRect(0,0,_,y),n.extent&&this.clipUnrotated(F,t,n.extent),this.preRender(F,t),this.renderedTiles.length=0;var A,j,H,N=Object.keys(x).map(Number);N.sort(Fi),1!==n.opacity||this.containerReused&&!d.getOpaque(t.viewState.projection)?(A=[],j=[]):N=N.reverse();for(var z=N.length-1;z>=0;--z){var G=N[z],W=d.getTilePixelSize(G,l,o),B=h.getResolution(G)/f,V=W[0]*B*P,q=W[1]*B*P,U=h.getTileCoordForCoordAndZ(Gn(w),G),X=h.getTileCoordExtent(U),K=vo(this.tempTransform_,[g*(X[0]-w[0])/f,g*(w[3]-X[3])/f]),J=g*d.getGutterForProjection(o),Z=x[G];for(var $ in Z){var Q=(D=Z[$]).tileCoord,tt=K[0]-(U[1]-Q[1])*V,et=Math.round(tt+V),nt=K[1]-(U[2]-Q[2])*q,it=Math.round(nt+q),ot=et-(E=Math.round(tt)),rt=it-(C=Math.round(nt)),at=p===G;if(!(Y=at&&1!==D.getAlpha(We(this),t.time)))if(A){F.save(),H=[E,C,E+ot,C,E+ot,C+rt,E,C+rt];for(var st=0,lt=A.length;st<lt;++st)if(p!==G&&G<j[st]){var ut=A[st];F.beginPath(),F.moveTo(H[0],H[1]),F.lineTo(H[2],H[3]),F.lineTo(H[4],H[5]),F.lineTo(H[6],H[7]),F.moveTo(ut[6],ut[7]),F.lineTo(ut[4],ut[5]),F.lineTo(ut[2],ut[3]),F.lineTo(ut[0],ut[1]),F.clip()}A.push(H),j.push(G)}else F.clearRect(E,C,ot,rt);this.drawTileImage(D,t,E,C,ot,rt,J,at,n.opacity),A&&!Y&&F.restore(),this.renderedTiles.push(D),this.updateUsedTiles(t.usedTiles,d,D)}}this.renderedRevision=c,this.renderedResolution=f,this.extentChanged=!this.renderedExtent_||!En(this.renderedExtent_,w),this.renderedExtent_=w,this.manageTilePyramid(t,d,h,l,o,m,p,u.getPreload()),this.updateCacheSize_(t,d),this.scheduleExpireCache(t,d),this.postRender(F,t),n.extent&&F.restore();var dt=Lo(this.pixelTransform);return dt!==I.style.transform&&(I.style.transform=dt),this.container},e.prototype.drawTileImage=function(t,e,n,i,o,r,a,s,l){var u=this.getTileImage(t);if(u){var d=We(this),c=s?t.getAlpha(d,e.time):1,h=l*c,p=h!==this.context.globalAlpha;p&&(this.context.save(),this.context.globalAlpha=h),this.context.drawImage(u,a,a,u.width-2*a,u.height-2*a,n,i,o,r),p&&this.context.restore(),1!==c?e.animate=!0:s&&t.endTransition(d)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=We(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var i=We(e);i in t||(t[i]={}),t[i][n.getKey()]=!0},e.prototype.updateCacheSize_=function(t,e){var n=We(e),i=0;n in t.usedTiles&&(i+=Object.keys(t.usedTiles[n]).length),n in t.wantedTiles&&(i+=Object.keys(t.wantedTiles[n]).length);var o=e.tileCache;o.highWaterMark<i&&(o.highWaterMark=i)},e.prototype.manageTilePyramid=function(t,e,n,i,o,r,a,s,l){var u=We(e);u in t.wantedTiles||(t.wantedTiles[u]={});var d,c,h,p,f,m,g=t.wantedTiles[u],_=t.tileQueue;for(m=n.getMinZoom();m<=a;++m)for(c=n.getTileRangeForExtentAndZ(r,m,c),h=n.getResolution(m),p=c.minX;p<=c.maxX;++p)for(f=c.minY;f<=c.maxY;++f)a-m<=s?((d=e.getTile(m,p,f,i,o)).getState()==Jr.IDLE&&(g[d.getKey()]=!0,_.isKeyQueued(d.getKey())||_.enqueue([d,u,n.getTileCoordCenter(d.tileCoord),h])),void 0!==l&&l(d)):e.useTile(m,p,f,o)},e}(Hl);zl.prototype.getLayer;var Gl=zl,Wl=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bl=function(t){function e(e){return t.call(this,e)||this}return Wl(e,t),e.prototype.createRenderer=function(){return new Gl(this)},e}(ul),Vl=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,ql=/^([a-z]*)$/i;var Ul=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var o=0;for(var r in t)0==(3&o++)&&(delete t[r],--e)}i=function(t){var e,n,i,o,r;ql.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t));if(Vl.exec(t)){var a=t.length-1,s=void 0;s=a<=4?1:2;var l=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),i=parseInt(t.substr(1+2*s,s),16),o=l?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,l&&(o=(o<<4)+o)),r=[e,n,i,o/255]}else 0==t.indexOf("rgba(")?Xl(r=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((r=t.slice(4,-1).split(",").map(Number)).push(1),Xl(r)):Xe(!1,14);return r}(n),t[n]=i,++e}return i}}();function Xl(t){return t[0]=en(t[0]+.5|0,0,255),t[1]=en(t[1]+.5|0,0,255),t[2]=en(t[2]+.5|0,0,255),t[3]=en(t[3],0,1),t}function Kl(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}function Jl(t){return Array.isArray(t)?Kl(t):t}var Zl=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale}return t.prototype.clone=function(){return new t({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getAnchor=function(){return ze()},t.prototype.getImage=function(t){return ze()},t.prototype.getHitDetectionImage=function(t){return ze()},t.prototype.getImageState=function(){return ze()},t.prototype.getImageSize=function(){return ze()},t.prototype.getHitDetectionImageSize=function(){return ze()},t.prototype.getOrigin=function(){return ze()},t.prototype.getSize=function(){return ze()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.listenImageChange=function(t,e){return ze()},t.prototype.load=function(){ze()},t.prototype.unlistenImageChange=function(t,e){ze()},t}(),$l=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ql=function(t){function e(e){var n=this,i=void 0!==e.rotateWithView&&e.rotateWithView;return(n=t.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==e.rotation?e.rotation:0,scale:1})||this).canvas_=null,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.imageSize_=null,n.hitDetectionImageSize_=null,n.render(),n}return $l(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return ca.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render=function(){var t,e="round",n="round",i=0,o=null,r=0,a=0;this.stroke_&&(null===(t=this.stroke_.getColor())&&(t="#000"),t=Jl(t),void 0===(a=this.stroke_.getWidth())&&(a=1),o=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),void 0===(n=this.stroke_.getLineJoin())&&(n="round"),void 0===(e=this.stroke_.getLineCap())&&(e="round"),void 0===(i=this.stroke_.getMiterLimit())&&(i=10));var s=2*(this.radius_+a)+1,l={strokeStyle:t,strokeWidth:a,size:s,lineCap:e,lineDash:o,lineDashOffset:r,lineJoin:n,miterLimit:i},u=ia(s,s);this.canvas_=u.canvas;var d=s=this.canvas_.width;this.draw_(l,u,0,0),this.createHitDetectionCanvas_(l),this.anchor_=[s/2,s/2],this.size_=[s,s],this.imageSize_=[d,d]},e.prototype.draw_=function(t,e,n,i){var o,r,a;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var s=this.points_;if(s===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var l=void 0!==this.radius2_?this.radius2_:this.radius_;for(l!==this.radius_&&(s*=2),o=0;o<=s;o++)r=2*o*Math.PI/s-Math.PI/2+this.angle_,a=o%2==0?this.radius_:l,e.lineTo(t.size/2+a*Math.cos(r),t.size/2+a*Math.sin(r))}if(this.fill_){var u=this.fill_.getColor();null===u&&(u="#000"),e.fillStyle=Jl(u),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=ia(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var r=void 0!==this.radius2_?this.radius2_:this.radius_;r!==this.radius_&&(o*=2);var a=void 0,s=void 0,l=void 0;for(a=0;a<=o;a++)l=2*a*Math.PI/o-Math.PI/2+this.angle_,s=a%2==0?this.radius_:r,e.lineTo(t.size/2+s*Math.cos(l),t.size/2+s*Math.sin(l))}e.fillStyle="#000",e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e}(Zl),tu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),eu=function(t){function e(e){var n=e||{};return t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke})||this}return tu(e,t),e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius()});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(Ql),nu=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}(),iu=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),ou=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=lu,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=lu,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();var ru=null;function au(t,e){if(!ru){var n=new nu({color:"rgba(255,255,255,0.4)"}),i=new iu({color:"#3399CC",width:1.25});ru=[new ou({image:new eu({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return ru}function su(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[un.POLYGON]=[new ou({fill:new nu({color:[255,255,255,.5]})})],t[un.MULTI_POLYGON]=t[un.POLYGON],t[un.LINE_STRING]=[new ou({stroke:new iu({color:e,width:5})}),new ou({stroke:new iu({color:n,width:3})})],t[un.MULTI_LINE_STRING]=t[un.LINE_STRING],t[un.CIRCLE]=t[un.POLYGON].concat(t[un.LINE_STRING]),t[un.POINT]=[new ou({image:new eu({radius:6,fill:new nu({color:n}),stroke:new iu({color:e,width:1.5})}),zIndex:1/0})],t[un.MULTI_POINT]=t[un.POINT],t[un.GEOMETRY_COLLECTION]=t[un.POLYGON].concat(t[un.LINE_STRING],t[un.POINT]),t}function lu(t){return t.getGeometry()}var uu=ou,du=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cu="renderOrder",hu=function(t){function e(e){var n=this,i=e||{},o=Ze({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,(n=t.call(this,o)||this).declutter_=void 0!==i.declutter&&i.declutter,n.renderBuffer_=void 0!==i.renderBuffer?i.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(i.style),n.updateWhileAnimating_=void 0!==i.updateWhileAnimating&&i.updateWhileAnimating,n.updateWhileInteracting_=void 0!==i.updateWhileInteracting&&i.updateWhileInteracting,n}return du(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(cu)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(cu,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:au,this.styleFunction_=null===t?void 0:function(t){var e;if("function"==typeof t)e=t;else{var n;if(Array.isArray(t))n=t;else Xe("function"==typeof t.getZIndex,41),n=[t];e=function(){return n}}return e}(this.style_),this.changed()},e}(rl),pu={IMAGE:"image",HYBRID:"hybrid"},fu=0,mu=1,gu={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},_u=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),yu={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},vu=[yu.FILL],bu=[yu.STROKE],wu=[yu.BEGIN_PATH],Mu=[yu.CLOSE_PATH],xu=yu,Lu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ku=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.tolerance=e,r.maxExtent=n,r.pixelRatio=o,r.maxLineWidth=0,r.resolution=i,r.beginGeometryInstruction1_=null,r.beginGeometryInstruction2_=null,r.bufferedMaxExtent_=null,r.instructions=[],r.coordinates=[],r.tmpCoordinate_=[],r.hitDetectionInstructions=[],r.state={},r}return Lu(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,i,o,r){var a=this.coordinates.length,s=this.getBufferedMaxExtent();r&&(e+=i);var l,u,d,c=t[e],h=t[e+1],p=this.tmpCoordinate_,f=!0;for(l=e+i;l<n;l+=i)p[0]=t[l],p[1]=t[l+1],(d=wn(s,p))!==u?(f&&(this.coordinates[a++]=c,this.coordinates[a++]=h),this.coordinates[a++]=p[0],this.coordinates[a++]=p[1],f=!1):d===pn.INTERSECTING?(this.coordinates[a++]=p[0],this.coordinates[a++]=p[1],f=!1):f=!0,c=p[0],h=p[1],u=d;return(o&&f||l===e+i)&&(this.coordinates[a++]=c,this.coordinates[a++]=h),a},e.prototype.drawCustomCoordinates_=function(t,e,n,i,o){for(var r=0,a=n.length;r<a;++r){var s=n[r],l=this.appendFlatCoordinates(t,e,s,i,!1,!1);o.push(l),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(e);var i,o,r,a,s,l=t.getType(),u=t.getStride(),d=this.coordinates.length;if(l==un.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),a=[];var c=t.getEndss();s=0;for(var h=0,p=c.length;h<p;++h){var f=[];s=this.drawCustomCoordinates_(i,s,c[h],u,f),a.push(f)}this.instructions.push([xu.CUSTOM,d,a,t,n,zo])}else l==un.POLYGON||l==un.MULTI_LINE_STRING?(r=[],i=l==un.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(i,0,t.getEnds(),u,r),this.instructions.push([xu.CUSTOM,d,r,t,n,No])):l==un.LINE_STRING||l==un.MULTI_POINT?(i=t.getFlatCoordinates(),o=this.appendFlatCoordinates(i,0,i.length,u,!1,!1),this.instructions.push([xu.CUSTOM,d,o,t,n,Ho])):l==un.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),o=this.coordinates.length,this.instructions.push([xu.CUSTOM,d,o,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t){this.beginGeometryInstruction1_=[xu.BEGIN_GEOMETRY,t,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[xu.BEGIN_GEOMETRY,t,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,o=e.length,r=-1;for(t=0;t<o;++t)(i=(n=e[t])[0])==xu.END_GEOMETRY?r=t:i==xu.BEGIN_GEOMETRY&&(n[2]=t,Ai(this.hitDetectionInstructions,r,t),r=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=Jl(i||"#000")}else n.fillStyle=void 0;if(e){var o=e.getColor();n.strokeStyle=Jl(o||"#000");var r=e.getLineCap();n.lineCap=void 0!==r?r:"round";var a=e.getLineDash();n.lineDash=a?a.slice():bl;var s=e.getLineDashOffset();n.lineDashOffset=s||0;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:"round";var u=e.getWidth();n.lineWidth=void 0!==u?u:1;var d=e.getMiterLimit();n.miterLimit=void 0!==d?d:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[xu.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[xu.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,o=t.lineDash,r=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||o!=t.currentLineDash&&!Hi(t.currentLineDash,o)||t.currentLineDashOffset!=r||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=o,t.currentLineDashOffset=r,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[xu.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=gn(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;mn(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(_u),Tu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Eu=function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.declutterGroups_=null,r.hitDetectionImage_=null,r.image_=null,r.anchorX_=void 0,r.anchorY_=void 0,r.height_=void 0,r.opacity_=void 0,r.originX_=void 0,r.originY_=void 0,r.rotateWithView_=void 0,r.rotation_=void 0,r.scale_=void 0,r.width_=void 0,r}return Tu(e,t),e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,r=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([xu.DRAW_IMAGE,o,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([xu.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(e);var n=t.getFlatCoordinates(),i=t.getStride(),o=this.coordinates.length,r=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([xu.DRAW_IMAGE,o,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([xu.DRAW_IMAGE,o,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroups_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),o=t.getHitDetectionImage(1),r=t.getImage(1),a=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroups_=e,this.hitDetectionImage_=o,this.image_=r,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(ku),Cu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Du=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return Cu(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,i){var o=this.coordinates.length,r=this.appendFlatCoordinates(t,e,n,i,!1,!1),a=[xu.MOVE_TO_LINE_TO,o,r];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,o=n.lineWidth;if(void 0!==i&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e),this.hitDetectionInstructions.push([xu.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],wu);var r=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(r,0,r.length,a),this.hitDetectionInstructions.push(bu),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,o=n.lineWidth;if(void 0!==i&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(e),this.hitDetectionInstructions.push([xu.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],wu);for(var r=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),l=0,u=0,d=r.length;u<d;++u)l=this.drawFlatCoordinates_(a,l,r[u],s);this.hitDetectionInstructions.push(bu),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(bu),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(bu),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(wu)},e}(ku),Su=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Yu=function(t){function e(e,n,i,o){return t.call(this,e,n,i,o)||this}return Su(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var o=this.state,r=void 0!==o.fillStyle,a=null!=o.strokeStyle,s=n.length;this.instructions.push(wu),this.hitDetectionInstructions.push(wu);for(var l=0;l<s;++l){var u=n[l],d=this.coordinates.length,c=this.appendFlatCoordinates(t,e,u,i,!0,!a),h=[xu.MOVE_TO_LINE_TO,d,c];this.instructions.push(h),this.hitDetectionInstructions.push(h),a&&(this.instructions.push(Mu),this.hitDetectionInstructions.push(Mu)),e=u}return r&&(this.instructions.push(vu),this.hitDetectionInstructions.push(vu)),a&&(this.instructions.push(bu),this.hitDetectionInstructions.push(bu)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([xu.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([xu.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatCoordinates(r,0,r.length,a,!1,!1);var l=[xu.CIRCLE,s];this.instructions.push(wu,l),this.hitDetectionInstructions.push(wu,l),this.hitDetectionInstructions.push(vu),void 0!==n.fillStyle&&this.instructions.push(vu),void 0!==n.strokeStyle&&(this.instructions.push(bu),this.hitDetectionInstructions.push(bu)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([xu.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([xu.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var r=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,r,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,o=n.strokeStyle;if(void 0!==i||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([xu.SET_FILL_STYLE,"#000"]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([xu.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var r=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),l=0,u=0,d=r.length;u<d;++u)l=this.drawFlatCoordinatess_(a,l,r[u],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,i=0,o=n.length;i<o;++i)n[i]=Qo(n[i],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(ku);function Ru(t,e,n,i,o){var r,a,s,l,u,d,c,h,p,f=n,m=n,g=0,_=0,y=n;for(r=n;r<i;r+=o){var v=e[r],b=e[r+1];void 0!==l&&(h=v-l,p=b-u,s=Math.sqrt(h*h+p*p),void 0!==d&&(_+=a,Math.acos((d*h+c*p)/(a*s))>t&&(_>g&&(g=_,f=y,m=r),_=0,y=r-o)),a=s,d=h,c=p),l=v,u=b}return(_+=s)>g?[y,r]:[f,m]}var Ou={POINT:"point",LINE:"line"},Pu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fu={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},Iu={Circle:Yu,Default:ku,Image:Eu,LineString:Du,Polygon:Yu,Text:function(t){function e(e,n,i,o){var r=t.call(this,e,n,i,o)||this;return r.declutterGroups_,r.labels_=null,r.text_="",r.textOffsetX_=0,r.textOffsetY_=0,r.textRotateWithView_=void 0,r.textRotation_=0,r.textFillState_=null,r.fillStates={},r.textStrokeState_=null,r.strokeStates={},r.textState_={},r.textStates={},r.textKey_="",r.fillKey_="",r.strokeKey_="",Ml.prune(),r}return Pu(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,o=this.textState_;if(""!==this.text_&&o&&(n||i)){var r,a,s=this.coordinates.length,l=t.getType(),u=null,d=2,c=2;if(o.placement===Ou.LINE){if(!Vn(this.getBufferedMaxExtent(),t.getExtent()))return;var h=void 0;if(u=t.getFlatCoordinates(),c=t.getStride(),l==un.LINE_STRING)h=[u.length];else if(l==un.MULTI_LINE_STRING)h=t.getEnds();else if(l==un.POLYGON)h=t.getEnds().slice(0,1);else if(l==un.MULTI_POLYGON){var p=t.getEndss();for(h=[],r=0,a=p.length;r<a;++r)h.push(p[r][0])}this.beginGeometry(e);for(var f=o.textAlign,m=0,g=void 0,_=0,y=h.length;_<y;++_){if(null==f){var v=Ru(o.maxAngle,u,m,h[_],c);m=v[0],g=v[1]}else g=h[_];for(r=m;r<g;r+=c)this.coordinates.push(u[r],u[r+1]);d=this.coordinates.length,m=h[_];var b=this.declutterGroups_?0===_?this.declutterGroups_[0]:[].concat(this.declutterGroups_[0]):null;this.drawChars_(s,d,b),s=d}this.endGeometry(e)}else{var w=null;switch(o.overflow||(w=[]),l){case un.POINT:case un.MULTI_POINT:d=(u=t.getFlatCoordinates()).length;break;case un.LINE_STRING:u=t.getFlatMidpoint();break;case un.CIRCLE:u=t.getCenter();break;case un.MULTI_LINE_STRING:d=(u=t.getFlatMidpoints()).length;break;case un.POLYGON:u=t.getFlatInteriorPoint(),o.overflow||w.push(u[2]/this.resolution),c=3;break;case un.MULTI_POLYGON:var M=t.getFlatInteriorPoints();for(u=[],r=0,a=M.length;r<a;r+=3)o.overflow||w.push(M[r+2]/this.resolution),u.push(M[r],M[r+1]);if(0==(d=u.length))return}d=this.appendFlatCoordinates(u,0,d,c,!1,!1),this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e);var x=this.pixelRatio;this.instructions.push([xu.DRAW_IMAGE,s,d,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,o.padding==wl?wl:o.padding.map(function(t){return t*x}),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,w]),this.hitDetectionInstructions.push([xu.DRAW_IMAGE,s,d,null,NaN,NaN,this.declutterGroups_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,o.padding,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,w]),this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,i=this.strokeKey_;t&&(i in this.strokeStates||(this.strokeStates[i]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||"center",textBaseline:e.textBaseline||"middle",scale:e.scale});var r=this.fillKey_;n&&(r in this.fillStates||(this.fillStates[r]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,o=this.textState_,r=this.strokeKey_,a=this.textKey_,s=this.fillKey_;this.saveTextStates_();var l=this.pixelRatio,u=Fu[o.textBaseline],d=this.textOffsetY_*l,c=this.text_,h=o.scale,p=i?i.lineWidth*h/2:0;this.instructions.push([xu.DRAW_CHARS,t,e,u,n,o.overflow,s,o.maxAngle,l,d,r,p*l,c,a,1]),this.hitDetectionInstructions.push([xu.DRAW_CHARS,t,e,u,n,o.overflow,s,o.maxAngle,1,d,r,p,c,a,1/l])},e.prototype.setTextStyle=function(t,e){var n,i,o;if(t){this.declutterGroups_=e;var r=t.getFill();r?((i=this.textFillState_)||(i=this.textFillState_={}),i.fillStyle=Jl(r.getColor()||"#000")):i=this.textFillState_=null;var a=t.getStroke();if(a){(o=this.textStrokeState_)||(o=this.textStrokeState_={});var s=a.getLineDash(),l=a.getLineDashOffset(),u=a.getWidth(),d=a.getMiterLimit();o.lineCap=a.getLineCap()||"round",o.lineDash=s?s.slice():bl,o.lineDashOffset=void 0===l?0:l,o.lineJoin=a.getLineJoin()||"round",o.lineWidth=void 0===u?1:u,o.miterLimit=void 0===d?10:d,o.strokeStyle=Jl(a.getColor()||"#000")}else o=this.textStrokeState_=null;n=this.textState_;var c=t.getFont()||"10px sans-serif";Tl(c);var h=t.getScale();n.overflow=t.getOverflow(),n.font=c,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||"middle",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||wl,n.scale=void 0===h?1:h;var p=t.getOffsetX(),f=t.getOffsetY(),m=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===p?0:p,this.textOffsetY_=void 0===f?0:f,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0===g?0:g,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:We(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+We(i.fillStyle):""}else this.text_=""},e}(ku)},Au=function(){function t(t,e,n,i,o){this.declutter_=o,this.declutterGroups_=null,this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.addDeclutter=function(t){var e=null;return this.declutter_&&(t?(e=this.declutterGroups_)[0][4]++:(e=this.declutterGroups_=[[1/0,1/0,-1/0,-1/0]])[0].push(1)),e},t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var i in n){var o=n[i].finish();t[e][i]=o}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",i=this.buildersByZIndex_[n];void 0===i&&(i={},this.buildersByZIndex_[n]=i);var o=i[e];void 0===o&&(o=new(0,Iu[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=o);return o},t}(),ju=.5,Hu={Point:function(t,e,n,i){var o=n.getImage();if(o){if(o.getImageState()!=ca.LOADED)return;var r=t.getBuilder(n.getZIndex(),gu.IMAGE);r.setImageStyle(o,t.addDeclutter(!1)),r.drawPoint(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),gu.TEXT);s.setTextStyle(a,t.addDeclutter(!!o)),s.drawText(e,i)}},LineString:function(t,e,n,i){var o=n.getStroke();if(o){var r=t.getBuilder(n.getZIndex(),gu.LINE_STRING);r.setFillStrokeStyle(null,o),r.drawLineString(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),gu.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,i)}},Polygon:function(t,e,n,i){var o=n.getFill(),r=n.getStroke();if(o||r){var a=t.getBuilder(n.getZIndex(),gu.POLYGON);a.setFillStrokeStyle(o,r),a.drawPolygon(e,i)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),gu.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}},MultiPoint:function(t,e,n,i){var o=n.getImage();if(o){if(o.getImageState()!=ca.LOADED)return;var r=t.getBuilder(n.getZIndex(),gu.IMAGE);r.setImageStyle(o,t.addDeclutter(!1)),r.drawMultiPoint(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),gu.TEXT);s.setTextStyle(a,t.addDeclutter(!!o)),s.drawText(e,i)}},MultiLineString:function(t,e,n,i){var o=n.getStroke();if(o){var r=t.getBuilder(n.getZIndex(),gu.LINE_STRING);r.setFillStrokeStyle(null,o),r.drawMultiLineString(e,i)}var a=n.getText();if(a){var s=t.getBuilder(n.getZIndex(),gu.TEXT);s.setTextStyle(a,t.addDeclutter(!1)),s.drawText(e,i)}},MultiPolygon:function(t,e,n,i){var o=n.getFill(),r=n.getStroke();if(r||o){var a=t.getBuilder(n.getZIndex(),gu.POLYGON);a.setFillStrokeStyle(o,r),a.drawMultiPolygon(e,i)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),gu.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}},GeometryCollection:function(t,e,n,i){var o,r,a=e.getGeometriesArray();for(o=0,r=a.length;o<r;++o){(0,Hu[a[o].getType()])(t,a[o],n,i)}},Circle:function(t,e,n,i){var o=n.getFill(),r=n.getStroke();if(o||r){var a=t.getBuilder(n.getZIndex(),gu.CIRCLE);a.setFillStrokeStyle(o,r),a.drawCircle(e,i)}var s=n.getText();if(s){var l=t.getBuilder(n.getZIndex(),gu.TEXT);l.setTextStyle(s,t.addDeclutter(!1)),l.drawText(e,i)}}};function Nu(t,e){return parseInt(We(t),10)-parseInt(We(e),10)}function zu(t,e){var n=Gu(t,e);return n*n}function Gu(t,e){return ju*t/e}function Wu(t,e,n,i,o,r){var a=!1,s=n.getImage();if(s){var l=s.getImageState();l==ca.LOADED||l==ca.ERROR?s.unlistenImageChange(o,r):(l==ca.IDLE&&s.load(),l=s.getImageState(),s.listenImageChange(o,r),a=!0)}return function(t,e,n,i){var o=n.getGeometryFunction()(e);if(!o)return;var r=o.getSimplifiedGeometry(i);if(n.getRenderer())!function t(e,n,i,o){if(n.getType()==un.GEOMETRY_COLLECTION){for(var r=n.getGeometries(),a=0,s=r.length;a<s;++a)t(e,r[a],i,o);return}var l=e.getBuilder(i.getZIndex(),gu.DEFAULT);l.drawCustom(n,o,i.getRenderer())}(t,r,n,e);else{(0,Hu[r.getType()])(t,r,n,e)}}(t,e,n,i),a}function Bu(t,e,n,i,o,r,a,s,l,u,d){for(var c,h,p=[],f=t[e]>t[n-i],m=o.length,g=t[e],_=t[e+1],y=t[e+=i],v=t[e+1],b=0,w=Math.sqrt(Math.pow(y-g,2)+Math.pow(v-_,2)),M=!1,x=0;x<m;++x){for(var L=o[c=f?m-x-1:x],k=s*l(u,L,d),T=r+k/2;e<n-i&&b+w<T;)g=y,_=v,y=t[e+=i],v=t[e+1],b+=w,w=Math.sqrt(Math.pow(y-g,2)+Math.pow(v-_,2));var E=T-b,C=Math.atan2(v-_,y-g);if(f&&(C+=C>0?-Math.PI:Math.PI),void 0!==h){var D=C-h;if(M=M||0!==D,D+=D>Math.PI?-2*Math.PI:D<-Math.PI?2*Math.PI:0,Math.abs(D)>a)return null}h=C;var S=E/w,Y=ln(g,y,S),R=ln(_,v,S);p[c]=[Y,R,k/2,C,L],r+=k}return M?p:[[p[0][0],p[0][1],p[0][2],p[0][3],o]]}var Vu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qu=[1/0,1/0,-1/0,-1/0],Uu=[1,0,0,1,0,0],Xu=[],Ku=[],Ju=[],Zu=[],$u=function(t){function e(e,n,i,o){var r=t.call(this)||this;return r.overlaps=i,r.pixelRatio=n,r.resolution=e,r.alignFill_,r.declutterItems=[],r.instructions=o.instructions,r.coordinates=o.coordinates,r.coordinateCache_={},r.renderedTransform_=[1,0,0,1,0,0],r.hitDetectionInstructions=o.hitDetectionInstructions,r.pixelCoordinates_=null,r.viewRotation_=0,r.fillStates=o.fillStates||{},r.strokeStates=o.strokeStates||{},r.textStates=o.textStates||{},r.widths_={},r}return Vu(e,t),e.prototype.disposeInternal=function(){Ml.release(this),t.prototype.disposeInternal.call(this)},e.prototype.getTextImage=function(t,e,n,i){var o,r=i+e+t+n+this.pixelRatio;if(!Ml.containsKey(r)){var a=i?this.strokeStates[i]:null,s=n?this.fillStates[n]:null,l=this.textStates[e],u=this.pixelRatio,d=l.scale*u,c=Fu[l.textAlign||"center"],h=i&&a.lineWidth?a.lineWidth:0,p=t.split("\n"),f=p.length,m=[],g=function(t,e,n){for(var i=e.length,o=0,r=0;r<i;++r){var a=Yl(t,e[r]);o=Math.max(o,a),n.push(a)}return o}(l.font,p,m),_=Sl(l.font),y=_*f,v=g+h,b=ia(Math.ceil((v+2)*d),Math.ceil((y+h)*d));o=b.canvas,Ml.set(r,o),1!=d&&b.scale(d,d),b.font=l.font,i&&(b.strokeStyle=a.strokeStyle,b.lineWidth=h,b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.setLineDash&&a.lineDash.length&&(b.setLineDash(a.lineDash),b.lineDashOffset=a.lineDashOffset)),n&&(b.fillStyle=s.fillStyle),b.textBaseline="middle",b.textAlign="center";var w=.5-c,M=c*v+w*h,x=void 0;if(i)for(x=0;x<f;++x)b.strokeText(p[x],M+w*m[x],.5*(h+_)+x*_);if(n)for(x=0;x<f;++x)b.fillText(p[x],M+w*m[x],.5*(h+_)+x*_)}return Ml.get(r,this)},e.prototype.replayTextBackground_=function(t,e,n,i,o,r,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,o),t.lineTo.apply(t,e),r&&(this.alignFill_=r[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,o,r,a,s,l,u,d,c,h,p,f,m,g,_){var y=g||_;e-=o*=h,n-=r*=h;var v=f+u>i.width?i.width-u:f,b=s+d>i.height?i.height-d:s,w=m[3]+v*h+m[1],M=m[0]+b*h+m[2],x=e-m[3],L=n-m[0];(y||0!==c)&&(Xu[0]=Zu[0]=x,Xu[1]=Ku[1]=L,Ku[0]=Ju[0]=x+w,Ju[1]=Zu[1]=L+M);var k=null;if(0!==c){var T=e+o,E=n+r;k=Mo(Uu,T,E,1,1,c,-T,-E),vo(Uu,Xu),vo(Uu,Ku),vo(Uu,Ju),vo(Uu,Zu),xn(Math.min(Xu[0],Ku[0],Ju[0],Zu[0]),Math.min(Xu[1],Ku[1],Ju[1],Zu[1]),Math.max(Xu[0],Ku[0],Ju[0],Zu[0]),Math.max(Xu[1],Ku[1],Ju[1],Zu[1]),qu)}else xn(x,L,x+w,L+M,qu);var C=t.canvas,D=_?_[2]*h/2:0,S=qu[0]-D<=C.width&&qu[2]+D>=0&&qu[1]-D<=C.height&&qu[3]+D>=0;if(p&&(e=Math.round(e),n=Math.round(n)),a){if(!S&&1==a[4])return;Cn(a,qu);var Y=S?[t,k?k.slice(0):null,l,i,u,d,v,b,e,n,h]:null;Y&&(y&&Y.push(g,_,Xu,Ku,Ju,Zu),a.push(Y))}else S&&(y&&this.replayTextBackground_(t,Xu,Ku,Ju,Zu,g,_),Fl(t,k,l,i,u,d,v,b,e,n,h))},e.prototype.fill_=function(t){if(this.alignFill_){var e=vo(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter=function(t,e,n,i){if(t&&t.length>5){var o=t[4];if(1==o||o==t.length-5){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(i||(i=new zs.a(9)),!i.collides(r)){i.insert(r);for(var a=5,s=t.length;a<s;++a){var l=t[a],u=l[0],d=u.globalAlpha;d!==n&&(u.globalAlpha=n),l.length>11&&this.replayTextBackground_(l[0],l[13],l[14],l[15],l[16],l[11],l[12]),Fl.apply(void 0,l),d!==n&&(u.globalAlpha=d)}}t.length=5,Ln(t)}}return i},e.prototype.drawTextImageWithPointPlacement_=function(t,e,n,i){var o=this.textStates[e],r=this.getTextImage(t,e,i,n),a=this.strokeStates[n],s=this.pixelRatio,l=Fu[o.textAlign||"center"],u=Fu[o.textBaseline||"middle"],d=a&&a.lineWidth?a.lineWidth:0;return{label:r,anchorX:l*(r.width/s-2*o.scale)+2*(.5-l)*d,anchorY:u*r.height/s+2*(.5-u)*d}},e.prototype.execute_=function(t,e,n,i,o,r,a){var s,l,u;this.declutterItems.length=0,this.pixelCoordinates_&&Hi(e,this.renderedTransform_)?s=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),s=ho(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),l=this.renderedTransform_,u=e,l[0]=u[0],l[1]=u[1],l[2]=u[2],l[3]=u[3],l[4]=u[4],l[5]=u[5]);for(var d,c,h,p,f,m,g,_,y,v,b,w,M,x,L,k,T,E=!tn(n),C=0,D=i.length,S=0,Y=0,R=0,O=null,P=null,F=this.coordinateCache_,I=this.viewRotation_,A={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:I},j=this.instructions!=i||this.overlaps?0:200;C<D;){var H=i[C];switch(H[0]){case xu.BEGIN_GEOMETRY:L=H[1],E&&n[We(L)]||!L.getGeometry()?C=H[2]:void 0===a||Vn(a,L.getGeometry().getExtent())?++C:C=H[2]+1;break;case xu.BEGIN_PATH:Y>j&&(this.fill_(t),Y=0),R>j&&(t.stroke(),R=0),Y||R||(t.beginPath(),p=f=NaN),++C;break;case xu.CIRCLE:var N=s[S=H[1]],z=s[S+1],G=s[S+2]-N,W=s[S+3]-z,B=Math.sqrt(G*G+W*W);t.moveTo(N+B,z),t.arc(N,z,B,0,2*Math.PI,!0),++C;break;case xu.CLOSE_PATH:t.closePath(),++C;break;case xu.CUSTOM:S=H[1],d=H[2];var V=H[3],q=H[4],U=6==H.length?H[5]:void 0;A.geometry=V,A.feature=L,C in F||(F[C]=[]);var X=F[C];U?U(s,S,d,2,X):(X[0]=s[S],X[1]=s[S+1],X.length=2),q(X,A),++C;break;case xu.DRAW_IMAGE:S=H[1],d=H[2],v=H[3],c=H[4],h=H[5],y=r?null:H[6];var K=H[7],J=H[8],Z=H[9],$=H[10],Q=H[11],tt=H[12],et=H[13],nt=H[14];if(!v&&H.length>=19){b=H[18],w=H[19],M=H[20],x=H[21];var it=this.drawTextImageWithPointPlacement_(b,w,M,x);v=H[3]=it.label;var ot=H[22];c=H[4]=(it.anchorX-ot)*this.pixelRatio;var rt=H[23];h=H[5]=(it.anchorY-rt)*this.pixelRatio,K=H[7]=v.height,nt=H[14]=v.width}var at=void 0;H.length>24&&(at=H[24]);var st=void 0,lt=void 0,ut=void 0;H.length>16?(st=H[15],lt=H[16],ut=H[17]):(st=wl,lt=ut=!1),Q&&(tt+=I);for(var dt=0,ct=0;S<d;S+=2)if(!(at&&at[dt++]<nt/this.pixelRatio)){if(y){var ht=Math.floor(ct);y.length<ht+1&&((_=[1/0,1/0,-1/0,-1/0]).push(y[0][4]),y.push(_)),_=y[ht]}this.replayImage_(t,s[S],s[S+1],v,c,h,_,K,J,Z,$,tt,et,o,nt,st,lt?O:null,ut?P:null),_&&(ct===Math.floor(ct)&&this.declutterItems.push(this,_,L),ct+=1/_[4])}++C;break;case xu.DRAW_CHARS:var pt=H[1],ft=H[2],mt=H[3];_=r?null:H[4];var gt=H[5];x=H[6];var _t=H[7],yt=H[8],vt=H[9];M=H[10];var bt=H[11];b=H[12],w=H[13];var wt=H[14],Mt=this.textStates[w],xt=Mt.font,Lt=Mt.scale*yt,kt=void 0;kt=xt in this.widths_?this.widths_[xt]:this.widths_[xt]={};var Tt=Jo(s,pt,ft,2),Et=Lt*Rl(xt,b,kt);if(gt||Et<=Tt){var Ct=this.textStates[w].textAlign,Dt=Bu(s,pt,ft,2,b,(Tt-Et)*Fu[Ct],_t,Lt,Rl,xt,kt);if(Dt){var St=void 0,Yt=void 0,Rt=void 0,Ot=void 0,Pt=void 0;if(M)for(St=0,Yt=Dt.length;St<Yt;++St)Rt=(Pt=Dt[St])[4],Ot=this.getTextImage(Rt,w,"",M),c=Pt[2]+bt,h=mt*Ot.height+2*(.5-mt)*bt-vt,this.replayImage_(t,Pt[0],Pt[1],Ot,c,h,_,Ot.height,1,0,0,Pt[3],wt,!1,Ot.width,wl,null,null);if(x)for(St=0,Yt=Dt.length;St<Yt;++St)Rt=(Pt=Dt[St])[4],Ot=this.getTextImage(Rt,w,x,""),c=Pt[2],h=mt*Ot.height-vt,this.replayImage_(t,Pt[0],Pt[1],Ot,c,h,_,Ot.height,1,0,0,Pt[3],wt,!1,Ot.width,wl,null,null)}}this.declutterItems.push(this,_,L),++C;break;case xu.END_GEOMETRY:if(void 0!==r){var Ft=r(L=H[1]);if(Ft)return Ft}++C;break;case xu.FILL:j?Y++:this.fill_(t),++C;break;case xu.MOVE_TO_LINE_TO:for(S=H[1],d=H[2],k=s[S],g=(T=s[S+1])+.5|0,(m=k+.5|0)===p&&g===f||(t.moveTo(k,T),p=m,f=g),S+=2;S<d;S+=2)m=(k=s[S])+.5|0,g=(T=s[S+1])+.5|0,S!=d-2&&m===p&&g===f||(t.lineTo(k,T),p=m,f=g);++C;break;case xu.SET_FILL_STYLE:O=H,this.alignFill_=H[2],Y&&(this.fill_(t),Y=0,R&&(t.stroke(),R=0)),t.fillStyle=H[1],++C;break;case xu.SET_STROKE_STYLE:P=H,R&&(t.stroke(),R=0),this.setStrokeStyle_(t,H),++C;break;case xu.STROKE:j?R++:t.stroke(),++C;break;default:++C}}Y&&this.fill_(t),R&&t.stroke()},e.prototype.execute=function(t,e,n,i,o){this.viewRotation_=n,this.execute_(t,e,i,this.instructions,o,void 0,void 0)},e.prototype.executeHitDetection=function(t,e,n,i,o,r){return this.viewRotation_=n,this.execute_(t,e,i,this.hitDetectionInstructions,!0,o,r)},e}(Ki),Qu=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),td=[gu.POLYGON,gu.CIRCLE,gu.LINE_STRING,gu.IMAGE,gu.TEXT,gu.DEFAULT],ed=function(t){function e(e,n,i,o,r,a){var s=t.call(this)||this;return s.maxExtent_=e,s.overlaps_=o,s.pixelRatio_=i,s.resolution_=n,s.renderBuffer_=a,s.executorsByZIndex_={},s.hitDetectionContext_=null,s.hitDetectionTransform_=[1,0,0,1,0,0],s.createExecutors_(r),s}return Qu(e,t),e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(this.executorsByZIndex_[e]=n={});var i=t[e];for(var o in i){var r=i[o];n[o]=new $u(this.resolution_,this.pixelRatio_,this.overlaps_,r)}}},e.prototype.disposeInternal=function(){for(var e in this.executorsByZIndex_){var n=this.executorsByZIndex_[e];for(var i in n)n[i].disposeInternal()}if(this.hitDetectionContext_){var o=this.hitDetectionContext_.canvas;o.width=o.height=0}t.prototype.disposeInternal.call(this)},e.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],i=0,o=t.length;i<o;++i)if(t[i]in n)return!0;return!1},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o,r,a){var s=2*(i=Math.round(i))+1,l=Mo(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]);this.hitDetectionContext_||(this.hitDetectionContext_=ia(s,s));var u,d=this.hitDetectionContext_;d.canvas.width!==s||d.canvas.height!==s?(d.canvas.width=s,d.canvas.height=s):d.clearRect(0,0,s,s),void 0!==this.renderBuffer_&&(Dn(u=[1/0,1/0,-1/0,-1/0],t),mn(u,e*(this.renderBuffer_+i),u));var c,h=function(t){if(void 0!==nd[t])return nd[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);var o=t,r=0,a=0;for(;o>=r;)id(n,t+o,t+r),id(n,t+r,t+o),id(n,t-r,t+o),id(n,t-o,t+r),id(n,t-o,t-r),id(n,t-r,t-o),id(n,t+r,t-o),id(n,t+o,t-r),2*((a+=1+2*++r)-o)+1>0&&(a+=1-2*(o-=1));return nd[t]=n,n}(i);function p(t){for(var e=d.getImageData(0,0,s,s).data,n=0;n<s;n++)for(var i=0;i<s;i++)if(h[n][i]&&e[4*(i*s+n)+3]>0){var o=void 0;return(!a||c!=gu.IMAGE&&c!=gu.TEXT||-1!==a.indexOf(t))&&(o=r(t)),o||void d.clearRect(0,0,s,s)}}var f,m,g,_,y,v=Object.keys(this.executorsByZIndex_).map(Number);for(v.sort(Fi),f=v.length-1;f>=0;--f){var b=v[f].toString();for(g=this.executorsByZIndex_[b],m=td.length-1;m>=0;--m)if(void 0!==(_=g[c=td[m]])&&(y=_.executeHitDetection(d,l,n,o,p,u)))return y}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],i=e[1],o=e[2],r=e[3],a=[n,i,n,r,o,r,o,i];return ho(a,0,8,2,t,a),a},e.prototype.isEmpty=function(){return tn(this.executorsByZIndex_)},e.prototype.execute=function(t,e,n,i,o,r,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(Fi),this.maxExtent_&&(t.save(),this.clip(t,e));var l,u,d,c,h,p,f=r||td;for(l=0,u=s.length;l<u;++l){var m=s[l].toString();for(h=this.executorsByZIndex_[m],d=0,c=f.length;d<c;++d){var g=f[d];if(void 0!==(p=h[g]))if(!a||g!=gu.IMAGE&&g!=gu.TEXT)p.execute(t,e,n,i,o);else{var _=a[m];_?_.push(p,e.slice(0)):a[m]=[p,e.slice(0)]}}}this.maxExtent_&&t.restore()},e}(Ki),nd={0:[[!0]]};function id(t,e,n){var i,o=Math.floor(t.length/2);if(e>=o)for(i=o;i<e;i++)t[i][n]=!0;else if(e<o)for(i=e+1;i<o;i++)t[i][n]=!0}function od(t,e,n,i,o,r){for(var a=Object.keys(t).map(Number).sort(Fi),s={},l=0,u=a.length;l<u;++l)for(var d=t[a[l].toString()],c=void 0,h=0,p=d.length;h<p;){var f=d[h++];f!==c&&(c=f,r.push({items:f.declutterItems,opacity:i}));var m=d[h++];f.execute(e,m,n,s,o)}}var rd=ed,ad=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sd={image:[gu.POLYGON,gu.CIRCLE,gu.LINE_STRING,gu.IMAGE,gu.TEXT],hybrid:[gu.POLYGON,gu.LINE_STRING]},ld={image:[gu.DEFAULT],hybrid:[gu.IMAGE,gu.TEXT,gu.DEFAULT]},ud=function(t){function e(e){var n=t.call(this,e)||this;return n.overlayContext_=null,n.overlayContextUid_,n.overlayPixelTransform_=[1,0,0,1,0,0],n.inverseOverlayPixelTransform_=[1,0,0,1,0,0],n.dirty_=!1,n.renderedLayerRevision_,n.renderTileImageQueue_={},n.tileListenerKeys_={},n.tmpTransform_=[1,0,0,1,0,0],n}return ad(e,t),e.prototype.useContainer=function(e,n,i){var o;e&&2===e.childElementCount&&((o=e.lastElementChild.getContext("2d"))||(e=null));var r=this.containerReused;if(t.prototype.useContainer.call(this,e,n,i),r&&(this.overlayContext_=o||null,this.overlayContextUid_=o?We(o):void 0),!this.overlayContext_){var a=ia(),s=a.canvas.style;s.position="absolute",s.transformOrigin="top left",this.overlayContext_=a,this.overlayContextUid_=We(a)}1===this.container.childElementCount&&this.container.appendChild(this.overlayContext_.canvas)},e.prototype.prepareTile=function(t,e,n,i){var o=!1,r=We(t),a=t.getState();return(a===Jr.LOADED&&t.hifi||a===Jr.ERROR||a===Jr.ABORT)&&r in this.tileListenerKeys_&&(Xi(this.tileListenerKeys_[r]),delete this.tileListenerKeys_[r]),a!==Jr.LOADED&&a!==Jr.ERROR||(this.updateExecutorGroup_(t,e,n),this.tileImageNeedsRender_(t,e,n)&&(o=!0,i&&(this.renderTileImageQueue_[r]=t))),o},e.prototype.getTile=function(e,n,i,o){var r=t.prototype.getTile.call(this,e,n,i,o),a=o.pixelRatio,s=o.viewState,l=s.resolution,u=s.projection;if(r.getState()<Jr.LOADED){r.wantedResolution=l;var d=We(r);if(!(d in this.tileListenerKeys_)){var c=Vi(r,no.CHANGE,this.prepareTile.bind(this,r,a,u,!0));this.tileListenerKeys_[d]=c}}else{var h=o.viewHints;!!(h[fu]||h[mu])&&r.wantedResolution||(r.wantedResolution=l),this.prepareTile(r,a,u,!1)&&this.renderTileImage_(r,o)}return r},e.prototype.isDrawableTile=function(e){return t.prototype.isDrawableTile.call(this,e)&&e.hasContext(this.getLayer())},e.prototype.getTileImage=function(t){return t.getImage(this.getLayer())},e.prototype.prepareFrame=function(e){e.layerStatesArray[e.layerIndex].hasOverlay=!0;var n=this.getLayer().getRevision();return this.renderedLayerRevision_!=n&&(this.renderedTiles.length=0),this.renderedLayerRevision_=n,t.prototype.prepareFrame.call(this,e)},e.prototype.updateExecutorGroup_=function(t,e,n){var i=this.getLayer(),o=i.getRevision(),r=i.getRenderOrder()||null,a=t.wantedResolution,s=t.getReplayState(i);if(s.dirty||s.renderedResolution!==a||s.renderedRevision!=o||s.renderedRenderOrder!=r||s.renderedZ!==t.sourceZ){var l=i.getSource(),u=l.getTileGrid(),d=l.getTileGridForProjection(n).getTileCoordExtent(t.wrappedTileCoord),c=l.getSourceTiles(e,n,t),h=We(i),p=t.executorGroups[h];if(p)for(var f=0,m=p.length;f<m;++f)p[f].dispose();t.executorGroups[h]=[];for(var g=function(n,o){var p=c[n];if(p.getState()!=Jr.LOADED)return"continue";var f=p.tileCoord,m=u.getTileCoordExtent(f),g=zn(d,m),y=En(m,g)?null:mn(g,i.getRenderBuffer()*a,_.tmpExtent);s.dirty=!1;var v=new Au(0,g,a,e,i.getDeclutter()),b=zu(a,e),w=function(t){var e,n=t.getStyleFunction()||i.getStyleFunction();if(n&&(e=n(t,a)),e){var o=this.renderFeature(t,b,e,v);this.dirty_=this.dirty_||o,s.dirty=s.dirty||o}},M=p.getFeatures();r&&r!==s.renderedRenderOrder&&M.sort(r);for(var x=0,L=M.length;x<L;++x){var k=M[x];y&&!Vn(y,k.getGeometry().getExtent())||w.call(_,k)}var T=v.finish(),E=i.getDeclutter()&&1===c.length?null:g,C=new rd(E,a,e,l.getOverlaps(),T,i.getRenderBuffer());t.executorGroups[h].push(C)},_=this,y=0,v=c.length;y<v;++y)g(y);s.renderedRevision=o,s.renderedZ=t.sourceZ,s.renderedRenderOrder=r,s.renderedResolution=a}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){var r=e.viewState.resolution,a=e.viewState.rotation;n=null==n?0:n;var s,l,u,d=this.getLayer(),c=d.getDeclutter(),h=d.getSource().getTileGridForProjection(e.viewState.projection),p={},f=this.renderedTiles,m=function(){var e=f[l],u=yn(h.getTileCoordExtent(e.wrappedTileCoord),t);if(!c&&!u)return"continue";for(var m=e.executorGroups[We(d)],g=0,_=m.length;g<_;++g){var y=m[g];s=s||y.forEachFeatureAtCoordinate(t,r,a,n,{},function(t){if(u||o&&-1!==o.indexOf(t)){var e=t.getId();if(void 0===e&&(e=We(t)),!(e in p))return p[e]=!0,i(t,d)}},d.getDeclutter()?o:null)}};for(l=0,u=f.length;l<u;++l)m();return s},e.prototype.handleFontsChanged=function(){$e(this.renderTileImageQueue_);var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.renderFrame=function(e,n){var i=e.viewHints,o=!(i[fu]||i[mu]);this.renderQueuedTileImages_(o,e),t.prototype.renderFrame.call(this,e,n);var r=this.getLayer(),a=r.getRenderMode();if(a===pu.IMAGE)return this.container;var s=r.getSource(),l=e.usedTiles[We(s)];for(var u in this.renderTileImageQueue_)l&&u in l||delete this.renderTileImageQueue_[u];var d=this.overlayContext_,c=r.getDeclutter()?{}:null,h=ld[a],p=e.pixelRatio,f=e.viewState.rotation,m=e.size;wo(this.overlayPixelTransform_,1/p,1/p),xo(this.inverseOverlayPixelTransform_,this.overlayPixelTransform_);var g=d.canvas,_=Math.round(m[0]*p),y=Math.round(m[1]*p);if(g.width!=_||g.height!=y){g.width=_,g.height=y;var v=Lo(this.overlayPixelTransform_);g.style.transform!==v&&(g.style.transform=v)}else We(d)===this.overlayContextUid_&&d.clearRect(0,0,_,y);for(var b=this.renderedTiles,w=s.getTileGridForProjection(e.viewState.projection),M=[],x=[],L=b.length-1;L>=0;--L){var k=b[L];if(k.getState()!=Jr.ABORT)for(var T=k.tileCoord,E=w.getTileCoordExtent(k.wrappedTileCoord),C=w.getTileCoordExtent(T,this.tmpExtent)[0]-E[0],D=this.getRenderTransform(e,_,y,C),S=k.executorGroups[We(r)],Y=!1,R=0,O=S.length;R<O;++R){var P=S[R];if(P.hasExecutors(h)){var F=k.tileCoord[0],I=void 0;if(!c&&!Y){I=P.getClipCoords(D),d.save();for(var A=0,j=M.length;A<j;++A){var H=M[A];F<x[A]&&(d.beginPath(),d.moveTo(I[0],I[1]),d.lineTo(I[2],I[3]),d.lineTo(I[4],I[5]),d.lineTo(I[6],I[7]),d.moveTo(H[6],H[7]),d.lineTo(H[4],H[5]),d.lineTo(H[2],H[3]),d.lineTo(H[0],H[1]),d.clip())}}P.execute(d,D,f,{},o,h,c),c||Y||(d.restore(),M.push(I),x.push(F),Y=!0)}}}c&&od(c,d,f,e.layerStatesArray[e.layerIndex].opacity,o,e.declutterItems);return this.container},e.prototype.renderQueuedTileImages_=function(t,e){for(var n in this.renderTileImageQueue_){if(!t&&Date.now()-e.time>8){e.animate=!0;break}var i=this.renderTileImageQueue_[n];delete this.renderTileImageQueue_[n],this.renderTileImage_(i,e)}},e.prototype.renderFeature=function(t,e,n,i){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var r=0,a=n.length;r<a;++r)o=Wu(i,t,n[r],e,this.handleStyleImageChange_,this)||o;else o=Wu(i,t,n,e,this.handleStyleImageChange_,this);return o},e.prototype.tileImageNeedsRender_=function(t,e,n){var i=this.getLayer(),o=t.getReplayState(i),r=i.getRevision(),a=t.sourceZ,s=t.wantedResolution;return o.renderedTileResolution!==s||o.renderedTileRevision!==r||o.renderedTileZ!==a},e.prototype.renderTileImage_=function(t,e){var n=this.getLayer(),i=t.getReplayState(n),o=n.getRevision(),r=t.executorGroups[We(n)];i.renderedTileRevision=o,i.renderedTileZ=t.sourceZ;var a=t.wrappedTileCoord,s=a[0],l=n.getSource(),u=e.pixelRatio,d=e.viewState.projection,c=l.getTileGridForProjection(d),h=c.getResolution(t.tileCoord[0]),p=e.pixelRatio/t.wantedResolution*h,f=c.getResolution(s),m=t.getContext(n);u=Math.max(u,p/u);var g=l.getTilePixelSize(s,u,d);m.canvas.width=g[0],m.canvas.height=g[1];var _=u/p;if(1!==_){var y=go(this.tmpTransform_);bo(y,_,_),m.setTransform.apply(m,y)}var v=c.getTileCoordExtent(a,this.tmpExtent),b=p/f,w=go(this.tmpTransform_);bo(w,b,-b),function(t,e,n){_o(t,yo(mo,1,0,0,1,e,n))}(w,-v[0],-v[3]);for(var M=0,x=r.length;M<x;++M){r[M].execute(m,w,0,{},!0,sd[n.getRenderMode()])}i.renderedTileResolution=t.wantedResolution},e.prototype.getDataAtPixel=function(e,n,i){var o=t.prototype.getDataAtPixel.call(this,e,n,i);if(o)return o;var r=vo(this.inverseOverlayPixelTransform_,e.slice()),a=this.overlayContext_;try{o=a.getImageData(Math.round(r[0]),Math.round(r[1]),1,1).data}catch(t){return"SecurityError"===t.name?new Uint8Array:o}return 0===o[3]?null:o},e}(Gl),dd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),cd=function(t){function e(e){var n=this,i=e||{},o=Ze({},i);delete o.preload,delete o.useInterimTilesOnError,n=t.call(this,o)||this;var r=i.renderMode||pu.HYBRID;return Xe(null==r||r==pu.IMAGE||r==pu.HYBRID,28),n.renderMode_=r,n.setPreload(i.preload?i.preload:0),n.setUseInterimTilesOnError(void 0===i.useInterimTilesOnError||i.useInterimTilesOnError),n}return dd(e,t),e.prototype.createRenderer=function(){return new ud(this)},e.prototype.getRenderMode=function(){return this.renderMode_},e.prototype.getPreload=function(){return this.get(al)},e.prototype.getUseInterimTilesOnError=function(){return this.get(sl)},e.prototype.setPreload=function(t){this.set(al,t)},e.prototype.setUseInterimTilesOnError=function(t){this.set(sl,t)},e}(hu),hd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),pd=function(t){function e(e){var n=t.call(this,e)||this;return n.dirty_=!1,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=[1/0,1/0,-1/0,-1/0],n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n}return hd(e,t),e.prototype.useContainer=function(e,n,i){i<1&&(e=null),t.prototype.useContainer.call(this,e,n,i)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,i=t.layerStatesArray[t.layerIndex];wo(this.pixelTransform,1/n,1/n),xo(this.inversePixelTransform,this.pixelTransform),this.useContainer(e,this.pixelTransform,i.opacity);var o=this.context,r=o.canvas,a=this.replayGroup_;if(!a||a.isEmpty())return!this.containerReused&&r.width>0&&(r.width=0),this.container;var s=Math.round(t.size[0]*n),l=Math.round(t.size[1]*n);if(r.width!=s||r.height!=l){r.width=s,r.height=l;var u=Lo(this.pixelTransform);r.style.transform!==u&&(r.style.transform=u)}else this.containerReused||o.clearRect(0,0,s,l);this.preRender(o,t);var d=t.extent,c=t.viewState,h=c.projection,p=c.rotation,f=h.getExtent(),m=this.getLayer().getSource(),g=i.extent,_=void 0!==g;_&&this.clip(o,t,g);var y=t.viewHints,v=!(y[fu]||y[mu]),b=this.getRenderTransform(t,s,l,0),w=i.managed?t.skippedFeatureUids:{},M=this.getLayer().getDeclutter()?{}:null;if(a.execute(o,b,p,w,v,void 0,M),m.getWrapX()&&h.canWrapX()&&!vn(f,d)){for(var x=d[0],L=Bn(f),k=0,T=void 0;x<f[0];){T=L*--k;var E=this.getRenderTransform(t,s,l,T);a.execute(o,E,p,w,v,void 0,M),x+=L}for(k=0,x=d[2];x>f[2];){T=L*++k;var C=this.getRenderTransform(t,s,l,T);a.execute(o,C,p,w,v,void 0,M),x-=L}}if(M){var D=t.viewHints;od(M,o,p,1,!(D[fu]||D[mu]),t.declutterItems)}_&&o.restore(),this.postRender(o,t);var S=i.opacity,Y=this.container;return S!==parseFloat(Y.style.opacity)&&(Y.style.opacity=1===S?"":S),this.container},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o){if(this.replayGroup_){var r=e.viewState.resolution,a=e.viewState.rotation,s=this.getLayer(),l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,r,a,n,{},function(t){var e=We(t);if(!(e in l))return l[e]=!0,i(t,s)},s.getDeclutter()?o:null)}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource(),i=t.viewHints[fu],o=t.viewHints[mu],r=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!r&&i||!a&&o)return!0;var s=t.extent,l=t.viewState,u=l.projection,d=l.resolution,c=t.pixelRatio,h=e.getRevision(),p=e.getRenderBuffer(),f=e.getRenderOrder();void 0===f&&(f=Nu);var m=mn(s,p*d),g=l.projection.getExtent();if(n.getWrapX()&&l.projection.canWrapX()&&!vn(g,t.extent)){var _=Bn(g),y=Math.max(Bn(m)/2,_);m[0]=g[0]-y,m[2]=g[2]+y}if(!this.dirty_&&this.renderedResolution_==d&&this.renderedRevision_==h&&this.renderedRenderOrder_==f&&vn(this.renderedExtent_,m))return this.replayGroupChanged=!1,!0;this.replayGroup_&&this.replayGroup_.dispose(),this.replayGroup_=null,this.dirty_=!1;var v=new Au(Gu(d,c),m,d,c,e.getDeclutter());n.loadFeatures(m,d,u);var b=zu(d,c),w=function(t){var n,i=t.getStyleFunction()||e.getStyleFunction();if(i&&(n=i(t,d)),n){var o=this.renderFeature(t,b,n,v);this.dirty_=this.dirty_||o}}.bind(this);if(f){var M=[];n.forEachFeatureInExtent(m,function(t){M.push(t)}),M.sort(f);for(var x=0,L=M.length;x<L;++x)w(M[x])}else n.forEachFeatureInExtent(m,w);var k=v.finish(),T=new rd(m,d,c,n.getOverlaps(),k,e.getRenderBuffer());return this.renderedResolution_=d,this.renderedRevision_=h,this.renderedRenderOrder_=f,this.renderedExtent_=m,this.replayGroup_=T,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i){if(!n)return!1;var o=!1;if(Array.isArray(n))for(var r=0,a=n.length;r<a;++r)o=Wu(i,t,n[r],e,this.handleStyleImageChange_,this)||o;else o=Wu(i,t,n,e,this.handleStyleImageChange_,this);return o},e}(Hl),fd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),md=function(t){function e(e){return t.call(this,e)||this}return fd(e,t),e.prototype.createRenderer=function(){return new pd(this)},e}(hu),gd={FRACTION:"fraction",PIXELS:"pixels"},_d=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var i=yd(t,e,n);return i in this.cache_?this.cache_[i]:null},t.prototype.set=function(t,e,n,i){var o=yd(t,e,n);this.cache_[o]=i,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function yd(t,e,n){return e+":"+t+":"+(n?function(t){return"string"==typeof t?t:Kl(t)}(n):"null")}var vd=new _d,bd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wd=function(t){function e(e,n,i,o,r,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==o&&(s.image_.crossOrigin=o),s.canvas_=a?document.createElement("canvas"):null,s.color_=a,s.unlisten_=null,s.imageState_=r,s.size_=i,s.src_=n,s.tainted_,s}return bd(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===ca.LOADED){this.tainted_=!1;var t=ia(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(no.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=ca.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=ca.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=ia(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==ca.IDLE){this.imageState_=ca.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=ba(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,i=this.color_[0]/255,o=this.color_[1]/255,r=this.color_[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=i,n[a+1]*=o,n[a+2]*=r;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(eo);var Md={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},xd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ld=function(t){function e(e){var n=this,i=e||{},o=void 0!==i.opacity?i.opacity:1,r=void 0!==i.rotation?i.rotation:0,a=void 0!==i.scale?i.scale:1,s=void 0!==i.rotateWithView&&i.rotateWithView;(n=t.call(this,{opacity:o,rotation:r,scale:a,rotateWithView:s})||this).anchor_=void 0!==i.anchor?i.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==i.anchorOrigin?i.anchorOrigin:Md.TOP_LEFT,n.anchorXUnits_=void 0!==i.anchorXUnits?i.anchorXUnits:gd.FRACTION,n.anchorYUnits_=void 0!==i.anchorYUnits?i.anchorYUnits:gd.FRACTION,n.crossOrigin_=void 0!==i.crossOrigin?i.crossOrigin:null;var l=void 0!==i.img?i.img:null,u=void 0!==i.imgSize?i.imgSize:null,d=i.src;Xe(!(void 0!==d&&l),4),Xe(!l||l&&u,5),void 0!==d&&0!==d.length||!l||(d=l.src||We(l)),Xe(void 0!==d&&d.length>0,6);var c,h=void 0!==i.src?ca.IDLE:ca.LOADED;return n.color_=void 0!==i.color?(c=i.color,Array.isArray(c)?c:Ul(c)):null,n.iconImage_=function(t,e,n,i,o,r){var a=vd.get(e,i,r);return a||(a=new wd(t,e,n,i,o,r),vd.set(e,i,r,a)),a}(l,d,u,n.crossOrigin_,h,n.color_),n.offset_=void 0!==i.offset?i.offset:[0,0],n.offsetOrigin_=void 0!==i.offsetOrigin?i.offsetOrigin:Md.TOP_LEFT,n.origin_=null,n.size_=void 0!==i.size?i.size:null,n}return xd(e,t),e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==gd.FRACTION||this.anchorYUnits_==gd.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==gd.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==gd.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=Md.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Md.TOP_RIGHT&&this.anchorOrigin_!=Md.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=Md.BOTTOM_LEFT&&this.anchorOrigin_!=Md.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Md.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=Md.TOP_RIGHT&&this.offsetOrigin_!=Md.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=Md.BOTTOM_LEFT&&this.offsetOrigin_!=Md.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return Vi(this.iconImage_,no.CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){Ui(this.iconImage_,no.CHANGE,t,e)},e}(Zl),kd="#333",Td=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new nu({color:kd}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:Ou.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}(),Ed=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var o=this.points_[e]-this.points_[n],r=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(r,o),this.initialVelocity_=Math.sqrt(o*o+r*r)/i,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),Cd={SINGLECLICK:"singleclick",CLICK:no.CLICK,DBLCLICK:no.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Dd={ACTIVE:"active"},Sd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Yd(t,e,n,i){var o=t.getZoom();if(void 0!==o){var r=t.getConstrainedZoom(o+e),a=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:$r})}}var Rd=function(t){function e(e){var n=t.call(this)||this;return e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return Sd(e,t),e.prototype.getActive=function(){return this.get(Dd.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(Dd.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(co),Od=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Pd(t){var e=!1;if(t.type==Cd.DBLCLICK){var n=t.originalEvent,i=t.map,o=t.coordinate,r=n.shiftKey?-this.delta_:this.delta_;Yd(i.getView(),r,o,this.duration_),t.preventDefault(),e=!0}return!e}var Fd=function(t){function e(e){var n=t.call(this,{handleEvent:Pd})||this,i=e||{};return n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:250,n}return Od(e,t),e}(Rd);function Id(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function Ad(t,e){var n=Math.cos(e),i=Math.sin(e),o=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=o,t[1]=r,t}function jd(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}var Hd=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Nd=function(t){return t.target.getTargetElement()===document.activeElement},zd=Ji,Gd=function(t){return t.type==Cd.CLICK},Wd=function(t){var e=t.originalEvent;return 0==e.button&&!(ma&&ga&&e.ctrlKey)},Bd=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Vd=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},qd=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},Ud=function(t){var e=t.pointerEvent;return Xe(void 0!==e,56),"mouse"==e.pointerType},Xd=function(t){var e=t.pointerEvent;return Xe(void 0!==e,56),e.isPrimary&&0===e.button},Kd=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Jd(t){for(var e=t.length,n=0,i=0,o=0;o<e;o++)n+=t[o].clientX,i+=t[o].clientY;return[n/e,i/e]}var Zd=function(t){function e(e){var n=this,i=e||{};return n=t.call(this,i)||this,i.handleDownEvent&&(n.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(n.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(n.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(n.handleUpEvent=i.handleUpEvent),i.stopDown&&(n.stopDown=i.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return Kd(e,t),e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Cd.POINTERDRAG)this.handleDragEvent(t);else if(t.type==Cd.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==Cd.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==Cd.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===Cd.POINTERDOWN||e===Cd.POINTERDRAG||e===Cd.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==Cd.POINTERUP?delete this.trackedPointers_[n]:t.type==Cd.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=Qe(this.trackedPointers_)}},e}(Rd),$d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Qd(t){return Bd(t)&&Xd(t)}var tc=function(t){function e(e){var n=t.call(this,{stopDown:Zi})||this,i=e||{};return n.kinetic_=i.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1,n.condition_=i.condition?i.condition:Qd,n.noKinetic_=!1,n}return $d(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e,n,i=this.targetPointers,o=Jd(i);if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var r=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],a=t.map.getView();e=r,n=a.getResolution(),e[0]*=n,e[1]*=n,Ad(r,a.getRotation()),a.adjustCenter(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=o,this.lastPointersCount_=i.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),r=n.getCenter(),a=e.getPixelFromCoordinate(r),s=e.getCoordinateFromPixel([a[0]-i*Math.cos(o),a[1]-i*Math.sin(o)]);n.animate({center:n.getConstrainedCenter(s),duration:500,easing:$r})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Zd);function ec(t){return void 0!==t?0:void 0}function nc(t){return void 0!==t?t:void 0}var ic=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),oc=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,{stopDown:Zi})||this).condition_=i.condition?i.condition:Hd,n.lastAngle_=void 0,n.duration_=void 0!==i.duration?i.duration:250,n}return ic(e,t),e.prototype.handleDragEvent=function(t){if(Ud(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==ec){var i=e.getSize(),o=t.pixel,r=Math.atan2(i[1]/2-o[1],o[0]-i[0]/2);if(void 0!==this.lastAngle_){var a=r-this.lastAngle_;n.adjustRotation(-a)}this.lastAngle_=r}}},e.prototype.handleUpEvent=function(t){return!Ud(t)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){return!!Ud(t)&&(!(!Wd(t)||!this.condition_(t))&&(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))},e}(Zd),rc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),ac=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return rc(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new xr([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(Ki),sc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),lc="boxstart",uc="boxdrag",dc="boxend",cc=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.coordinate=n,o.mapBrowserEvent=i,o}return sc(e,t),e}(Qi),hc=function(t){function e(e){var n=t.call(this)||this,i=e||{};return n.box_=new ac(i.className||"ol-dragbox"),n.minArea_=void 0!==i.minArea?i.minArea:64,n.onBoxEnd_=i.onBoxEnd?i.onBoxEnd:$i,n.startPixel_=null,n.condition_=i.condition?i.condition:zd,n.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:n.defaultBoxEndCondition,n}return sc(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],o=n[1]-e[1];return i*i+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Ud(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new cc(uc,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Ud(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new cc(dc,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!Ud(t)&&(!(!Wd(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new cc(lc,t.coordinate,t)),!0))},e}(Zd),pc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function fc(){var t,e,n=this.getMap(),i=n.getView(),o=n.getSize(),r=this.getGeometry().getExtent();if(this.out_){var a=i.calculateExtent(o),s=(t=[n.getPixelFromCoordinate(Fn(r)),n.getPixelFromCoordinate(Wn(r))],Sn(Ln(e),t));!function(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}(a,1/i.getResolutionForExtent(s,o)),r=a}var l=i.getConstrainedResolution(i.getResolutionForExtent(r,o)),u=i.getConstrainedCenter(An(r),l);i.animate({resolution:l,center:u,duration:this.duration_,easing:$r})}var mc=function(t){function e(e){var n=this,i=e||{},o=i.condition?i.condition:Vd;return(n=t.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea,onBoxEnd:fc})||this).duration_=void 0!==i.duration?i.duration:200,n.out_=void 0!==i.out&&i.out,n}return pc(e,t),e}(hc),gc={LEFT:37,UP:38,RIGHT:39,DOWN:40},_c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function yc(t){var e=!1;if(t.type==no.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==gc.DOWN||n==gc.LEFT||n==gc.RIGHT||n==gc.UP)){var i=t.map.getView(),o=i.getResolution()*this.pixelDelta_,r=0,a=0;n==gc.DOWN?a=-o:n==gc.LEFT?r=-o:n==gc.RIGHT?r=o:a=o;var s=[r,a];Ad(s,i.getRotation()),function(t,e,n){var i=t.getCenter();if(i){var o=[i[0]+e[0],i[1]+e[1]];t.animate_({duration:void 0!==n?n:250,easing:ta,center:t.getConstrainedCenter(o)})}}(i,s,this.duration_),t.preventDefault(),e=!0}}return!e}var vc=function(t){function e(e){var n=t.call(this,{handleEvent:yc})||this,i=e||{};return n.defaultCondition_=function(t){return Bd(t)&&qd(t)},n.condition_=void 0!==i.condition?i.condition:n.defaultCondition_,n.duration_=void 0!==i.duration?i.duration:100,n.pixelDelta_=void 0!==i.pixelDelta?i.pixelDelta:128,n}return _c(e,t),e}(Rd),bc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function wc(t){var e=!1;if(t.type==no.KEYDOWN||t.type==no.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,o=n=="+".charCodeAt(0)?this.delta_:-this.delta_;Yd(i.getView(),o,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var Mc=function(t){function e(e){var n=t.call(this,{handleEvent:wc})||this,i=e||{};return n.condition_=i.condition?i.condition:qd,n.delta_=i.delta?i.delta:1,n.duration_=void 0!==i.duration?i.duration:100,n}return bc(e,t),e}(Rd),xc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Lc="trackpad",kc="wheel",Tc=function(t){function e(e){var n=this,i=e||{};return(n=t.call(this,i)||this).totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==i.maxDelta?i.maxDelta:1,n.duration_=void 0!==i.duration?i.duration:250,n.timeout_=void 0!==i.timeout?i.timeout:80,n.useAnchor_=void 0===i.useAnchor||i.useAnchor,n.condition_=i.condition?i.condition:zd,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.trackpadDeltaPerZoom_=300,n}return xc(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==no.WHEEL&&e!==no.MOUSEWHEEL)return!0;t.preventDefault();var n,i=t.map,o=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==no.WHEEL?(n=o.deltaY,pa&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=_a),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==no.MOUSEWHEEL&&(n=-o.wheelDeltaY,fa&&(n/=3)),0===n)return!1;this.lastDelta_=n;var r=Date.now();if(void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?Lc:kc),this.mode_===Lc){var a=i.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):a.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),a.adjustZoom(-n/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1}this.totalDelta_+=n;var s=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),s),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations(),Yd(e,-en(this.totalDelta_,-this.maxDelta_,this.maxDelta_),this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Rd),Ec=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cc=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=Zi),(n=t.call(this,o)||this).anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==i.threshold?i.threshold:.3,n.duration_=void 0!==i.duration?i.duration:250,n}return Ec(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],o=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var r=o-this.lastAngle_;this.rotationDelta_+=r,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=r}this.lastAngle_=o;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==ec){var l=a.getViewport().getBoundingClientRect(),u=Jd(this.targetPointers);u[0]-=l.left,u[1]-=l.top,this.anchor_=a.getCoordinateFromPixel(u),this.rotating_&&(a.render(),s.adjustRotation(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){return!(this.targetPointers.length<2)||(t.map.getView().endInteraction(this.duration_),!1)},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Zd),Dc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sc=function(t){function e(e){var n=this,i=e||{},o=i;return o.stopDown||(o.stopDown=Zi),(n=t.call(this,o)||this).anchor_=null,n.duration_=void 0!==i.duration?i.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return Dc(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],o=n.clientX-i.clientX,r=n.clientY-i.clientY,a=Math.sqrt(o*o+r*r);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,l=s.getView();1!=e&&(this.lastScaleDelta_=e);var u=s.getViewport().getBoundingClientRect(),d=Jd(this.targetPointers);d[0]-=u.left,d[1]-=u.top,this.anchor_=s.getCoordinateFromPixel(d),s.render(),l.adjustResolution(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView(),n=this.lastScaleDelta_>1?1:-1;return e.endInteraction(this.duration_,n),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Zd);function Yc(t){var e=t||{},n=new Os,i=new Ed(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new oc),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new Fd({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new tc({condition:e.onFocusOnly?Nd:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new Cc),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new Sc({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new vc),n.push(new Mc({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new Tc({condition:e.onFocusOnly?Nd:void 0,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new mc({duration:e.zoomDuration})),n}var Rc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oc=function(t){function e(e,n,i){var o=t.call(this,e)||this;return o.map=n,o.frameState=void 0!==i?i:null,o}return Rc(e,t),e}(Qi),Pc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fc=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,r)||this;return a.originalEvent=i,a.pixel=n.getEventPixel(i),a.coordinate=n.getCoordinateFromPixel(a.pixel),a.dragging=void 0!==o&&o,a}return Pc(e,t),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(Oc),Ic=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ac=function(t){function e(e,n,i,o,r){var a=t.call(this,e,n,i.originalEvent,o,r)||this;return a.pointerEvent=i,a}return Ic(e,t),e}(Fc),jc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Hc=function(t){function e(e,n,i){var o=t.call(this)||this;if(void 0!==i&&void 0===n)o.setFlatCoordinates(i,e);else{var r=n||0;o.setCenterAndRadius(e,r,i)}return o}return jc(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var o=this.flatCoordinates,r=t-o[0],a=e-o[1],s=r*r+a*a;if(s<i){if(0===s)for(var l=0;l<this.stride;++l)n[l]=o[l];else{var u=this.getRadius()/Math.sqrt(s);n[0]=o[0]+u*r,n[1]=o[1]+u*a;for(l=2;l<this.stride;++l)n[l]=o[l]}return n.length=this.stride,s}return i},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,i=t-n[0],o=e-n[1];return i*i+o*o<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return xn(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return un.CIRCLE},e.prototype.intersectsExtent=function(t){if(Vn(t,this.getExtent())){var e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||(t[1]<=e[1]&&t[3]>=e[1]||On(t,this.intersectsCoordinate.bind(this)))}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(var o=1;o<e;++o)i[e+o]=t[o];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,o=Io(i,0,t,this.stride);i[o++]=i[0]+e;for(var r=1,a=this.stride;r<a;++r)i[o++]=i[r];i.length=o,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,e){var n=this.getCenter(),i=this.getStride();this.setCenter(po(n,0,n.length,i,t,e,n)),this.changed()},e.prototype.translate=function(t,e){var n=this.getCenter(),i=this.getStride();this.setCenter(fo(n,0,n.length,i,t,e,n)),this.changed()},e}(So);Hc.prototype.transform;var Nc=Hc,zc=function(){function t(t,e){this.dispatcher=t,this.mapping_=e}return t.prototype.getEvents=function(){return Object.keys(this.mapping_)},t.prototype.getHandlerForEvent=function(t){return this.mapping_[t]},t}(),Gc=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wc=1,Bc="mouse";function Vc(t){if(!this.isEventSimulatedFromTouch_(t)){Wc.toString()in this.pointerMap&&this.cancel(t);var e=Jc(t,this.dispatcher);this.pointerMap[Wc.toString()]=t,this.dispatcher.down(e,t)}}function qc(t){if(!this.isEventSimulatedFromTouch_(t)){var e=Jc(t,this.dispatcher);this.dispatcher.move(e,t)}}function Uc(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[Wc.toString()];if(e&&e.button===t.button){var n=Jc(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}}function Xc(t){if(!this.isEventSimulatedFromTouch_(t)){var e=Jc(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function Kc(t){if(!this.isEventSimulatedFromTouch_(t)){var e=Jc(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function Jc(t,e){var n=e.cloneEvent(t,t),i=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),i()},n.pointerId=Wc,n.isPrimary=!0,n.pointerType=Bc,n}var Zc=function(t){function e(e){var n=this,i={mousedown:Vc,mousemove:qc,mouseup:Uc,mouseover:Xc,mouseout:Kc};return(n=t.call(this,e,i)||this).pointerMap=e.pointerMap,n.lastTouches=[],n}return Gc(e,t),e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,n=t.clientX,i=t.clientY,o=0,r=e.length,a=void 0;o<r&&(a=e[o]);o++){var s=Math.abs(n-a[0]),l=Math.abs(i-a[1]);if(s<=25&&l<=25)return!0}return!1},e.prototype.cancel=function(t){var e=Jc(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[Wc.toString()]},e}(zc),$c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Qc={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},th="drawstart",eh="drawend",nh=function(t){function e(e,n){var i=t.call(this,e)||this;return i.feature=n,i}return $c(e,t),e}(Qi);function ih(){return function(t,e){var n=fn(t),i=[[Fn(n),In(n),Wn(n),Gn(n),Fn(n)]],o=e;return o?o.setCoordinates(i):o=new xr(i),o}}var oh=function(t){function e(e){var n=this,i=e;i.stopDown||(i.stopDown=Zi),(n=t.call(this,i)||this).shouldHandle_=!1,n.downPx_=null,n.downTimeout_,n.lastDragTime_,n.freehand_=!1,n.source_=e.source?e.source:null,n.features_=e.features?e.features:null,n.snapTolerance_=e.snapTolerance?e.snapTolerance:12,n.type_=e.type,n.mode_=function(t){var e;t===un.POINT||t===un.MULTI_POINT?e=Qc.POINT:t===un.LINE_STRING||t===un.MULTI_LINE_STRING?e=Qc.LINE_STRING:t===un.POLYGON||t===un.MULTI_POLYGON?e=Qc.POLYGON:t===un.CIRCLE&&(e=Qc.CIRCLE);return e}(n.type_),n.stopClick_=!!e.stopClick,n.minPoints_=e.minPoints?e.minPoints:n.mode_===Qc.POLYGON?3:2,n.maxPoints_=e.maxPoints?e.maxPoints:1/0,n.finishCondition_=e.finishCondition?e.finishCondition:Ji;var o,r=e.geometryFunction;if(!r)if(n.type_===un.CIRCLE)r=function(t,e){var n=e||new Nc([NaN,NaN]),i=jd(t[0],t[1]);return n.setCenterAndRadius(t[0],Math.sqrt(i)),n};else{var a,s=n.mode_;s===Qc.POINT?a=sr:s===Qc.LINE_STRING?a=ir:s===Qc.POLYGON&&(a=xr),r=function(t,e){var n=e;return n?s===Qc.POLYGON?t[0].length?n.setCoordinates([t[0].concat([t[0][0]])]):n.setCoordinates([]):n.setCoordinates(t):n=new a(t),n}}return n.geometryFunction_=r,n.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,n.finishCoordinate_=null,n.sketchFeature_=null,n.sketchPoint_=null,n.sketchCoords_=null,n.sketchLine_=null,n.sketchLineCoords_=null,n.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,n.overlay_=new md({source:new Vs({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:(o=su(),function(t,e){return o[t.getGeometry().getType()]}),updateWhileInteracting:!0}),n.geometryName_=e.geometryName,n.condition_=e.condition?e.condition:Bd,n.freehandCondition_,e.freehand?n.freehandCondition_=zd:n.freehandCondition_=e.freehandCondition?e.freehandCondition:Vd,Vi(n,uo(Dd.ACTIVE),n.updateState_,n),n}return $c(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===no.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==Qc.POINT&&this.freehandCondition_(e);var n=e.type===Cd.POINTERMOVE,i=!0;!this.freehand_&&this.lastDragTime_&&e.type===Cd.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===Cd.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),i=!1):this.freehand_&&e.type===Cd.POINTERDOWN?i=!1:n?(i=e.type===Cd.POINTERMOVE)&&this.freehand_?i=this.handlePointerMove_(e):(e.pointerEvent.pointerType==Bc||e.type===Cd.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===Cd.DBLCLICK&&(i=!1),t.prototype.handleEvent.call(this,e)&&i},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Ac(Cd.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var n=this.mode_===Qc.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||n?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===Qc.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},e.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,i=e[0]-n[0],o=e[1]-n[1],r=i*i+o*o;if(this.shouldHandle_=this.freehand_?r>this.squaredClickTolerance_:r<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,i=[this.finishCoordinate_];if(this.mode_===Qc.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===Qc.POLYGON){var o=this.sketchCoords_;n=o[0].length>this.minPoints_,i=[o[0][0],o[0][o[0].length-2]]}if(n)for(var r=t.map,a=0,s=i.length;a<s;a++){var l=i[a],u=r.getPixelFromCoordinate(l),d=t.pixel,c=d[0]-u[0],h=d[1]-u[1],p=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(c*c+h*h)<=p){this.finishCoordinate_=l;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){var e=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(e):(this.sketchPoint_=new jr(new sr(e)),this.updateSketchFeatures_())},e.prototype.startDrawing_=function(t){var e=t.coordinate;this.finishCoordinate_=e,this.mode_===Qc.POINT?this.sketchCoords_=e.slice():this.mode_===Qc.POLYGON?(this.sketchCoords_=[[e.slice(),e.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[e.slice(),e.slice()],this.sketchLineCoords_&&(this.sketchLine_=new jr(new ir(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new jr,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new nh(th,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,n,i,o=t.coordinate,r=this.sketchFeature_.getGeometry();(this.mode_===Qc.POINT?n=this.sketchCoords_:this.mode_===Qc.POLYGON?(n=(e=this.sketchCoords_[0])[e.length-1],this.atFinish_(t)&&(o=this.finishCoordinate_.slice())):n=(e=this.sketchCoords_)[e.length-1],n[0]=o[0],n[1]=o[1],this.geometryFunction_(this.sketchCoords_,r),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(o);if(r.getType()==un.POLYGON&&this.mode_!==Qc.POLYGON){this.sketchLine_||(this.sketchLine_=new jr);var a=r.getLinearRing(0);(i=this.sketchLine_.getGeometry())?(i.setFlatCoordinates(a.getLayout(),a.getFlatCoordinates()),i.changed()):(i=new ir(a.getFlatCoordinates(),a.getLayout()),this.sketchLine_.setGeometry(i))}else this.sketchLineCoords_&&(i=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,n,i=t.coordinate,o=this.sketchFeature_.getGeometry();this.mode_===Qc.LINE_STRING?(this.finishCoordinate_=i.slice(),(n=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(i.slice()),this.geometryFunction_(n,o)):this.mode_===Qc.POLYGON&&((n=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(i.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,o)),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===Qc.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===Qc.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,n=t.getGeometry();this.mode_===Qc.LINE_STRING?(e.pop(),this.geometryFunction_(e,n)):this.mode_===Qc.POLYGON&&(e[0].pop(),this.geometryFunction_(e,n),e=n.getCoordinates()),this.type_===un.MULTI_POINT?t.setGeometry(new ur([e])):this.type_===un.MULTI_LINE_STRING?t.setGeometry(new rr([e])):this.type_===un.MULTI_POLYGON&&t.setGeometry(new Er([e])),this.dispatchEvent(new nh(eh,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},e.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var n=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=n.slice(),this.sketchCoords_.push(n.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new nh(th,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},e}(Zd),rh={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ah=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),sh=["","unavailable","touch","pen","mouse"];function lh(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function uh(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function dh(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function ch(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function hh(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function ph(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function fh(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function mh(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var gh=function(t){function e(e){var n=this,i={MSPointerDown:lh,MSPointerMove:uh,MSPointerUp:dh,MSPointerOut:ch,MSPointerOver:hh,MSPointerCancel:ph,MSGotPointerCapture:mh,MSLostPointerCapture:fh};return(n=t.call(this,e,i)||this).pointerMap=e.pointerMap,n}return ah(e,t),e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=sh[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(zc),_h=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function yh(t){this.dispatcher.fireNativeEvent(t)}function vh(t){this.dispatcher.fireNativeEvent(t)}function bh(t){this.dispatcher.fireNativeEvent(t)}function wh(t){this.dispatcher.fireNativeEvent(t)}function Mh(t){this.dispatcher.fireNativeEvent(t)}function xh(t){this.dispatcher.fireNativeEvent(t)}function Lh(t){this.dispatcher.fireNativeEvent(t)}function kh(t){this.dispatcher.fireNativeEvent(t)}var Th=function(t){function e(e){var n={pointerdown:yh,pointermove:vh,pointerup:bh,pointerout:wh,pointerover:Mh,pointercancel:xh,gotpointercapture:kh,lostpointercapture:Lh};return t.call(this,e,n)||this}return _h(e,t),e}(zc),Eh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ch=!1,Dh=function(t){function e(e,n,i){var o=t.call(this,e)||this;o.originalEvent=n;var r=i||{};return o.buttons=function(t){var e;if(t.buttons||Ch)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(r),o.pressure=function(t,e){var n=0;n=t.pressure?t.pressure:e?.5:0;return n}(r,o.buttons),o.bubbles="bubbles"in r&&r.bubbles,o.cancelable="cancelable"in r&&r.cancelable,o.view="view"in r?r.view:null,o.detail="detail"in r?r.detail:null,o.screenX="screenX"in r?r.screenX:0,o.screenY="screenY"in r?r.screenY:0,o.clientX="clientX"in r?r.clientX:0,o.clientY="clientY"in r?r.clientY:0,o.ctrlKey="ctrlKey"in r&&r.ctrlKey,o.altKey="altKey"in r&&r.altKey,o.shiftKey="shiftKey"in r&&r.shiftKey,o.metaKey="metaKey"in r&&r.metaKey,o.button="button"in r?r.button:0,o.relatedTarget="relatedTarget"in r?r.relatedTarget:null,o.pointerId="pointerId"in r?r.pointerId:0,o.width="width"in r?r.width:0,o.height="height"in r?r.height:0,o.tiltX="tiltX"in r?r.tiltX:0,o.tiltY="tiltY"in r?r.tiltY:0,o.pointerType="pointerType"in r?r.pointerType:"",o.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,o.isPrimary="isPrimary"in r&&r.isPrimary,n.preventDefault&&(o.preventDefault=function(){n.preventDefault()}),o}return Eh(e,t),e}(Qi);!function(){try{var t=new MouseEvent("click",{buttons:1});Ch=1===t.buttons}catch(t){}}();var Sh=Dh,Yh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function Rh(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function Oh(t){this.processTouches_(t,this.moveOverOut_)}function Ph(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function Fh(t){this.processTouches_(t,this.cancelOut_)}var Ih=function(t){function e(e,n){var i=this,o={touchstart:Rh,touchmove:Oh,touchend:Ph,touchcancel:Fh};return(i=t.call(this,e,o)||this).pointerMap=e.pointerMap,i.mouseSource=n,i.firstTouchId_=void 0,i.clickCount_=0,i.resetId_,i.dedupTimeout_=2500,i}return Yh(e,t),e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&Wc.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.radiusX||0,n.height=e.radiusY||0,n.pressure=e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType="touch",n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},e.prototype.processTouches_=function(t,e){var n=Array.prototype.slice.call(t.changedTouches),i=n.length;function o(){t.preventDefault()}for(var r=0;r<i;++r){var a=this.touchToPointer_(t,n[r]);a.preventDefault=o,e.call(this,t,a)}},e.prototype.findTouch_=function(t,e){for(var n=t.length,i=0;i<n;i++){if(t[i].identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),i=n.length;if(i>=e.length){for(var o=[],r=0;r<i;++r){var a=Number(n[r]),s=this.pointerMap[a];a==Wc||this.findTouch_(e,a-2)||o.push(s.out)}for(r=0;r<o.length;++r)this.cancelOut_(t,o[r])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var n=e,i=this.pointerMap[n.pointerId];if(i){var o=i.out,r=i.outTarget;this.dispatcher.move(n,t),o&&r!==n.target&&(o.relatedTarget=n.target,n.relatedTarget=r,o.target=r,n.target?(this.dispatcher.leaveOut(o,t),this.dispatcher.enterOver(n,t)):(n.target=r,n.relatedTarget=null,this.cancelOut_(t,n))),i.out=n,i.outTarget=n.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var i=[n.clientX,n.clientY];e.push(i),setTimeout(function(){var t,n,o;n=i,o=(t=e).indexOf(n),o>-1&&t.splice(o,1)},this.dedupTimeout_)}},e}(zc),Ah=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),jh=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],Hh=function(t){function e(e){var n=t.call(this)||this;return n.element_=e,n.pointerMap={},n.eventMap_={},n.eventSourceList_=[],n.registerSources(),n}return Ah(e,t),e.prototype.registerSources=function(){if("PointerEvent"in window)this.registerSource("native",new Th(this));else if(window.navigator.msPointerEnabled)this.registerSource("ms",new gh(this));else{var t=new Zc(this);this.registerSource("mouse",t),"ontouchstart"in window&&this.registerSource("touch",new Ih(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var n=e,i=n.getEvents();i&&(i.forEach(function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}.bind(this)),this.eventSourceList_.push(n))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.addEvents_(n.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.removeEvents_(n.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){Vi(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){Ui(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var n={},i=0,o=jh.length;i<o;i++){var r=jh[i][0];n[r]=t[r]||e[r]||jh[i][1]}return n},e.prototype.down=function(t,e){this.fireEvent(rh.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(rh.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(rh.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(rh.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(rh.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(rh.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(rh.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(rh.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,n){return new Sh(t,n,e)},e.prototype.fireEvent=function(t,e,n){var i=this.makeEvent(t,e,n);this.dispatchEvent(i)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,Jc(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(eo),Nh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),zh=function(t){function e(e,n){var i=t.call(this)||this;i.map_=e,i.clickTimeoutId_,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=n?n*_a:_a,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.pointerEventHandler_=new Hh(o),i.documentPointerEventHandler_=null,i.pointerdownListenerKey_=Vi(i.pointerEventHandler_,rh.POINTERDOWN,i.handlePointerDown_,i),i.relayedListenerKey_=Vi(i.pointerEventHandler_,rh.POINTERMOVE,i.relayEvent_,i),i}return Nh(e,t),e.prototype.emulateClick_=function(t){var e=new Ac(Cd.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Ac(Cd.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new Ac(Cd.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==Cd.POINTERUP||e.type==Cd.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==Cd.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Ac(Cd.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(Xi),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new Ac(Cd.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new Hh(document),this.dragListenerKeys_.push(Vi(this.documentPointerEventHandler_,Cd.POINTERMOVE,this.handlePointerMove_,this),Vi(this.documentPointerEventHandler_,Cd.POINTERUP,this.handlePointerUp_,this),Vi(this.pointerEventHandler_,Cd.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new Ac(Cd.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Ac(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Xi(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Xi(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Xi),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(eo),Gh="postrender",Wh="movestart",Bh="moveend",Vh={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},qh=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,$e(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},t.prototype.enqueue=function(t){Xe(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,o=e[t],r=n[t],a=t;t<i>>1;){var s=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<i&&n[l]<n[s]?l:s;e[t]=e[u],n[t]=n[u],t=u}e[t]=o,n[t]=r,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,o=n[e],r=i[e];e>t;){var a=this.getParentIndex_(e);if(!(i[a]>r))break;n[e]=n[a],i[e]=i[a],e=a}n[e]=o,i[e]=r},t.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,o=this.elements_,r=this.priorities_,a=0,s=o.length;for(e=0;e<s;++e)(n=i(t=o[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(r[a]=n,o[a++]=t);o.length=a,r.length=a,this.heapify_()},t}(),Uh=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xh=function(t){function e(e,n){var i=t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()})||this;return i.tileChangeCallback_=n,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return Uh(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);n&&Vi(e[0],no.CHANGE,this.handleTileChange,this);return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(e.hifi&&n===Jr.LOADED||n===Jr.ERROR||n===Jr.EMPTY||n===Jr.ABORT){Ui(e,no.CHANGE,this.handleTileChange,this);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,o,r=0,a=!1;this.tilesLoading_<t&&r<e&&this.getCount()>0;)o=(i=this.dequeue()[0]).getKey(),(n=i.getState())===Jr.ABORT?a=!0:n!==Jr.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,i.load());0===r&&a&&this.tileChangeCallback_()},e}(qh);function Kh(t,e,n){return function(i,o,r,a){if(i){var s=e?0:r[0]*o,l=e?0:r[1]*o,u=t[0]+s/2,d=t[2]-s/2,c=t[1]+l/2,h=t[3]-l/2;u>d&&(u=d=(d+u)/2),c>h&&(c=h=(h+c)/2);var p=en(i[0],u,d),f=en(i[1],c,h),m=30*o;return a&&n&&(p+=-m*Math.log(1+Math.max(0,u-i[0])/m)+m*Math.log(1+Math.max(0,i[0]-d)/m),f+=-m*Math.log(1+Math.max(0,c-i[1])/m)+m*Math.log(1+Math.max(0,i[1]-h)/m)),[p,f]}}}function Jh(t){return t}function Zh(t,e,n){var i=Bn(e)/n[0],o=Nn(e)/n[1];return Math.min(t,Math.min(i,o))}function $h(t,e,n){var i=Math.min(t,e);return i*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/t-1))/50+1),en(i,n/2,2*e)}function Qh(t,e,n,i){return function(o,r,a,s){if(void 0!==o){var l=i?Zh(t,i,a):t;return(void 0===n||n)&&s?$h(o,l,e):en(o,e,l)}}}var tp="center",ep="resolution",np="rotation",ip=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),op=0;function rp(t,e){setTimeout(function(){t(e)},0)}function ap(t){return!(t.sourceCenter&&t.targetCenter&&!Id(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}var sp=function(t){function e(e){var n=t.call(this)||this,i=Ze({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=Li(i.projection,"EPSG:3857"),n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.applyOptions_(i),n}return ip(e,t),e.prototype.applyOptions_=function(t){var e=function(t){var e,n,i,o=void 0!==t.minZoom?t.minZoom:op,r=void 0!==t.maxZoom?t.maxZoom:28,a=void 0!==t.zoomFactor?t.zoomFactor:2,s=void 0!==t.multiWorld&&t.multiWorld,l=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint;if(void 0!==t.resolutions){var u=t.resolutions;n=u[o],i=void 0!==u[r]?u[r]:u[u.length-1],e=t.constrainResolution?function(t,e,n){return function(i,o,r,a){if(void 0!==i){var s=t[0],l=t[t.length-1],u=n?Zh(s,n,r):s;if(a)return void 0===e||e?$h(i,u,l):en(i,l,u);var d=Math.min(u,i),c=Math.floor(Ii(t,d,o));return t[c]}}}(u,l,!t.constrainOnlyCenter&&t.extent):Qh(n,i,l,!t.constrainOnlyCenter&&t.extent)}else{var d=Li(t.projection,"EPSG:3857"),c=d.getExtent(),h=(c?Math.max(Bn(c),Nn(c)):360*Kn[Jn.DEGREES]/d.getMetersPerUnit())/qa/Math.pow(2,op),p=h/Math.pow(2,28-op);if(void 0!==(n=t.maxResolution)?o=0:n=h/Math.pow(a,o),void 0===(i=t.minResolution)&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,r):h/Math.pow(a,r):p),r=o+Math.floor(Math.log(n/i)/Math.log(a)),i=n/Math.pow(a,r-o),t.constrainResolution)e=function(t,e,n,i,o){return function(r,a,s,l){if(void 0!==r){var u=o?Zh(e,o,s):e,d=void 0!==n?n:0;if(l)return void 0===i||i?$h(r,u,d):en(r,d,u);var c=-a*(.5-1e-9)+.5,h=Math.min(u,r),p=Math.floor(Math.log(e/h)/Math.log(t)+c);return en(e/Math.pow(t,p),d,u)}}}(a,n,i,l,!t.constrainOnlyCenter&&t.extent);else{var f=t.constrainOnlyCenter,m=t.extent;s||m||!d.isGlobal()||(f=!1,m=d.getExtent()),e=Qh(n,i,l,!f&&m)}}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:a}}(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var n=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return Kh(t.extent,t.constrainOnlyCenter,e)}var n=Li(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,Kh(i,!1,!1)}return Jh}(t),i=e.constraint,o=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?(r=o||an(5),function(t,e){return e?t:void 0!==t?Math.abs(t)<=r?0:t:void 0}):!1===e?nc:"number"==typeof e?(n=e,i=2*Math.PI/n,function(t,e){return e?t:void 0!==t?t=Math.floor(t/i+.5)*i:void 0}):nc}return ec;var n,i;var o,r}(t);this.constraints_={center:n,resolution:i,rotation:o},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenter(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.resolveConstraints(0),this.setProperties({}),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Ze({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Ze({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0),this.animate_.apply(this,arguments)},e.prototype.animate_=function(t){var e,n=arguments.length;if(n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var i=arguments[n-1];return i.center&&this.setCenter(i.center),void 0!==i.zoom&&this.setZoom(i.zoom),void 0!==i.rotation&&this.setRotation(i.rotation),void(e&&rp(e,!0))}for(var o=Date.now(),r=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,l=[],u=0;u<n;++u){var d=arguments[u],c={start:o,complete:!1,anchor:d.anchor,duration:void 0!==d.duration?d.duration:1e3,easing:d.easing||Qr,callback:e};if(d.center&&(c.sourceCenter=r,c.targetCenter=d.center.slice(),r=c.targetCenter),void 0!==d.zoom?(c.sourceResolution=a,c.targetResolution=this.getResolutionForZoom(d.zoom),a=c.targetResolution):d.resolution&&(c.sourceResolution=a,c.targetResolution=d.resolution,a=c.targetResolution),void 0!==d.rotation){c.sourceRotation=s;var h=sn(d.rotation-s+Math.PI,2*Math.PI)-Math.PI;c.targetRotation=s+h,s=c.targetRotation}ap(c)?c.complete=!0:o+=c.duration,l.push(c)}this.animations_.push(l),this.setHint(fu,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[fu]>0},e.prototype.getInteracting=function(){return this.hints_[mu]>0},e.prototype.cancelAnimations=function(){this.setHint(fu,-this.hints_[fu]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&rp(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],o=!0,r=0,a=i.length;r<a;++r){var s=i[r];if(!s.complete){var l=t-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):o=!1;var d=s.easing(u);if(s.sourceCenter){var c=s.sourceCenter[0],h=s.sourceCenter[1],p=c+d*(s.targetCenter[0]-c),f=h+d*(s.targetCenter[1]-h);this.targetCenter_=[p,f]}if(s.sourceResolution&&s.targetResolution){var m=1===d?s.targetResolution:s.sourceResolution+d*(s.targetResolution-s.sourceResolution);if(s.anchor){var g=this.getSizeFromViewport_(this.getRotation()),_=this.constraints_.resolution(m,0,g,!0);this.targetCenter_=this.calculateCenterZoom(_,s.anchor)}this.targetResolution_=m,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var y=1===d?sn(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+d*(s.targetRotation-s.sourceRotation);if(s.anchor){var v=this.constraints_.rotation(y,!0);this.targetCenter_=this.calculateCenterRotate(v,s.anchor)}this.targetRotation_=y}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(o){this.animations_[n]=null,this.setHint(fu,-1);var b=i[0].callback;b&&rp(b,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,i,o,r=this.getCenter();return void 0!==r&&(Ad(n=[r[0]-e[0],r[1]-e[1]],t-this.getRotation()),o=e,(i=n)[0]+=+o[0],i[1]+=+o[1]),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenter(),o=this.getResolution();void 0!==i&&void 0!==o&&(n=[e[0]-t*(e[0]-i[0])/o,e[1]-t*(e[1]-i[1])/o]);return n},e.prototype.getSizeFromViewport_=function(t){var e=[100,100],n='.ol-viewport[data-view="'+We(this)+'"]',i=document.querySelector(n);if(i){var o=getComputedStyle(i);e[0]=parseInt(o.width,10),e[1]=parseInt(o.height,10)}if(t){var r=e[0],a=e[1];e[0]=Math.abs(r*Math.cos(t))+Math.abs(a*Math.sin(t)),e[1]=Math.abs(r*Math.sin(t))+Math.abs(a*Math.cos(t))}return e},e.prototype.getCenter=function(){return this.get(tp)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();Xe(n,1);var i=this.getResolution();Xe(void 0!==i,2);var o=this.getRotation();return Xe(void 0!==o,3),Hn(n,i,o,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(ep)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),i=Bn(t)/n[0],o=Nn(t)/n[1];return Math.max(i,o)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,o=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*o)}},e.prototype.getRotation=function(){return this.get(np)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,o=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/o}},e.prototype.getState=function(){var t=this.getCenter(),e=this.getProjection(),n=this.getResolution(),i=this.getRotation();return{center:t.slice(0),projection:void 0!==e?e:null,resolution:n,rotation:i,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var o=Ii(this.resolutions_,t,1);i=o,e=this.resolutions_[o],n=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=en(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,en(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n,i=e||{},o=i.size;o||(o=this.getSizeFromViewport_()),Xe(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Xe(!qn(t),25),n=Lr(t)):t.getType()===un.CIRCLE?(n=Lr(t=t.getExtent())).rotate(this.getRotation(),An(t)):n=t;var r,a=void 0!==i.padding?i.padding:[0,0,0,0],s=void 0!==i.nearest&&i.nearest;r=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.getResolutionForZoom(i.maxZoom):0;for(var l=n.getFlatCoordinates(),u=this.getRotation(),d=Math.cos(-u),c=Math.sin(-u),h=1/0,p=1/0,f=-1/0,m=-1/0,g=n.getStride(),_=0,y=l.length;_<y;_+=g){var v=l[_]*d-l[_+1]*c,b=l[_]*c+l[_+1]*d;h=Math.min(h,v),p=Math.min(p,b),f=Math.max(f,v),m=Math.max(m,b)}var w=this.getResolutionForExtent([h,p,f,m],[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);w=isNaN(w)?r:Math.max(w,r),w=this.getConstrainedResolution(w,s?0:1),c=-c;var M=(h+f)/2,x=(p+m)/2,L=[(M+=(a[1]-a[3])/2*w)*d-(x+=(a[0]-a[2])/2*w)*c,x*d+M*c],k=i.callback?i.callback:$i;void 0!==i.duration?this.animate_({resolution:w,center:this.getConstrainedCenter(L,w),duration:i.duration,easing:i.easing},k):(this.targetResolution_=w,this.targetCenter_=L,this.applyTargetState_(!1,!0),rp(k,!0))},e.prototype.centerOn=function(t,e,n){var i=this.getRotation(),o=Math.cos(-i),r=Math.sin(-i),a=t[0]*o-t[1]*r,s=t[1]*o+t[0]*r,l=this.getResolution(),u=(a+=(e[0]/2-n[0])*l)*o-(s+=(n[1]-e[1]/2)*l)*(r=-r),d=s*o+a*r;this.setCenter([u,d])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=this.targetCenter_;this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.getSizeFromViewport_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,i,n);void 0!==e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+t,n);void 0!==e&&(this.targetCenter_=this.calculateCenterRotate(i,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,i=this.constraints_.rotation(this.targetRotation_,n),o=this.getSizeFromViewport_(i),r=this.constraints_.resolution(this.targetResolution_,0,o,n),a=this.constraints_.center(this.targetCenter_,r,o,n);this.get(np)!==i&&this.set(np,i),this.get(ep)!==r&&this.set(ep,r),this.get(tp)&&Id(this.get(tp),a)||this.set(tp,a),this.getAnimating()&&!t&&this.cancelAnimations()},e.prototype.resolveConstraints=function(t,e,n){var i=void 0!==t?t:200,o=e||0,r=this.constraints_.rotation(this.targetRotation_),a=this.getSizeFromViewport_(r),s=this.constraints_.resolution(this.targetResolution_,o,a),l=this.constraints_.center(this.targetCenter_,s,a);if(0===i)return this.targetResolution_=s,this.targetRotation_=r,this.targetCenter_=l,void this.applyTargetState_();this.getResolution()===s&&this.getRotation()===r&&this.getCenter()&&Id(this.getCenter(),l)||(this.getAnimating()&&this.cancelAnimations(),this.animate_({rotation:r,center:l,resolution:s,duration:i,easing:$r,anchor:n}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(mu,1)},e.prototype.endInteraction=function(t,e,n){this.setHint(mu,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getSizeFromViewport_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,i=this.getSizeFromViewport_(this.getRotation());return this.constraints_.resolution(t,n,i)},e}(co),lp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),up={LAYERS:"layers"},dp=function(t){function e(e){var n=this,i=e||{},o=Ze({},i);delete o.layers;var r=i.layers;return(n=t.call(this,o)||this).layersListenerKeys_=[],n.listenerKeys_={},Vi(n,uo(up.LAYERS),n.handleLayersChanged_,n),r?Array.isArray(r)?r=new Os(r.slice(),{unique:!0}):Xe("function"==typeof r.getArray,43):r=new Os(void 0,{unique:!0}),n.setLayers(r),n}return lp(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(Xi),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Vi(t,Ds.ADD,this.handleLayersAdd_,this),Vi(t,Ds.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(Xi);$e(this.listenerKeys_);for(var n=t.getArray(),i=0,o=n.length;i<o;i++){var r=n[i];this.listenerKeys_[We(r)]=[Vi(r,Ni,this.handleLayerChange_,this),Vi(r,no.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[We(e)]=[Vi(e,Ni,this.handleLayerChange_,this),Vi(e,no.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=We(t.element);this.listenerKeys_[e].forEach(Xi),delete this.listenerKeys_[e],this.changed()},e.prototype.getLayers=function(){return this.get(up.LAYERS)},e.prototype.setLayers=function(t){this.set(up.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),o=n,r=e.length;o<r;o++){var a=e[o];a.opacity*=i.opacity,a.visible=a.visible&&i.visible,a.maxResolution=Math.min(a.maxResolution,i.maxResolution),a.minResolution=Math.max(a.minResolution,i.minResolution),a.minZoom=Math.max(a.minZoom,i.minZoom),a.maxZoom=Math.min(a.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==a.extent?a.extent=zn(a.extent,i.extent):a.extent=i.extent)}return e},e.prototype.getSourceState=function(){return za.READY},e}(Xs),cp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();var hp=function(t){function e(e){var n=t.call(this)||this,i=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,o,r={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new dp({layers:t.layers});r[Vh.LAYERGROUP]=a,r[Vh.TARGET]=t.target,r[Vh.VIEW]=void 0!==t.view?t.view:new sp,void 0!==t.controls&&(Array.isArray(t.controls)?n=new Os(t.controls.slice()):(Xe("function"==typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new Os(t.interactions.slice()):(Xe("function"==typeof t.interactions.getArray,48),i=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new Os(t.overlays.slice()):(Xe("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new Os;return{controls:n,interactions:i,keyboardEventTarget:e,overlays:o,values:r}}(e);for(var o in n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:_a,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=[1,0,0,1,0,0],n.pixelToCoordinateTransform_=[1,0,0,1,0,0],n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.viewport_.style.msTouchAction="none",n.viewport_.style.touchAction="none",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=new zh(n,e.moveTolerance),Cd)Vi(n.mapBrowserEventHandler_,Cd[o],n.handleMapBrowserEvent,n);return n.keyboardEventTarget_=i.keyboardEventTarget,n.keyHandlerKeys_=null,Vi(n.viewport_,no.CONTEXTMENU,n.handleBrowserEvent,n),Vi(n.viewport_,no.WHEEL,n.handleBrowserEvent,n),Vi(n.viewport_,no.MOUSEWHEEL,n.handleBrowserEvent,n),n.controls=i.controls||new Os,n.interactions=i.interactions||new Os,n.labelCache_=null,n.labelCacheListenerKey_,n.overlays_=i.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.focus_=null,n.postRenderFunctions_=[],n.tileQueue_=new Xh(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.skippedFeatureUids_={},Vi(n,uo(Vh.LAYERGROUP),n.handleLayerGroupChanged_,n),Vi(n,uo(Vh.VIEW),n.handleViewChanged_,n),Vi(n,uo(Vh.SIZE),n.handleSizeChanged_,n),Vi(n,uo(Vh.TARGET),n.handleTargetChanged_,n),n.setProperties(i.values),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),Vi(n.controls,Ds.ADD,function(t){t.element.setMap(this)},n),Vi(n.controls,Ds.REMOVE,function(t){t.element.setMap(null)},n),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),Vi(n.interactions,Ds.ADD,function(t){t.element.setMap(this)},n),Vi(n.interactions,Ds.REMOVE,function(t){t.element.setMap(null)},n),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),Vi(n.overlays_,Ds.ADD,function(t){this.addOverlayInternal_(t.element)},n),Vi(n.overlays_,Ds.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},n),n}return cp(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Ui(this.viewport_,no.CONTEXTMENU,this.handleBrowserEvent,this),Ui(this.viewport_,no.WHEEL,this.handleBrowserEvent,this),Ui(this.viewport_,no.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(no.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixel(t),o=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,r=void 0!==n.layerFilter?n.layerFilter:Ji;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,o,e,null,r,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,function(t){n||(n=[]),n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},o=void 0!==i.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,r=i.layerFilter||Ji;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,o,e,r)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:Ji,o=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,o,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(Vh.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?vo(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Vh.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer.getSource();if(i&&i.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?vo(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Vh.SIZE)},e.prototype.getView=function(){return this.get(Vh.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var o=this.frameState_;if(!(o&&e in o.wantedTiles))return 1/0;if(!o.wantedTiles[e][t.getKey()])return 1/0;var r=n[0]-o.focus[0],a=n[1]-o.focus[1];return 65536*Math.log(i)+Math.sqrt(r*r+a*a)/i},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new Fc(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){for(var e=t.originalEvent.target;e instanceof HTMLElement;){if(e.parentElement===this.overlayContainerStopEvent_)return;e=e.parentElement}this.focus_=t.coordinate,t.frameState=this.frameState_;var n=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var i=n.length-1;i>=0;i--){var o=n[i];if(o.getActive())if(!o.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var o=t.viewHints;if(o[fu]||o[mu]){var r=!ya&&Date.now()-t.time>8;n=r?0:8,i=r?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(Qs)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(Qs,t);for(var a=this.postRenderFunctions_,s=0,l=a.length;s<l;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Xi(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer());var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Vi(i,no.KEYDOWN,this.handleBrowserEvent,this),Vi(i,no.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(no.RESIZE,this.handleResize_,!1))}else this.renderer_&&(this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),sa(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(no.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Xi(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Xi(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",We(t)),this.viewPropertyListenerKey_=Vi(t,Ni,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Vi(t,no.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Xi),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Vi(t,Ni,this.render,this),Vi(t,no.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var i=t[e].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,n=this.getSize(),i=this.getView(),o=[1/0,1/0,-1/0,-1/0],r=this.frameState_,a=null;if(void 0!==n&&function(t){return t[0]>0&&t[1]>0}(n)&&i&&i.isDef()){var s=i.getHints(this.frameState_?this.frameState_.viewHints:void 0);e=i.getState(),a={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterItems:r?r.declutterItems:[],extent:o,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:s,wantedTiles:{}}}if(a&&(a.extent=Hn(e.center,e.resolution,e.rotation,a.size,o)),this.frameState_=a,this.renderer_.renderFrame(a),a){if(a.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,a.postRenderFunctions),r)(!this.previousExtent_||!qn(this.previousExtent_)&&!En(a.extent,this.previousExtent_))&&(this.dispatchEvent(new Oc(Wh,this,r)),this.previousExtent_=Ln(this.previousExtent_));this.previousExtent_&&!a.viewHints[fu]&&!a.viewHints[mu]&&!En(a.extent,this.previousExtent_)&&(this.dispatchEvent(new Oc(Bh,this,a)),gn(a.extent,this.previousExtent_))}this.dispatchEvent(new Oc(Gh,this,a)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(Vh.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Vh.SIZE,t)},e.prototype.setTarget=function(t){this.set(Vh.TARGET,t)},e.prototype.setView=function(t){this.set(Vh.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[We(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[We(t)],this.render()},e}(co),pp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),fp=function(t){function e(e){var n=t.call(this)||this;return n.element=e.element?e.element:null,n.target_=null,n.map_=null,n.listenerKeys=[],n.render=e.render?e.render:$i,e.target&&n.setTarget(e.target),n}return pp(e,t),e.prototype.disposeInternal=function(){sa(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&sa(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Xi(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==$i&&this.listenerKeys.push(Vi(t,Gh,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(co),mp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function gp(t){this.updateElement_(t.frameState)}var _p=function(t){function e(e){var n=this,i=e||{};(n=t.call(this,{element:document.createElement("div"),render:i.render||gp,target:i.target})||this).ulElement_=document.createElement("ul"),n.collapsed_=void 0===i.collapsed||i.collapsed,n.overrideCollapsible_=void 0!==i.collapsible,n.collapsible_=void 0===i.collapsible||i.collapsible,n.collapsible_||(n.collapsed_=!1);var o=void 0!==i.className?i.className:"ol-attribution",r=void 0!==i.tipLabel?i.tipLabel:"Attributions",a=void 0!==i.collapseLabel?i.collapseLabel:"";"string"==typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a):n.collapseLabel_=a;var s=void 0!==i.label?i.label:"i";"string"==typeof s?(n.label_=document.createElement("span"),n.label_.textContent=s):n.label_=s;var l=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=r,u.appendChild(l),Vi(u,no.CLICK,n.handleClick_,n);var d=o+" "+fl+" "+ml+(n.collapsed_&&n.collapsible_?" "+gl:"")+(n.collapsible_?"":" ol-uncollapsible"),c=n.element;return c.className=d,c.appendChild(n.ulElement_),c.appendChild(u),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return mp(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,o=0,r=i.length;o<r;++o){var a=i[o];if(el(a,t.viewState)){var s=a.layer.getSource();if(s){var l=s.getAttributions();if(l){var u=l(t);if(u)if(this.overrideCollapsible_||!1!==s.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(u))for(var d=0,c=u.length;d<c;++d)u[d]in e||(n.push(u[d]),e[u[d]]=!0);else u in e||(n.push(u),e[u]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Hi(e,this.renderedAttributions_)){la(this.ulElement_);for(var i=0,o=e.length;i<o;++i){var r=document.createElement("li");r.innerHTML=e[i],this.ulElement_.appendChild(r)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(gl),this.collapsed_?aa(this.collapseLabel_,this.label_):aa(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(fp),yp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function vp(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(hl);o||0!==n?o&&0!==n&&this.element.classList.remove(hl):this.element.classList.add(hl)}this.label_.style.transform=i}this.rotation_=n}}var bp=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),render:i.render||vp,target:i.target})||this;var o=void 0!==i.className?i.className:"ol-rotate",r=void 0!==i.label?i.label:"";n.label_=null,"string"==typeof r?(n.label_=document.createElement("span"),n.label_.className="ol-compass",n.label_.textContent=r):(n.label_=r,n.label_.classList.add("ol-compass"));var a=i.tipLabel?i.tipLabel:"Reset rotation",s=document.createElement("button");s.className=o+"-reset",s.setAttribute("type","button"),s.title=a,s.appendChild(n.label_),Vi(s,no.CLICK,n.handleClick_,n);var l=o+" "+fl+" "+ml,u=n.element;return u.className=l,u.appendChild(s),n.callResetNorth_=i.resetNorth?i.resetNorth:void 0,n.duration_=void 0!==i.duration?i.duration:250,n.autoHide_=void 0===i.autoHide||i.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(hl),n}return yp(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:$r}):t.setRotation(0))},e}(fp),wp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mp=function(t){function e(e){var n=this,i=e||{};n=t.call(this,{element:document.createElement("div"),target:i.target})||this;var o=void 0!==i.className?i.className:"ol-zoom",r=void 0!==i.delta?i.delta:1,a=void 0!==i.zoomInLabel?i.zoomInLabel:"+",s=void 0!==i.zoomOutLabel?i.zoomOutLabel:"",l=void 0!==i.zoomInTipLabel?i.zoomInTipLabel:"Zoom in",u=void 0!==i.zoomOutTipLabel?i.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=o+"-in",d.setAttribute("type","button"),d.title=l,d.appendChild("string"==typeof a?document.createTextNode(a):a),Vi(d,no.CLICK,n.handleClick_.bind(n,r));var c=document.createElement("button");c.className=o+"-out",c.setAttribute("type","button"),c.title=u,c.appendChild("string"==typeof s?document.createTextNode(s):s),Vi(c,no.CLICK,n.handleClick_.bind(n,-r));var h=o+" "+fl+" "+ml,p=n.element;return p.className=h,p.appendChild(d),p.appendChild(c),n.duration_=void 0!==i.duration?i.duration:250,n}return wp(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getZoom();if(void 0!==n){var i=e.getConstrainedZoom(n+t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:i,duration:this.duration_,easing:$r})):e.setZoom(i)}}},e}(fp);var xp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(t){function e(e,n,i,o,r){var a=t.call(this)||this;return a.context_=e,a.pixelRatio_=n,a.extent_=i,a.transform_=o,a.viewRotation_=r,a.contextFillState_=null,a.contextStrokeState_=null,a.contextTextState_=null,a.fillState_=null,a.strokeState_=null,a.image_=null,a.imageAnchorX_=0,a.imageAnchorY_=0,a.imageHeight_=0,a.imageOpacity_=0,a.imageOriginX_=0,a.imageOriginY_=0,a.imageRotateWithView_=!1,a.imageRotation_=0,a.imageScale_=0,a.imageWidth_=0,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=!1,a.textRotation_=0,a.textScale_=0,a.textFillState_=null,a.textStrokeState_=null,a.textState_=null,a.pixelCoordinates_=[],a.tmpLocalTransform_=[1,0,0,1,0,0],a}xp(e,t),e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var o=ho(t,e,n,2,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.tmpLocalTransform_,s=r.globalAlpha;1!=this.imageOpacity_&&(r.globalAlpha=s*this.imageOpacity_);var l=this.imageRotation_;this.imageRotateWithView_&&(l+=this.viewRotation_);for(var u=0,d=o.length;u<d;u+=2){var c=o[u]-this.imageAnchorX_,h=o[u+1]-this.imageAnchorY_;if(0!==l||1!=this.imageScale_){var p=c+this.imageAnchorX_,f=h+this.imageAnchorY_;Mo(a,p,f,this.imageScale_,this.imageScale_,l,-p,-f),r.setTransform.apply(r,a)}r.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,h,this.imageWidth_,this.imageHeight_)}0===l&&1==this.imageScale_||r.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(r.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=ho(t,e,n,i,this.transform_,this.pixelCoordinates_),r=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=i){var s=o[e]+this.textOffsetX_,l=o[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_){var u=Mo(this.tmpLocalTransform_,s,l,this.textScale_,this.textScale_,a,-s,-l);r.setTransform.apply(r,u)}this.textStrokeState_&&r.strokeText(this.text_,s,l),this.textFillState_&&r.fillText(this.text_,s,l)}0===a&&1==this.textScale_||r.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,o){var r=this.context_,a=ho(t,e,n,i,this.transform_,this.pixelCoordinates_);r.moveTo(a[0],a[1]);var s=a.length;o&&(s-=2);for(var l=2;l<s;l+=2)r.lineTo(a[l],a[l+1]);return o&&r.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var o=0,r=n.length;o<r;++o)e=this.moveToLineTo_(t,e,n[o],i,!0);return e},e.prototype.drawCircle=function(t){if(Vn(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=function(t,e,n){var i=t.getFlatCoordinates();if(i){var o=t.getStride();return ho(i,0,i.length,o,e,n)}return null}(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],o=Math.sqrt(n*n+i*i),r=this.context_;r.beginPath(),r.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case un.POINT:this.drawPoint(t);break;case un.LINE_STRING:this.drawLineString(t);break;case un.POLYGON:this.drawPolygon(t);break;case un.MULTI_POINT:this.drawMultiPoint(t);break;case un.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case un.MULTI_POLYGON:this.drawMultiPolygon(t);break;case un.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case un.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Vn(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(Vn(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Vn(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),o=0,r=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,l=r.length;s<l;++s)o=this.moveToLineTo_(i,o,r[s],a,!1);n.stroke()}if(""!==this.text_){var u=t.getFlatMidpoints();this.drawText_(u,0,u.length,2)}}},e.prototype.drawPolygon=function(t){if(Vn(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(Vn(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,o=t.getEndss(),r=t.getStride();e.beginPath();for(var a=0,s=o.length;a<s;++a){var l=o[a];i=this.drawRings_(n,i,l,r)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var u=t.getFlatInteriorPoints();this.drawText_(u,0,u.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),e.setLineDash&&(Hi(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=i&&(n.textAlign=e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Jl(n||"#000")}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),r=e.getLineDash(),a=e.getLineDashOffset(),s=e.getLineJoin(),l=e.getWidth(),u=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:"round",lineDash:r||bl,lineDashOffset:a||0,lineJoin:void 0!==s?s:"round",lineWidth:this.pixelRatio_*(void 0!==l?l:1),miterLimit:void 0!==u?u:10,strokeStyle:Jl(i||"#000")}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),o=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=o[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=o[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Jl(n||"#000")}}else this.textFillState_=null;var i=t.getStroke();if(i){var o=i.getColor(),r=i.getLineCap(),a=i.getLineDash(),s=i.getLineDashOffset(),l=i.getLineJoin(),u=i.getWidth(),d=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==r?r:"round",lineDash:a||bl,lineDashOffset:s||0,lineJoin:void 0!==l?l:"round",lineWidth:void 0!==u?u:1,miterLimit:void 0!==d?d:10,strokeStyle:Jl(o||"#000")}}else this.textStrokeState_=null;var c=t.getFont(),h=t.getOffsetX(),p=t.getOffsetY(),f=t.getRotateWithView(),m=t.getRotation(),g=t.getScale(),_=t.getText(),y=t.getTextAlign(),v=t.getTextBaseline();this.textState_={font:void 0!==c?c:"10px sans-serif",textAlign:void 0!==y?y:"center",textBaseline:void 0!==v?v:"middle"},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==h?this.pixelRatio_*h:0,this.textOffsetY_=void 0!==p?this.pixelRatio_*p:0,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0!==m?m:0,this.textScale_=this.pixelRatio_*(void 0!==g?g:1)}else this.text_=""}}(_u);var Lp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function kp(t,e){vd.expire()}var Tp=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n.declutterTree_=null,n}return Lp(e,t),e.prototype.dispatchRenderEvent=function(t,e){ze()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Mo(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),xo(i,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,o,r,a){var s,l=e.viewState;function u(t,n,r){if(!(We(n)in e.skippedFeatureUids)||t)return i.call(o,n,t?r:null)}var d=l.projection,c=t;if(d.canWrapX()){var h=d.getExtent(),p=Bn(h),f=t[0];if(f<h[0]||f>h[2])c=[f+p*Math.ceil((h[0]-f)/p),t[1]]}var m,g,_=e.layerStatesArray,y=_.length;for(this.declutterTree_&&(m=this.declutterTree_.all().map(function(t){return t.value})),g=y-1;g>=0;--g){var v=_[g],b=v.layer;if(b.hasRenderer()&&el(v,l)&&r.call(a,b)){var w=b.getRenderer(),M=b.getSource();if(w&&M){var x=u.bind(null,v.managed);s=w.forEachFeatureAtCoordinate(M.getWrapX()?c:t,e,n,x,m)}if(s)return s}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){return ze()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,o){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,Ji,this,i,o)},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){this.declutterTree_=function(t,e){e&&e.clear();for(var n=t.declutterItems,i=n.length-1;i>=0;--i)for(var o=n[i],r=o.items,a=0,s=r.length;a<s;a+=3)e=r[a].renderDeclutter(r[a+1],r[a+2],o.opacity,e);return n.length=0,e}(t,this.declutterTree_)},e.prototype.scheduleExpireIconCache=function(t){vd.canExpireCache()&&t.postRenderFunctions.push(kp)},e}(Ki),Ep=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Cp=function(t){function e(e){var n=t.call(this,e)||this;n.labelCacheKey_=Vi(Ml,no.CLEAR,e.redrawText.bind(e)),n.element_=document.createElement("div");var i=n.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",n.element_.className=fl+" ol-layers";var o=e.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return Ep(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var i=new cl(t,void 0,e);n.dispatchEvent(i)}},e.prototype.disposeInternal=function(){Xi(this.labelCacheKey_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(Zs,e);var n=e.layerStatesArray.sort(function(t,e){return t.zIndex-e.zIndex}),i=e.viewState;this.children_.length=0;for(var o=!1,r=null,a=0,s=n.length;a<s;++a){var l=n[a];if(o=o||l.hasOverlay,e.layerIndex=a,el(l,i)&&(l.sourceState==za.READY||l.sourceState==za.UNDEFINED)){var u=l.layer.render(e,r);u&&(u===r&&a!=s-1||2!==u.childElementCount||o||u.removeChild(u.lastElementChild),u!==r&&(this.children_.push(u),o=!1,r=u))}}t.prototype.renderFrame.call(this,e),function(t,e){for(var n=t.childNodes,i=0;;++i){var o=n[i],r=e[i];if(!o&&!r)break;o!==r&&(o?r?t.insertBefore(r,o):(t.removeChild(o),--i):t.appendChild(r))}}(this.element_,this.children_),this.dispatchRenderEvent($s,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,o){for(var r=e.viewState,a=e.layerStatesArray,s=a.length-1;s>=0;--s){var l=a[s],u=l.layer;if(u.hasRenderer()&&el(l,r)&&o(u)){var d=u.getRenderer().getDataAtPixel(t,e,n);if(d){var c=i(u,d);if(c)return c}}}},e}(Tp),Dp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Sp=function(t){function e(e){return(e=Ze({},e)).controls||(e.controls=function(t){var e=t||{},n=new Os;return(void 0===e.zoom||e.zoom)&&n.push(new Mp(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new bp(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new _p(e.attributionOptions)),n}()),e.interactions||(e.interactions=Yc()),t.call(this,e)||this}return Dp(e,t),e.prototype.createRenderer=function(){return new Cp(this)},e}(hp),Yp={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},Rp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Op={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},Pp=function(t){function e(e){var n=t.call(this)||this;return n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+pl,n.element.style.position="absolute",n.autoPan=void 0!==e.autoPan&&e.autoPan,n.autoPanAnimation=e.autoPanAnimation||{},n.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,n.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},n.mapPostrenderListenerKey=null,Vi(n,uo(Op.ELEMENT),n.handleElementChanged,n),Vi(n,uo(Op.MAP),n.handleMapChanged,n),Vi(n,uo(Op.OFFSET),n.handleOffsetChanged,n),Vi(n,uo(Op.POSITION),n.handlePositionChanged,n),Vi(n,uo(Op.POSITIONING),n.handlePositioningChanged,n),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:Yp.TOP_LEFT),void 0!==e.position&&n.setPosition(e.position),n}return Rp(e,t),e.prototype.getElement=function(){return this.get(Op.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(Op.MAP)},e.prototype.getOffset=function(){return this.get(Op.OFFSET)},e.prototype.getPosition=function(){return this.get(Op.POSITION)},e.prototype.getPositioning=function(){return this.get(Op.POSITIONING)},e.prototype.handleElementChanged=function(){la(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(sa(this.element),Xi(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Vi(t,Gh,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(Op.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(Op.ELEMENT,t)},e.prototype.setMap=function(t){this.set(Op.MAP,t)},e.prototype.setOffset=function(t){this.set(Op.OFFSET,t)},e.prototype.setPosition=function(t){this.set(Op.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[oa(n),ra(n)]),o=this.autoPanMargin;if(!vn(e,i)){var r=i[0]-e[0],a=e[2]-i[2],s=i[1]-e[1],l=e[3]-i[3],u=[0,0];if(r<0?u[0]=r-o:a<0&&(u[0]=Math.abs(a)+o),s<0?u[1]=s-o:l<0&&(u[1]=Math.abs(l)+o),0!==u[0]||0!==u[1]){var d=t.getView().getCenter(),c=t.getPixelFromCoordinate(d),h=[c[0]+u[0],c[1]+u[1]];t.getView().animate({center:t.getCoordinateFromPixel(h),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[i,o,i+e[0],o+e[1]]},e.prototype.setPositioning=function(t){this.set(Op.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var r=i[0],a=i[1];if(o==Yp.BOTTOM_RIGHT||o==Yp.CENTER_RIGHT||o==Yp.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var s=Math.round(e[0]-t[0]-r)+"px";this.rendered.right_!=s&&(this.rendered.right_=n.right=s)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),o!=Yp.BOTTOM_CENTER&&o!=Yp.CENTER_CENTER&&o!=Yp.TOP_CENTER||(r-=this.element.offsetWidth/2);var l=Math.round(t[0]+r)+"px";this.rendered.left_!=l&&(this.rendered.left_=n.left=l)}if(o==Yp.BOTTOM_LEFT||o==Yp.BOTTOM_CENTER||o==Yp.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var u=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=u&&(this.rendered.bottom_=n.bottom=u)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),o!=Yp.CENTER_LEFT&&o!=Yp.CENTER_CENTER&&o!=Yp.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var d=Math.round(t[1]+a)+"px";this.rendered.top_!=d&&(this.rendered.top_=n.top=d)}},e.prototype.getOptions=function(){return this.options},e}(co),Fp=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ip="units",Ap={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},jp=[1,2,5];function Hp(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}var Np=function(t){function e(e){var n=this,i=e||{},o=void 0!==i.className?i.className:i.bar?"ol-scale-bar":"ol-scale-line";return(n=t.call(this,{element:document.createElement("div"),render:i.render||Hp,target:i.target})||this).innerElement_=document.createElement("div"),n.innerElement_.className=o+"-inner",n.element.className=o+" "+fl,n.element.appendChild(n.innerElement_),n.viewState_=null,n.minWidth_=void 0!==i.minWidth?i.minWidth:64,n.renderedVisible_=!1,n.renderedWidth_=void 0,n.renderedHTML_="",Vi(n,uo(Ip),n.handleUnitsChanged_,n),n.setUnits(i.units||Ap.METRIC),n.scaleBar_=i.bar||!1,n.scaleBarSteps_=i.steps||4,n.scaleBarText_=i.text||!1,n}return Fp(e,t),e.prototype.getUnits=function(){return this.get(Ip)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(Ip,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,i=this.getUnits(),o=i==Ap.DEGREES?Jn.DEGREES:Jn.METERS,r=Mi(n,t.resolution,e,o),a=this.minWidth_*r,s="";if(i==Ap.DEGREES){var l=Kn[Jn.DEGREES];(a*=l)<l/60?(s="",r*=3600):a<l?(s="",r*=60):s=""}else i==Ap.IMPERIAL?a<.9144?(s="in",r/=.0254):a<1609.344?(s="ft",r/=.3048):(s="mi",r/=1609.344):i==Ap.NAUTICAL?(r/=1852,s="nm"):i==Ap.METRIC?a<.001?(s="m",r*=1e6):a<1?(s="mm",r*=1e3):a<1e3?s="m":(s="km",r/=1e3):i==Ap.US?a<.9144?(s="in",r*=39.37):a<1609.344?(s="ft",r/=.30480061):(s="mi",r/=1609.3472):Xe(!1,33);for(var u,d,c,h,p=3*Math.floor(Math.log(this.minWidth_*r)/Math.log(10));;){c=Math.floor(p/3);var f=Math.pow(10,c);if(u=jp[(p%3+3)%3]*f,d=Math.round(u/r),isNaN(d))return this.element.style.display="none",void(this.renderedVisible_=!1);if(d>=this.minWidth_)break;++p}h=this.scaleBar_?this.createScaleBar(d,u,s):u.toFixed(c<0?-c:0)+" "+s,this.renderedHTML_!=h&&(this.innerElement_.innerHTML=h,this.renderedHTML_=h),this.renderedWidth_!=d&&(this.innerElement_.style.width=d+"px",this.renderedWidth_=d),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.createScaleBar=function(t,e,n){for(var i="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),o=[],r=t/this.scaleBarSteps_,a="#ffffff",s=0;s<this.scaleBarSteps_;s++)0===s&&o.push(this.createMarker("absolute",s)),o.push('<div><div class="ol-scale-singlebar" style="width: '+r+"px;background-color: "+a+';"></div>'+this.createMarker("relative",s)+(s%2==0||2===this.scaleBarSteps_?this.createStepText(s,t,!1,e,n):"")+"</div>"),s===this.scaleBarSteps_-1&&o.push(this.createStepText(s+1,t,!0,e,n)),a="#ffffff"===a?"#000000":"#ffffff";return'<div style="display: flex;">'+(this.scaleBarText_?'<div class="ol-scale-text" style="width: '+t+'px;">'+i+"</div>":"")+o.join("")+"</div>"},e.prototype.createMarker=function(t,e){return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+("absolute"===t?3:-10)+'px;"></div>'},e.prototype.createStepText=function(t,e,n,i,o){var r=(0===t?0:Math.round(i/this.scaleBarSteps_*t*100)/100)+(0===t?"":" "+o);return'<div class="ol-scale-step-text" style="margin-left: '+(0===t?-3:e/this.scaleBarSteps_*-1)+"px;text-align: "+(0===t?"left":"center")+"; min-width: "+(0===t?0:e/this.scaleBarSteps_*2)+"px;left: "+(n?e+"px":"unset")+';">'+r+"</div>"},e.prototype.getScaleForResolution=function(){var t=this.getMap().getView().getResolution(),e=this.viewState_.projection.getMetersPerUnit();return parseFloat(t.toString())*e*39.37*(25.4/.28)},e}(fp),zp=()=>({Map:Sp,View:sp,Feature:jr,Overlay:Pp,control:{ScaleLine:Np},interaction:{defaults:Yc,Draw:oh},draw:{createBox:ih},events:{click:Gd},proj:{transform:Di,transformExtent:Si,fromLonLat:ki},geom:o,format:{MVT:Ir,GeoJSON:Xr},source:{OSM:vs,VectorTile:Es,Vector:Vs},loadingstrategy:{bbox:Fs},layer:{Tile:Bl,VectorTile:cd,Vector:md},style:{Style:uu,Fill:nu,Stroke:iu,Circle:eu,Icon:Ld,Text:Td}}),Gp=t=>e=>{if(t.map&&(t.map.setTarget(null),t.map=null),t.workspace.locale&&!e.locale||t.workspace.loadLocale(e),!e.target)return console.log("No target for mapview!");t.mapview.node=e.target,t.mapview.srid=e.srid||"3857";const n=e.view&&e.view.z||t.workspace.locale.view.z||5,i=t.mapview.lib.proj.fromLonLat([parseFloat(e.view&&e.view.lng||t.workspace.locale.view.lng||0),parseFloat(e.view&&e.view.lat||t.workspace.locale.view.lat||0)]);if(t.map=new t.mapview.lib.Map({target:t.mapview.node,interactions:t.mapview.lib.interaction.defaults({mouseWheelZoom:e.scrollWheelZoom||!1}),controls:[],view:new t.mapview.lib.View({projection:"EPSG:"+t.mapview.srid,zoom:n,minZoom:t.workspace.locale.minZoom,maxZoom:t.workspace.locale.maxZoom,center:i,extent:t.mapview.lib.proj.transformExtent([parseFloat(e.bounds&&e.bounds.west||t.workspace.locale.bounds.west),parseFloat(e.bounds&&e.bounds.south||t.workspace.locale.bounds.south),parseFloat(e.bounds&&e.bounds.east||t.workspace.locale.bounds.east),parseFloat(e.bounds&&e.bounds.north||t.workspace.locale.bounds.north)],"EPSG:4326","EPSG:"+t.mapview.srid)})}),t.mapview.state="select",t.map.on("click",t.mapview.select),t.mapview.node.addEventListener("mousemove",e=>{t.mapview.pointerLocation={x:e.clientX,y:e.clientY},t.mapview.infotip.node&&t.mapview.infotip.position()}),t.mapview.node.addEventListener("mousemove",t.mapview.pointerMove),t.mapview.node.addEventListener("mouseout",()=>{t.mapview.pointerLocation={x:null,y:null},t.mapview.clearHighlight()},!0),(e.showScaleBar||t.workspace.locale.showScaleBar)&&t.map.addControl(new t.mapview.lib.control.ScaleLine),t.mapview.attribution.create(e.attribution),e.maskBounds||t.workspace.locale.maskBounds){const e=[[180,90],[180,-90],[-180,-90],[-180,90],[180,90]],n=[[t.workspace.locale.bounds.east,t.workspace.locale.bounds.north],[t.workspace.locale.bounds.east,t.workspace.locale.bounds.south],[t.workspace.locale.bounds.west,t.workspace.locale.bounds.south],[t.workspace.locale.bounds.west,t.workspace.locale.bounds.north],[t.workspace.locale.bounds.east,t.workspace.locale.bounds.north]];var o=new t.mapview.lib.Feature({geometry:new t.mapview.lib.geom.Polygon([e,n]).transform("EPSG:4326","EPSG:"+t.mapview.srid)}),r=new t.mapview.lib.layer.Vector({source:new t.mapview.lib.source.Vector({features:[o]}),style:new t.mapview.lib.style.Style({fill:new t.mapview.lib.style.Fill({color:t.utils.chroma("#000").alpha(.2).rgba()})}),zIndex:999});t.map.addLayer(r)}let a;t.map.on("moveend",()=>(clearTimeout(a),void(a=setTimeout(()=>t.mapview.node.dispatchEvent(t.mapview.changeEndEvent),500)))),t.hooks?(t.hooks.current.layers.length>0&&Object.values(t.layers.list).forEach(e=>{e.display=!!~t.hooks.current.layers.indexOf(e.key)}),t.mapview.node.addEventListener("changeEnd",()=>{const e=t.mapview.lib.proj.transform(t.map.getView().getCenter(),"EPSG:"+t.mapview.srid,"EPSG:4326");t.hooks.set({lat:e[1],lng:e[0],z:t.map.getView().getZoom()})})):Object.values(t.layers.list).forEach(t=>{t.display&&t.show()}),e.btn&&(e.btn.ZoomIn&&t.mapview.btn._ZoomIn(e.btn.ZoomIn,n),e.btn.ZoomOut&&t.mapview.btn._ZoomOut(e.btn.ZoomOut,n),e.btn.Locate&&t.mapview.btn._Locate(e.btn.Locate))},Wp=t=>{const e={create:function(i){if(!i)return;e.container&&e.container.remove();e.container=t.utils.wire()`<div class="attribution"></div>`,t.mapview.node.appendChild(e.container),e.container.appendChild(t.utils.wire()`
      <a class="logo" target="_blank" href="https://geolytix.co.uk">GEOLYTIX</a>`),e.container.appendChild(e.links),e.links.innerHTML="","object"==typeof i&&Object.entries(i).forEach(n=>{e.links.appendChild(t.utils.wire()`
        <a target="_blank" href="${n[1]}">${n[0]}</a>`)});t.workspace.locale.attribution&&Object.entries(t.workspace.locale.attribution).forEach(n=>{e.links.appendChild(t.utils.wire()`
        <a target="_blank" href="${n[1]}">${n[0]}</a>`)});e.layer={},n()},check:n,set:i,remove:function(t){Object.entries(t).forEach(t=>{e.layer[t[0]]&&(e.layer[t[0]].remove(),delete e.layer[t[0]])})},layer:{},links:t.utils.wire()`<div></div>`};return e;function n(){Object.values(t.layers.list).forEach(t=>{t.display&&t.attribution&&i(t.attribution)})}function i(n){Object.entries(n).forEach(n=>{e.layer[n[0]]||(e.layer[n[0]]=t.utils.wire()`
        <a target="_blank" href="${n[1]}">${n[0]}</a>`,e.links.appendChild(e.layer[n[0]]))})}},Bp=t=>{const e={toggle:function(){e.active=!e.active;let n=!0;e.L||(e.L=new t.mapview.lib.layer.Vector({source:new t.mapview.lib.source.Vector({features:[e.marker]}),zIndex:40,style:new t.mapview.lib.style.Style({image:t.mapview.icon({type:"geo",scale:.05})})}));if(!e.active)return t.map.removeLayer(e.L);t.map.addLayer(e.L),e.watcher||(e.watcher=navigator.geolocation.watchPosition(i=>{if(t.log&&console.log("pos: "+[parseFloat(i.coords.latitude),parseFloat(i.coords.longitude)]),e.active){const o=t.mapview.lib.proj.fromLonLat([parseFloat(i.coords.longitude),parseFloat(i.coords.latitude)]);e.marker.getGeometry().setCoordinates(o),n&&t.map.getView().animate({center:o},{zoom:t.workspace.locale.maxZoom}),n=!1}},t=>{console.error(t)},{}))},active:!1,marker:new t.mapview.lib.Feature({geometry:new t.mapview.lib.geom.Point([0,0])})};return e},Vp=t=>(function(e){const n=new t.mapview.lib.format.GeoJSON,i=new t.mapview.lib.source.Vector({features:[n.readFeature({type:"Feature",geometry:e.geometry},{dataProjection:"EPSG:"+e.dataProjection||!1,featureProjection:"EPSG:"+e.featureProjection||!1})]}),o=new t.mapview.lib.layer.Vector({source:i,zIndex:20,style:e.style});return t.map.addLayer(o),o}),qp=t=>{return{create:function(e){this.node&&this.node.remove(),this.node=t.utils.wire()`<div class="popup">`,this.node.addEventListener("mousemove",t=>t.stopPropagation()),this.node.appendChild(e.content),this.overlay&&t.map.removeOverlay(this.overlay);this.overlay=new t.mapview.lib.Overlay({element:this.node,positioning:"bottom-center",autoPan:!0,autoPanAnimation:{duration:250}}),t.map.addOverlay(this.overlay),this.overlay.setPosition(e.coords)}}},Up=t=>(function(e){const n=t.map.getEventPixel(e),i=t.map.getFeaturesAtPixel(n,{layerFilter:e=>Object.values(t.layers.list).some(t=>t.qID&&t.style&&t.style.highlight&&t.L===e),hitTolerance:0});if(!i)return t.mapview.clearHighlight();t.mapview.highlight.feature!==i[0]&&(t.mapview.clearHighlight(),t.map.forEachFeatureAtPixel(n,(e,n)=>{if(e===i[0])return t.mapview.highlight.layer=n.get("layer"),t.mapview.highlight.feature=e,t.mapview.highlight.layer.highlight=e.get("id"),t.mapview.node.style.cursor="pointer",t.mapview.highlight.layer.hover&&t.mapview.highlight.layer.hover.field&&t.mapview.highlight.layer.infotip(),t.mapview.highlight.layer.L.setStyle(t.mapview.highlight.layer.L.getStyle())},{layerFilter:e=>Object.values(t.layers.list).some(t=>t.qID&&t.style&&t.style.highlight&&t.L===e),hitTolerance:0}))}),Xp=t=>(function(e){t.mapview.popup.overlay&&t.map.removeOverlay(t.mapview.popup.overlay),t.mapview.highlight.layer&&t.mapview.highlight.feature&&t.mapview.highlight.layer.select(e,t.mapview.highlight.feature)}),Kp=t=>{return{begin:function(e){t.mapview.draw.drawend=e.drawend,n(),e.begin&&e.begin(),t.mapview.draw.callback=e.callback,t.mapview.draw.layer=e.layer,t.mapview.draw.layer.display||t.mapview.draw.layer.show();t.mapview.node.style.cursor="crosshair",t.map.un("click",t.mapview.select),t.mapview.node.removeEventListener("mousemove",t.mapview.pointerMove),t.mapview.draw.vertices=[],t.mapview.draw.sourceVector=new t.mapview.lib.source.Vector,t.mapview.draw.layerVector=new t.mapview.lib.layer.Vector({source:t.mapview.draw.sourceVector}),t.map.addLayer(t.mapview.draw.layerVector),t.mapview.draw.interaction=new t.mapview.lib.interaction.Draw({source:t.mapview.draw.sourceVector,geometryFunction:e.geometryFunction,type:e.type,condition:e=>{if(1===e.pointerEvent.buttons)return t.mapview.draw.vertices.push(e.coordinate),t.mapview.popup.node&&t.mapview.popup.node.remove(),!0}}),t.mapview.draw.interaction.on("drawstart",()=>t.mapview.draw.sourceVector.clear()),t.mapview.draw.drawend&&t.mapview.draw.interaction.on("drawend",t.mapview.draw.drawend),t.map.addInteraction(t.mapview.draw.interaction),t.mapview.node.addEventListener("contextmenu",i)},finish:n,update:e};function e(){const e=t.mapview.draw.sourceVector.getFeatures(),i=new t.mapview.lib.format.GeoJSON,o=JSON.parse(i.writeFeature(e[0],{dataProjection:"EPSG:"+t.mapview.draw.layer.srid,featureProjection:"EPSG:"+t.mapview.srid})),r=new XMLHttpRequest;r.open("POST",t.host+"/api/location/edit/draw?"+t.utils.paramString({locale:t.workspace.locale.key,layer:t.mapview.draw.layer.key,table:t.mapview.draw.layer.table,token:t.token})),r.setRequestHeader("Content-Type","application/json"),r.onload=e=>{200===e.target.status&&(t.mapview.draw.layer.reload(),t.locations.select({layer:t.mapview.draw.layer.key,table:t.mapview.draw.layer.table,id:e.target.response}))},r.send(JSON.stringify({geometry:o.geometry})),n()}function n(){t.mapview.popup.node&&t.mapview.popup.node.remove(),t.mapview.draw.sourceVector&&t.mapview.draw.sourceVector.clear(),t.mapview.draw.layerVector&&t.map.removeLayer(t.mapview.draw.layerVector),t.mapview.node.style.cursor="auto",t.mapview.node.removeEventListener("contextmenu",i),t.mapview.draw.interaction&&t.map.removeInteraction(t.mapview.draw.interaction),t.map.on("click",t.mapview.select),t.mapview.node.addEventListener("mousemove",t.mapview.pointerMove),t.mapview.draw.callback&&t.mapview.draw.callback()}function i(i){if(0===t.mapview.draw.vertices.length)return;i.preventDefault();const o=t.utils.wire()`<ul class="context">`,r=t.mapview.draw.sourceVector.getFeatures();r.length&&o.appendChild(t.utils.wire()`<li onclick=${e}>Save</li>`),r.length||o.appendChild(t.utils.wire()`<li onclick=${e=>{t.mapview.draw.interaction.removeLastPoint(),t.mapview.draw.vertices.pop(),t.mapview.popup.node&&t.mapview.popup.node.remove()}}>Remove last vertice</li>`),o.appendChild(t.utils.wire()`<li onclick=${n}>Cancel</li>`),t.mapview.popup.create({coords:t.mapview.draw.vertices[t.mapview.draw.vertices.length-1],content:o})}},Jp=t=>(function(e){const n=t.map.getView().calculateExtent();if(!e)return{south:n[1],west:n[0],north:n[3],east:n[2]};const i=t.mapview.lib.proj.transformExtent(n,"EPSG:"+t.mapview.srid,"EPSG:"+e);return{south:i[1],west:i[0],north:i[3],east:i[2]}}),Zp=t=>(function(e){return e.type&&"circle"===e.type?new t.mapview.lib.style.Circle({radius:parseInt(e.radius)||10,fill:e.fillColor&&new t.mapview.lib.style.Fill({color:t.utils.chroma(e.fillColor).alpha(0===e.fillOpacity?0:parseFloat(e.fillOpacity)||1).rgba()}),stroke:e.strokeColor&&new t.mapview.lib.style.Stroke({color:t.utils.chroma(e.strokeColor).alpha(0===e.strokeColor?0:parseFloat(e.strokeOpacity)||1).rgba(),width:parseInt(e.strokeWidth)||1})}):(e.type&&(e.url=t.utils.svg_symbols(e)),new t.mapview.lib.style.Icon({src:e.url,scale:e.scale||1,anchor:e.anchor||[.5,.5]}))}),$p=t=>(function(){t.mapview.infotip.node&&t.mapview.infotip.node.remove(),t.mapview.highlight.layer&&(t.mapview.highlight.layer.highlight=!0,t.mapview.node.style.cursor="auto",t.mapview.highlight.layer.L.setStyle(t.mapview.highlight.layer.L.getStyle()),t.mapview.highlight={})}),Qp=t=>{return{create:function(e){this.node&&this.node.remove();this.node=t.utils.wire()`<div class="infotip">${e}`,t.mapview.node.appendChild(this.node),this.position()},position:function(){this.node.style.opacity=1,this.node.style.left=t.mapview.pointerLocation.x-this.node.offsetWidth/2+"px",this.node.style.top=t.mapview.pointerLocation.y-15-this.node.offsetHeight+"px"}}},tf=t=>{return{_ZoomIn:function(e,n){t.mapview.btn.ZoomIn=e,e.disabled=n>=t.workspace.locale.maxZoom,e.onclick=()=>{let n=parseInt(t.map.getView().getZoom()+1);t.map.getView().setZoom(n),e.disabled=n>=t.workspace.locale.maxZoom},t.mapview.node.addEventListener("changeEnd",()=>{if(t.map.getView().getZoom()>=t.workspace.locale.maxZoom)return e.disabled=!0;e.disabled=!1})},_ZoomOut:function(e,n){t.mapview.btn.ZoomOut=e,e.disabled=n<=t.workspace.locale.minZoom,e.onclick=()=>{let n=parseInt(t.map.getView().getZoom()-1);t.map.getView().setZoom(n),e.disabled=n<=t.workspace.locale.minZoom},t.mapview.node.addEventListener("changeEnd",()=>{if(t.map.getView().getZoom()<=t.workspace.locale.minZoom)return e.disabled=!0;e.disabled=!1})},_Locate:function(e){t.mapview.btn.Locate=e,e.style.display=t.workspace.locale.locate?"block":"none",e.onclick=()=>{t.mapview.locate.toggle(),e.classList.toggle("active")},t.workspace.locale.locate&&t.workspace.locale.locate.default&&e.click()}}},ef=t=>({create:Gp(t),changeEndEvent:new CustomEvent("changeEnd"),attribution:Wp(t),locate:Bp(t),select:Xp(t),pointerMove:Up(t),highlight:{},clearHighlight:$p(t),popup:qp(t),infotip:Qp(t),geoJSON:Vp(t),draw:Kp(t),icon:Zp(t),getBounds:Jp(t),flyToBounds:e=>{t.map.getView().fit(e[0].getGeometry(),{duration:1e3})},getZoom:()=>t.map.getView().getZoom(),btn:tf(t)});async function nf(t){const e=r();return e.utils=i,e.mapview={lib:zp()},Object.assign(e.mapview,ef(e)),e.layers=Object.assign({},Dt(e),{format:jt(e)}),e.locations=xe(e),e.geom=Ce(e),e.ctrl=Ye(e),e.tableview=Ne(e),e.workspace=it(e),t.hooks&&ot(e),e.gazetteer=lt(e),e.host=t.host,e.host?(e.nanoid=t.nanoid,e.log=t.log&&"true"===t.log,t.token&&(e.token=t.token),t.callback?e.workspace.setWS(t):(await e.workspace.fetchWS(),t.locale&&e.workspace.loadLocale(t),e)):console.error("XYZ host not defined!")}window._xyz=nf;e.default=nf},,function(t,e,n){"use strict";n.r(e);var i=n(4);var o=function(t){var e=[1/0,1/0,-1/0,-1/0];return Object(i.coordEach)(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e},r=n(2);e.default=function(t,e){if(e=e||{},!Object(r.isObject)(e))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var i=o(t),a=(i[0]+i[2])/2,s=(i[1]+i[3])/2;return Object(r.point)([a,s],n)}},function(t,e,n){"use strict";function i(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=function t(e){var n={};if(!e)return n;Object.keys(e).forEach(function(i){var o=e[i];"object"==typeof o?null===o?n[i]=null:o.length?n[i]=o.map(function(t){return t}):n[i]=t(o):n[i]=o});return n}(t.properties),e.geometry=o(t.geometry),e}function o(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return o(t)}),e):(e.coordinates=function t(e){if("object"!=typeof e[0])return e.slice();return e.map(function(e){return t(e)})}(t.coordinates),e)}n.r(e);var r=function(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return i(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return i(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return o(t);default:throw new Error("unknown GeoJSON type")}},a=n(15),s=n(4);e.default=function(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,i=1/0;return Object(s.featureEach)(e,function(e,o){var s=Object(a.default)(t,e);s<i&&((n=r(e)).properties.featureIndex=o,n.properties.distanceToPoint=s,i=s)}),n}}])});
//# sourceMappingURL=xyz_openlayers.js.map