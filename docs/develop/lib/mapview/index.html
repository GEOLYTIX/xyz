<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="https://geolytix.github.io/xyz/public/icons/favicon.ico">
  <title>Mapview</title>
  <style>

    body {
      margin: 0;
      padding: 0;
    }

    .grid {
      font-family: system-ui;
      display:grid;
      grid-template-columns: 200px 5fr;
      max-width: 1100px;
      margin: auto;
      padding: 0 30px;
    }

    #toggle {
        display: none;
    }

    #toggle:hover {
      cursor: pointer;
    }

    #nav {
      grid-column: 1;
      padding-inline-start: 0px;
      list-style-type: none;
      padding-right: 20px;
      margin: 10px 0;
      position: fixed;
    }

    #nav > *:first-child {
      line-height: 1;
      font-size: 30px;
      font-weight: bold;
    }

    #content {
      grid-column: 2;
      padding-left: 20px;
      border-left: 1px solid #ddd;
      margin: 10px 0;
      overflow: hidden;
    }

    #content > *:first-child {
      margin: 0;
    }

    .active {
      font-weight: bold;
    }

    a {
      text-decoration: none;
      white-space: nowrap;
      color: #333;
    }

    h1, h2, h3 {
      margin-bottom: 0.5em;
    }

    p {
      margin-top: 0.5em;
      line-height: 1.5;
    }

    li {
      line-height: 1.5;
    }

    li.__0 {
      padding-left: 0;
    }

    li.__1 {
      padding-left: 0;
    }

    li.__2 {
      padding-left: 0;
    }

    li.__3 {
      padding-left: 20px;
    }

    li.__4 {
      padding-left: 40px;
    }

    pre {
      display: block;
      font-family: monospace;
      white-space: pre;
      margin: 1em 2px;
      padding: 15px;
      box-shadow: 0 0 2px #555;
      overflow-x: auto;
      background-color: #f0f0f0;
    }

    code {
      font-family: monospace;
      background-color: #f0f0f0;
    }

    *:not(pre) > code {
      padding: 5px;
    }

    #content a {
      color: #090;
    }

    #content img {
      max-width: 100%;
      display: block;
      margin: 0 auto;
    }

    @media only screen and (max-width: 700px) {
      .grid {
        grid-template-columns: 0 1fr;
        padding: 0 0 0 40px;
      }

      #toggle {
        display: block;
        position: fixed;
        top: 10px;
        left: 10px;        
        width: 20px;
        height: 30px;
        background: repeating-linear-gradient(#ddd, #fff 10px);
      }

      #nav {
        display: none;
      }

      #content {
        border-left: none;
        padding: 0 20px 0 1px;
        overflow: hidden;
      }
    }

    .show_nav {
      grid-template-columns: 1fr 2fr;
    }

    .show_nav > #nav {
      display: block;
    }

    .show_nav > #content * {
      font-size: 30%;
      padding: 0;
      overflow: hidden;
    }
  </style>

</head>

<body>

  <div class="grid">

    <div id="toggle"></div>

    <ul id="nav">
      
      
      
      <li class="__1 ">
        <a href="/xyz/docs/">XYZ</a>
      </li>
      
      
      
      
      
      <li class="__1 ">
        <a href="/xyz/docs/develop/">Develop</a>
      </li>
      
      
      
      <li class="__2 ">
        <a href="/xyz/docs/develop/api/">API</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/api/gazetteer/">Gazetteer</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/api/layer/">Layer</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/api/location/">Location</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/api/provider/">Provider</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/api/proxy/">Proxy</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/api/query/">Query</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/api/user/">User</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/api/view/">View</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/api/workspace/">Workspace</a>
      </li>
      
      
      
      <li class="__2 ">
        <a href="/xyz/docs/develop/design/">Design</a>
      </li>
      
      
      
      <li class="__2 ">
        <a href="/xyz/docs/develop/lib/library/">Library</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/lib/dataviews/">Dataviews</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/lib/layers/">Layers</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/lib/locations/">Locations</a>
      </li>
      
      
      
      <li class="__3 active">
        <a href="/xyz/docs/develop/lib/mapview/">Mapview</a>
      </li>
      
      
      
      <li class="__4 ">
        <a href="/xyz/docs/develop/lib/mapview/interactions/">Interactions</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/lib/plugins/">Plugins</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/lib/queries/">Queries</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/develop/lib/webpack/">Webpack</a>
      </li>
      
      
      
      <li class="__2 ">
        <a href="/xyz/docs/develop/security/authentication/">Authentication</a>
      </li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      

    </ul>

    <div id="content">
      <h1>Mapview</h1>
<p>Mapview methods relate to the Openlayers map object.</p>
<h2>.create(params)</h2>
<p>Will create an Openlayers map object will be assigned to _xyz.map. Params provided to the Mapview create method will be assigned to the locale object. It is therefore possible to override the initial view, bounds, and other locale entries for a mapview.</p>
<p>Layers with display as true in the layers.list will be immediately added to the map and shown.</p>
<p>A <strong>changeEnd</strong> event listener will update the viewport URL hooks if enabled and check the layers list. Layers which should be displayed at the current zoom level at the end of a map view change event will be reloaded. The changeEnd event will be called after the map view changes due to panning or a change of zoom level. Interactions will be disabled at the beginning of a map view change event.</p>
<pre><code class="language-javascript">xyz.mapview.create({
  target: document.getElementById('Map'),
  attribution: {
    target: document.getElementById('Attribution'),
    links: {
      [`XYZ v${xyz.version}`]: 'https://geolytix.github.io/xyz',
      Openlayers: 'https://openlayers.org'
    }
  },
  scrollWheelZoom: true,
})
</code></pre>
<p>With an <strong>attribution</strong> object defined in the create parameters the mapview.attribution module will be called to create a list of links in the attribution target. Links defined within the attribution object will always be shown. An attribution.check method will be run whenever layers are toggled. Links defined as attribution object in the layer configuration will be shown when the layer is visible.</p>
<h3>view</h3>
<p>A view will be set to lng, lat, and z defined as a view object. The view object will be created from the current viewport hooks if enabled.</p>
<h3>bounds</h3>
<p>The extent of the map view will be limited to the west, south, east, and north defined in a bounds object.</p>
<h3>maskBounds</h3>
<p>The area which falls outside the bounds will be masked if set as true.</p>
<h3>minZoom, maxZoom</h3>
<p>If set the map view will be limited to these zoom levels.</p>
<h3>srid</h3>
<p>The map view projection. Defaults to EPSG:3857 if not explicitly set.</p>
<h3>mouseWheelZoom</h3>
<p>Allows for pinch and mousewheel zoom if set as true.</p>
<h3>showScaleBar</h3>
<p>A scalebar will be displayed within the map container if set as true.</p>
<h2>.getBounds()</h2>
<p>Returns the current bounds of the map view.</p>
<h2>.flyTo(extent, params)</h2>
<p>Set the map view to the provided extent with an animation for the change between views.</p>

    </div>

  </div>

</body>

<script>
    const toggle = document.getElementById('toggle');

    toggle.onclick = e => { e.target.parentElement.classList.toggle('show_nav'); };
</script>

</html>