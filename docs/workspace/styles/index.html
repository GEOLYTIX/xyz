<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="https://geolytix.github.io/xyz/public/icons/favicon.ico">
  <link href="https://unpkg.com/prismjs@1.20.0/themes/prism-okaidia.css" rel="stylesheet">
  <title>Styles</title>
  <style>

    body {
      margin: 0;
      padding: 0;
    }

    .header-anchor {
      font-size: 80%;
    }

    .grid {
      font-family: system-ui;
      display:grid;
      grid-template-columns: 200px 5fr;
      max-width: 1100px;
      margin: auto;
      padding: 0 30px;
    }

    #toggle {
        display: none;
    }

    #toggle:hover {
      cursor: pointer;
    }

    #nav {
      grid-column: 1;
      padding-inline-start: 0px;
      list-style-type: none;
      padding-right: 20px;
      margin: 3px 0;
      position: fixed;
    }

    #nav > *:first-child {
      line-height: 1;
      font-size: 30px;
      font-weight: bold;
    }

    #content {
      grid-column: 2;
      padding-left: 20px;
      border-left: 1px solid #ddd;
      margin: 10px 0;
      overflow: hidden;
      padding-bottom: 100%;
    }

    #content > *:first-child {
      margin: 0;
    }

    .active {
      font-weight: bold;
    }

    a {
      text-decoration: none;
      white-space: nowrap;
      color: #333;
    }

    h1, h2, h3 {
      margin-bottom: 0.5em;
    }

    p {
      margin-top: 0.5em;
      line-height: 1.5;
    }

    li {
      line-height: 1.5;
    }

    li.__0 {
      padding-left: 0;
    }

    li.__1 {
      padding-left: 0;
    }

    li.__2 {
      padding-left: 0;
    }

    li.__3 {
      padding-left: 20px;
    }

    li.__4 {
      padding-left: 40px;
    }

    pre {
      display: block;
      font-family: monospace;
      white-space: pre;
      margin: 1em 2px;
      padding: 15px;
      box-shadow: 0 0 2px #555;
      overflow-x: auto;
      background-color: #f0f0f0;
    }

    code {
      font-family: monospace;
      background-color: #f0f0f0;
    }

    *:not(pre) > code {
      padding: 5px;
    }

    #content a {
      color: #090;
    }

    #content img {
      max-width: 100%;
      display: block;
      margin: 0 auto;
    }

    @media only screen and (max-width: 700px) {
      .grid {
        grid-template-columns: 0 1fr;
        padding: 0 0 0 40px;
      }

      #toggle {
        display: block;
        position: fixed;
        top: 10px;
        left: 10px;        
        width: 20px;
        height: 30px;
        background: repeating-linear-gradient(#ddd, #fff 10px);
      }

      #nav {
        display: none;
      }

      #content {
        border-left: none;
        padding: 0 20px 0 1px;
        overflow: hidden;
      }
    }

    .show_nav {
      grid-template-columns: 1fr 2fr;
    }

    .show_nav > #nav {
      display: block;
    }

    .show_nav > #content * {
      font-size: 30%;
      padding: 0;
      overflow: hidden;
    }
  </style>

</head>

<body>

  <div class="grid">

    <div id="toggle"></div>

    <ul id="nav">
      
      
      
      <li class="__1 ">
        <a href="/xyz/docs/">XYZ</a>
      </li>
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li class="__1 ">
        <a href="/xyz/docs/workspace/workspaces/">Workspace</a>
      </li>
      
      
      
      <li class="__2 ">
        <a href="/xyz/docs/workspace/dataviews/">Dataviews</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/workspace/dataviews/charts/">Charts</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/workspace/dataviews/tables/">Tables</a>
      </li>
      
      
      
      <li class="__2 ">
        <a href="/xyz/docs/workspace/layer/">Layer</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/workspace/layer/cluster/">Cluster</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/workspace/layer/editing/">Layer editing</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/workspace/layer/geojson/">GeoJson</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/workspace/layer/grid/">Hex Grid</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/workspace/layer/mvt/">MVT</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/workspace/layer/themes/">Themes</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/workspace/layer/tile/">Tile Layer</a>
      </li>
      
      
      
      <li class="__2 ">
        <a href="/xyz/docs/workspace/locales/">Locale</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/workspace/locales/gazetteer/">Gazetteer</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/workspace/locales/plugins/">Plugins</a>
      </li>
      
      
      
      <li class="__3 ">
        <a href="/xyz/docs/workspace/locations/geometry/">Geometry</a>
      </li>
      
      
      
      <li class="__2 ">
        <a href="/xyz/docs/workspace/locations/infoj/">Location</a>
      </li>
      
      
      
      <li class="__2 ">
        <a href="/xyz/docs/workspace/roles/">Roles</a>
      </li>
      
      
      
      <li class="__2 ">
        <a href="/xyz/docs/workspace/src/">Source Links</a>
      </li>
      
      
      
      <li class="__2 active">
        <a href="/xyz/docs/workspace/styles/">Styles</a>
      </li>
      
      
      
      <li class="__2 ">
        <a href="/xyz/docs/workspace/templates/">Templates</a>
      </li>
      
      

    </ul>

    <div id="content">
      <h1 id="styles">Styles <a class="header-anchor" href="#styles">¶</a></h1>
<p>Style define how geometries are drawn in the map. Style objects inherit values. This means that a highlight or theme style only needs to define the style elements which should be amended to or overwrite the default style.</p>
<h3 id="mvt-and-geojson-styling">MVT and GeoJSON styling <a class="header-anchor" href="#mvt-and-geojson-styling">¶</a></h3>
<p>The snippet below is an example of styling for layers mvt and geojson. It is most common for these layer formats to represent polygon and linestring features although they can also contain points.</p>
<pre class="language-json"><code class="language-json"><span class="token property">"style"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>  <span class="token property">"default"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"strokeColor"</span><span class="token operator">:</span> <span class="token string">"#004BA8"</span><span class="token punctuation">,</span><br>    <span class="token property">"fillColor"</span><span class="token operator">:</span> <span class="token string">"#ffffff"</span><span class="token punctuation">,</span><br>    <span class="token property">"fillOpacity"</span><span class="token operator">:</span> <span class="token number">0.8</span><span class="token punctuation">,</span><br>    <span class="token property">"strokeWidth"</span><span class="token operator">:</span> <span class="token number">1</span><br><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"marker"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"circle"</span><span class="token punctuation">,</span><br>    <span class="token property">"strokeColor"</span><span class="token operator">:</span> <span class="token string">"#083D77"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"highlight"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"strokeColor"</span><span class="token operator">:</span> <span class="token string">"#ff69b4"</span><span class="token punctuation">,</span><br>    <span class="token property">"strokeWidth"</span><span class="token operator">:</span> <span class="token number">2</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p><code>&quot;marker&quot;</code> is an optional setting which applies in case of point features displayed on MVT and GeoJSON layers. For more details of marker-style settings check section on Icons.</p>
<p>Style object also supports <code>zIndex</code> property which modifies the drawing order of the layer.<br>
For most layers default <code>zIndex</code> is 1 while for cluster layers it equals to 10.</p>
<p>By default cluster layers are drawn on <code>&quot;zIndex: 10&quot;</code>. In order to set custom <code>&quot;zIndex&quot;</code> add the following to the layer style settings:</p>
<pre class="language-json"><code class="language-json"><span class="token property">"style"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>  <span class="token property">"zIndex"</span><span class="token operator">:</span> <span class="token number">25</span><br><span class="token punctuation">}</span><br><span class="token comment">// tile layer will be drawn on zIndex: 25.</span></code></pre>
<h3 id="cluster-styling">Cluster styling <a class="header-anchor" href="#cluster-styling">¶</a></h3>
<p>Cluster features inherit their style from style.default object.<br>
Default marker size is 20, default scale equals to 1.</p>
<p>Cluster scale defaults to 1.2 and highlight scale defaults to 1.3.</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"default"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"target"</span><span class="token punctuation">,</span><br>    <span class="token property">"fillColor"</span><span class="token operator">:</span> <span class="token string">"#cddc39"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"cluster"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"fillColor"</span><span class="token operator">:</span> <span class="token string">"#ff9800"</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>Cluster of location inherits default settings and takes scaled size unless overridden.</p>
<p>Here's an example of inherited styles:</p>
<pre class="language-json"><code class="language-json"><span class="token property">"style"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>  <span class="token property">"default"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"showInHeader"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"target"</span><span class="token punctuation">,</span><br>    <span class="token property">"fillColor"</span><span class="token operator">:</span> <span class="token string">"#ffb300"</span><span class="token punctuation">,</span><br>    <span class="token property">"size"</span><span class="token operator">:</span> <span class="token number">30</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"cluster"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"dot"</span><span class="token punctuation">,</span><br>    <span class="token property">"fillColor"</span><span class="token operator">:</span> <span class="token string">"rgba(0, 75, 168, 0.3)"</span><span class="token punctuation">,</span><br>    <span class="token property">"scale"</span><span class="token operator">:</span> <span class="token number">2</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"highlight"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"scale"</span><span class="token operator">:</span> <span class="token number">2.1</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>Please note that <code>&quot;size&quot;</code> defined inside <code>&quot;cluster&quot;</code> object is a maximum size of cluster icon.</p>
<p><code>&quot;showInHeader&quot;</code> is an optional flag which shows default icon in the layer panel to help differentiating layers in the list.</p>
<p>Supported types of markers:</p>
<ul>
<li>svg</li>
<li>target</li>
<li>triangle</li>
<li>square</li>
<li>semiCircle</li>
<li>dot</li>
<li>markerColor</li>
<li>markerLetter</li>
<li>geo</li>
</ul>
<h2 id="icons">Icons <a class="header-anchor" href="#icons">¶</a></h2>
<p>Icons can be defined as marker to represent a point location in the rendered map.</p>
<pre class="language-json"><code class="language-json"><span class="token property">"style"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>  <span class="token property">"default"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"svg"</span><span class="token operator">:</span> <span class="token string">"https://cdn.jsdelivr.net/gh/GEOLYTIX/mapicons/coffee/bean_blue.svg"</span><span class="token punctuation">,</span><br>    <span class="token property">"anchor"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>      <span class="token number">0.5</span><span class="token punctuation">,</span><br>      <span class="token number">0.95</span><br>    <span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token property">"scale"</span><span class="token operator">:</span> <span class="token number">2</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><span class="token comment">/* scale is optional */</span></code></pre>
<h2 id="labels">Labels <a class="header-anchor" href="#labels">¶</a></h2>
<p>Label for locations on cluster or MVT layer are created as a seperate layer to make use of Openlayers declutter capability to prevent overlapping map labels. The label itself is created as an <a href="https://openlayers.org/en/latest/apidoc/module-ol_style_Text.html">Openlayers Text object</a>.</p>
<p>The entries in the label object will be assigned to the text style. '12px sans-serif' will be the default is not explicitly set.</p>
<p>The field defines which location field will be shown as the location's label.</p>
<pre class="language-json"><code class="language-json"><span class="token property">"label"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>  <span class="token property">"field"</span><span class="token operator">:</span> <span class="token string">"store_name"</span><span class="token punctuation">,</span><br>  <span class="token property">"declutter"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>  <span class="token property">"strokeColor"</span><span class="token operator">:</span> <span class="token string">"#ffffff"</span><span class="token punctuation">,</span><br>  <span class="token property">"strokeWidth"</span><span class="token operator">:</span> <span class="token number">3</span><br><span class="token punctuation">}</span></code></pre>
<p>In order to display labels by default add <code>&quot;display&quot;: true</code>.<br>
To include count on clustered features add <code>&quot;count&quot;: true</code>.</p>
<h2 id="hide-the-style-panel">Hide the style panel <a class="header-anchor" href="#hide-the-style-panel">¶</a></h2>
<p>Setting a flag <code>hidden=true</code> in the style configuration will hide the style panel in the layer view. A legend will still be shown for a theme but the theme can not be changed with the hidden flag.</p>

    </div>

  </div>

</body>

<script>
    const toggle = document.getElementById('toggle');

    toggle.onclick = e => { e.target.parentElement.classList.toggle('show_nav'); };
</script>

</html>