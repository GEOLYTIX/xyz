const { readFileSync } = await import('fs');

/**
 * @type {import('fs').readFileSync}
 */
const readFileSyncFn = codi.mock.fn(readFileSync);

codi.mock.module('fs', {
  namedExports: {
    readFileSync: readFileSyncFn,
  },
});

/**
 * A globally exposed mock function for the fs.readFileSync module.
 * @global
 * @type {import('fs').readFileSync}
 */
globalThis.readFileSyncFn = readFileSyncFn;
